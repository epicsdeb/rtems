2011-07-24	Joel Sherrill <joel.sherrilL@OARcorp.com>

	PR 1839/filesystem
	* libcsupport/include/rtems/libio_.h, libcsupport/src/fchdir.c,
	libcsupport/src/fdatasync.c, libcsupport/src/fpathconf.c,
	libcsupport/src/fsync.c, libcsupport/src/read.c,
	libcsupport/src/readv.c, libcsupport/src/write.c,
	libcsupport/src/writev.c: Some calls did not return proper status for
	permission errors or incorrectly permissions at all.

2011-07-19	Joel Sherrill <joel.sherrilL@OARcorp.com>

	PR 1838/filesystem
	* libcsupport/src/fchmod.c: fchmod() does not need a writeable file
	descriptor.

2011-07-14      Gene Smith <gene.smith@siemens.com>

	PR 1381/networking
	* netinet/ip_output.c: If a null or unreachable gateway is
	specified either statically in networkconfig.h or from dhcp/bootp,
	sendto() fails on multicast send with errno "118 Host is unreachable".
	The failure occurs in networking file ip_output.c since it currently
	requires all multicasts to have a valid route to the outside world.

2011-06-10	Joel Sherrill <joel.sherrilL@OARcorp.com>

	PR 1812/filesystem
	* libfs/src/imfs/imfs_stat.c: stat() implementation for IMFS did not
	set st_blksize field. Set it based upon user configuration.

2011-04-04	Sebastien Bourdeauducq <sebastien.bourdeauducq@gmail.com>

	PR 1722/networking
	* ftpd/ftpd.c: FTPD fails to parse correctly FTP commands relating to
	filenames with spaces in them.

2011-03-08	Joel Sherrill <joel.sherrilL@OARcorp.com>

	PR 1759/cpukit
	* posix/src/cancel.c, posix/src/pthreaddetach.c,
	posix/src/pthreadequal.c, posix/src/pthreadgetschedparam.c,
	posix/src/pthreadjoin.c, posix/src/pthreadkill.c: Some POSIX pthread
	services did not support using Classic API Task Ids.

2011-03-03	Chris Johns <chrisj@rtems.org>

	PR 1749/filesystem
	* libcsupport/src/mknod.c: Fix the incorrect handling of the file type
	in the mode value o reject invalid types as per the standard.

2011-01-21	Eric Norum <wenorum@lbl.gov>

	* libmisc/capture/capture.c: Avoid using TCB of task just deleted.

2010-11-16	Joel Sherrill <joel.sherrilL@OARcorp.com>

	PR 1718/cpukit
	* sapi/include/confdefs.h: POSIX threads are allocated twice the
	minimum stack space by default. confdefs.h only accounts for one
	minimum -- not the 2x factor.

2010-11-16	Joel Sherrill <joel.sherrilL@OARcorp.com>

	PR 1717/cpukit
	* libcsupport/src/gxx_wrappers.c: Free memory on error.

2010-08-27	Joel Sherrill <joel.sherrilL@OARcorp.com>

	PR 1693/filesystem
	* libfs/src/imfs/memfile.c: IMFS_memfile_get_block_pointer() was
	checking incorrect pointer and thus had dead code.

2010-08-27	Joel Sherrill <joel.sherrilL@OARcorp.com>

	PR 1692/filesystem
	* libcsupport/include/rtems/libio.h, libfs/src/imfs/imfs_eval.c: Fix
	implementation and use of rtems_libio_is_valid_perms().

2010-06-21	Peter Dufault <dufault@hda.com>

	PR 1570/cpukit
	* posix/src/semtimedwait.c: This routine is supposed to return -1/errno
	NOT the status directly.

2010-06-21	Joel Sherrill <joel.sherrilL@OARcorp.com>

	PR 1554/cpukit
	Coverity Id 17
	* libi2c/libi2c.c: Fix memory leak on error.

2010-03-17	Chris Johns <chrisj@rtems.org>

	* libfs/src/dosfs/msdos_create.c: Fix the date/time call order to
	'msdos_date_unix2dos'.

2009-12-11	Glenn Humphrey <glenn.humphrey@OARcorp.com>

	PR 1481/cpukit
	* rtems/src/ratemonperiod.c: Moved check for cpu usage being smaller
	than when period initiated.

2009-12-10	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1482
	* posix/src/timersettime.c: Exit dispatching critical section.

2009-12-10	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1480/cpukit
	* rtems/src/ratemonperiod.c: Use _Rate_monotonic_Update_statistics()
	when period is expired, not _Rate_monotonic_Initiate_statistics().
	The cound of missed periods was never updated.

2009-12-07	Cindy Cicalese <cicalese@mitre.org>

	PR 1477/cpukit
	* score/src/objectsetname.c: Ensure destination is NULL terminated.
	String copy was not getting the NULL.

2009-11-11	Jennifer Averett <jennifer.averett@OARcorp.com>

	PR 1471/cpukit
	* libmisc/cpuuse/cpuusagereport.c: Rework statement to ensure 64-bit
	multiplication is used to avoid overflow with intermediate value.

2009-11-10	Jennifer Averett <jennifer.averett@OARcorp.com>

	PR 1468/cpukit
	* score/src/timespecdividebyinteger.c: Rework statement to ensure
	64-bit multiplication is used.

2009-11-10	Jennifer Averett <jennifer.averett@OARcorp.com>

	PR 1462/cpukit
	* rtems/include/rtems/rtems/ratemon.h, rtems/src/ratemonperiod.c: Fine
	tune previous patch after analysis in application.

2009-10-30	Glenn Humphrey <glenn.humphrey@oarcorp.com>

	PR pr1462/cpukit
	* rtems/include/rtems/rtems/ratemon.h, rtems/src/ratemonperiod.c,
	rtems/src/ratemontimeout.c: Fix bugs in rate monotonic statistics.

2009-10-15	Joel Sherrill <joel.sherrill@OARcorp.com>

	* sapi/include/confdefs.h: Correct type of rtems_malloc_dirty_helper so
	usable.

2009-10-15	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/include/rtems/malloc.h: Correct type of
	rtems_malloc_dirty_helper so usable.

2009-09-15	Ralf Corsépius <ralf.corsepius@rtems.org>

	PR 1441/cpukit
	* libcsupport/src/tcgetprgrp.c: Remove.
	* libcsupport/src/tcgetpgrp.c: New (Renamed from 
	  libcsupport/src/tcgetprgrp.c).
	* libcsupport/Makefile.am: Add libcsupport/src/tcgetpgrp.c.
	  Remove libcsupport/src/tcgetprgrp.c.

2009-06-03	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libcsupport/include/rtems/assoc.h,
	libcsupport/include/rtems/malloc.h: Add extern "C" {} guards.
	* libcsupport/include/rtems/libio_.h: Move extern "C" {} guards.

2009-05-28	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1415/cpukit
	* rtems/src/semcreate.c, rtems/src/semtranslatereturncode.c,
	score/include/rtems/score/coremutex.h,
	score/inline/rtems/score/coremutex.inl, score/src/coremutex.c:
	Address two paths where a task with a priority above the ceiling
	could obtain a priority ceiling mutex.

2009-05-21	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1413/cpukit
	* rtems/src/timerserver.c: Fix bug where server based timers which
	reinitiated themselves did not get reinserted onto timer chain.

2009-05-18	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1412/cpukit
	* score/src/coremutex.c: Add missing braces. Broken with strict mutex
	code added.

2009-05-13	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1411/cpukit
	* rtems/src/workspace.c, score/include/rtems/score/protectedheap.h,
	score/src/pheapgetfreeinfo.c, score/src/pheapgetinfo.c: Improve
	workspace wrapper methods.

2009-04-02	Ralf Corsépius <ralfcorsepius@rtems.org>

	* aclocal/check-rtems-debug.m4: Add missing ','.

2009-03-17	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libblock/src/ide_part_table.c: Fixed NULL pointer access.

2009-03-12	Santosh G Vattam <vattam.santosh@gmail.com>

	PR 1378/filesystem
	* libfs/src/imfs/deviceio.c: IMFS device lseek should return the
	current offset.

2009-03-12	Joel Sherrill <joel.sherrill@OARcorp.com>

	* ftpd/ftpd.h: Add extern C.

2009-03-12	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1393/cpukit
	* posix/src/mutextranslatereturncode.c: Add entry to table for
	CORE_MUTEX_RELEASE_NOT_ORDER.

2009-03-09	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1376/filesystem
	* libcsupport/include/rtems/libio.h, libfs/src/dosfs/fat_file.c,
	libfs/src/dosfs/msdos.h, libfs/src/dosfs/msdos_dir.c,
	libfs/src/dosfs/msdos_file.c, libfs/src/imfs/deviceio.c,
	libfs/src/imfs/imfs.h, libfs/src/imfs/imfs_directory.c,
	libfs/src/imfs/memfile.c, libfs/src/nfsclient/src/nfs.c: lseek
	handlers should return off_t.

2009-03-02	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1388/cpukit
	* rtems/src/semcreate.c: Classic Semaphores allow both priority inherit
	and ceiling attributes to be set on semaphore create. These
	attributes are mutually exclusive and this should be an error.

2009-02-17	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1377/shell
	* libmisc/shell/main_netstats.c: Remove #if 0 which should not have
	been there anyway.

2009-02-11	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1374/misc
	* libmisc/stackchk/check.c: Fix printk formatting string.

2009-02-05	Ralf Corsépius <ralf.corsepius@rtems.org>

	* ftpd/ftpd.c: Change SIX_MONTHS to time_t.

2009-02-04	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libnetworking/lib/ftpfs.c: Enable write and mount filesystem
	with read-write access.

2009-02-04	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/net/if_ppp.h: Eliminate pppattach,  pppintr
	  (Unused).
	* libnetworking/net/if_ppp.c: Eliminate pppintr (Unused).

2009-01-29	 Nickolay Semyonov-Kolchin <nbkolchin@gmail.com>

	PR 1359/cpukit
	* libcsupport/src/libio.c: rtems_libio_allocate:
	rtems_libio_iop_freelist incorrectly zeroed on semaphore error. Now
	checks error and does not modify anything until sure it has created
	semaphore.

2009-01-29	Gene Smith <gene.smith@siemens.com>

	PR 1363/filesystem
	* libfs/src/dosfs/fat.h: Fix issue where 32 bit values are not written
	correctly in FAT f/s data.

2009-01-29	Eric Norum <norume@aps.anl.gov>

	PR 1364/cpukit
	* libcsupport/src/gxx_wrappers.c: Fix compilation problems when
	diagnostics enabled.

2009-01-21	Nickolay Kolchin <nbkolchin@gmail.com>
	        Joel Sherrill <joel.sherrill@oarcorp.com>

	PR 1357/cpukit
	* rtems/src/tasks.c: Ensure creating a task with no ASR is honored.

2009-01-05	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1351/cpukit
	* sapi/include/confdefs.h: Mask off unlimited object bit before using
	configured number in calculations.

2009-01-02	Ralf Corsépius <ralf.corsepius@rtems.org>

	* posix/include/aio.h, posix/src/aio_suspend.c: Make aio_suspend()
	POSIX-compliant.

2008-12-09	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libblock/src/bdbuf.c: Fix typo having crept in during
	  boolean->bool transition.

2008-12-08	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libfs/src/nfsclient/Makefile.am: Remove RTEMS_RELLDFLAGS.
	* aclocal/prog-cc.m4: Add RTEMS_RELLDFLAGS hack.
	* libfs/src/nfsclient/src/dirutils.c: #include <limits.h>.

2008-12-08	Ralf Corsépius <ralf.corsepius@rtems.org>

	* rtems/include/rtems/rtems/clock.h: #include <sys/time.h>
	* librpc/include/rpc/rpcent.h: #include <rpc/types.h>.
	* librpc/include/rpc/xdr.h: #include <rtems/bsd/sys/cdefs.h>.

2008-12-04	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1348/cpukit
	* rtems/src/ratemonperiod.c: Properly handle period statistics after
	cpu usage information is reset while a period is running.

2008-12-03	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1347/cpukit
	* rtems/include/rtems/rtems/timer.h, rtems/src/rtemstimer.c,
	rtems/src/timerreset.c, rtems/src/timerserver.c,
	rtems/src/timerserverfireafter.c, rtems/src/timerserverfirewhen.c,
	score/Makefile.am, score/include/rtems/score/watchdog.h: Rework Timer
	Server to ensure that the context allows for blocking, allocating
	memory, and acquiring semaphores and mutexes.
	* score/src/watchdogadjusttochain.c: New file.

2008-12-03	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1346/cpukit
	* rtems/include/rtems/rtems/ratemon.h: Sense of rate monotonic
	statistics nanoseconds or ticks granularity conditional is backwards.

2008-12-02	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/src/ttyname.c: Correct prototype of ttyname_r() to use
	size_t for third parameter.

2008-12-02	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libmisc/shell/main_cp.c, libmisc/shell/main_ls.c,
	libmisc/shell/main_mv.c, libmisc/shell/main_netstats.c,
	libmisc/shell/main_rm.c, libmisc/shell/shell_script.c: Add #define
	__need_getopt_newlib to enable getopt_r() support in newlib as
	required by 4.10 toolset.

2008-11-24	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1341/cpukit
	* sapi/include/confdefs.h: The following macros were missing
	the _Configure_From_workspace() wrapper on their size estimate:
	  + CONFIGURE_INTERRUPT_STACK_MEMORY
	  + CONFIGURE_MEMORY_PER_TASK_FOR_CLASSIC_API
	  + CONFIGURE_INTERRUPT_VECTOR_TABLE
	  + CONFIGURE_MEMORY_FOR_STATIC_EXTENSIONS
	In addition, there was a duplicate definition of
	CONFIGURE_MEMORY_PER_TASK_FOR_CLASSIC_API.

2008-11-20	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1340/cpukit
	* sapi/inline/rtems/chain.inl: Add rtems_chain_initialize to public
	chain API.

2008-11-13	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1336/cpukit
	* sapi/inline/rtems/chain.inl: Add rtems_chain_prepend_unprotected and
	rtems_chain_append_unprotected.

2008-11-03	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1333/cpukit
	* libcsupport/include/rtems/termiostypes.h: Typo on type name -- should
	be rtems_device_minor_number.

2008-10-15	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1331/networking
	* libmisc/shell/shell.c, telnetd/check_passwd.c, telnetd/telnetd.c,
	telnetd/telnetd.h: Improve comments and explanation of options to
	rtems_telnetd_initialize. Add extra newline to login sequence from
	shell.

2008-10-14	Tim Cussins <timcussins@eml.cc>

	PR 1330/cpukit
	* libcsupport/src/free.c: Should print begin field not start field.

2008-10-02	Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* score/cpu/powerpc/rtems/score/cpu.h: adapt timebase macros to
	support MPC8xx again

2008-10-01	Gene Smith <gene.smith@siemens.com>

	PR 1328/cpukit
	* libmisc/shell/main_mdump.c, libmisc/shell/main_mwdump.c: Fix printing
	of more than 256 bytes.

2008-09-26	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1316/cpukit
	* score/src/coremsgbroadcast.c: Give error when message is too large
	like when sending a message. This was the documented behavior.

2008-09-25	Eric Norum <norume@aps.anl.gov>

	* libnetworking/lib/rtems_bsdnet_ntp.c: Let TCP/IP stack pick port
	rather than hard coding selection.  Correction of 2008-09-23.

2008-09-24	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1326/cpukit
	* libi2c/libi2c.c: Use int for return value when negative values
	possible.

2008-09-24	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/lib/ftpfs.c: Use ssize_t for read retval (Fix
	  comparision of unsigned < 0).

2008-09-23	Eric Norum <norume@aps.anl.gov>

	* libnetworking/lib/rtems_bsdnet_ntp.c: Let TCP/IP stack pick port
	rather than hard coding selection.

2008-09-18	Ralf Corsépius <ralf.corsepius@rtems.org>

	* rtems/include/rtems/rtems/types.h: Do not define rtems_boolean,
	rtems_single, rtems_double unless RTEMS_DEPRECATED_TYPES is given.

2008-09-16	Joel Sherrill <joel.sherrill@OARcorp.com>

	* sapi/include/confdefs.h: Revert previous patch. Does not apply to
	head.

2008-09-16	Gene Smith <gene.smith@siemens.com>

	PR 564/cpukit
	* sapi/include/confdefs.h: Fix incorrect name. Was missed in an earlier
	renaming sweep.

2008-09-10 	Ralf Corsépius <ralf.corsepius@rtems.org>

	* aclocal/prog-cc.m4: Remove pre-production testing CFLAGS.

2008-09-10	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/cpu/c4x/.cvsignore, score/cpu/c4x/ChangeLog,
	score/cpu/c4x/Makefile.am, score/cpu/c4x/cpu.c,
	score/cpu/c4x/cpu_asm.S, score/cpu/c4x/irq.c,
	score/cpu/c4x/preinstall.am, score/cpu/c4x/rtems/asm.h,
	score/cpu/c4x/rtems/score/c4x.h, score/cpu/c4x/rtems/score/cpu.h,
	score/cpu/c4x/rtems/score/cpu_asm.h,
	score/cpu/c4x/rtems/score/types.h, score/cpu/c4x/rtems/tic4x/c4xio.h,
	score/cpu/nios2/.cvsignore, score/cpu/nios2/ChangeLog,
	score/cpu/nios2/Makefile.am, score/cpu/nios2/cpu.c,
	score/cpu/nios2/cpu_asm.S, score/cpu/nios2/irq.c,
	score/cpu/nios2/preinstall.am, score/cpu/nios2/rtems/asm.h,
	score/cpu/nios2/rtems/score/cpu.h,
	score/cpu/nios2/rtems/score/cpu_asm.h,
	score/cpu/nios2/rtems/score/nios2.h,
	score/cpu/nios2/rtems/score/types.h: Removed.

2008-09-10	Joel Sherrill <joel.sherrill@OARcorp.com>

	* configure.ac, aclocal/canonical-target-name.m4,
	score/cpu/Makefile.am: Remove TI C4x and NIOS2 ports from 4.9 branch.

2008-09-08	Joel Sherrill <joel.sherrill@oarcorp.com>

	* sapi/include/confdefs.h: Add debug information for
	per task allocations.
	* score/src/objectextendinformation.c: Do not allocate memory for name
	tables because we do not use name tables any longer.

2008-09-08	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/src/threadinitialize.c: _Stack_Ensure_minimum was being called
	here and in _Thread_Stack_Allocate.

2008-09-08	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/include/rtems/libio_.h, libcsupport/src/libio_sockets.c,
	libfs/src/dosfs/fat.h, libfs/src/dosfs/msdos.h,
	libfs/src/imfs/deviceio.c, libmisc/monitor/mon-monitor.c,
	libmisc/monitor/mon-object.c, libmisc/monitor/mon-symbols.c,
	libmisc/monitor/monitor.h, libmisc/stackchk/internal.h,
	rtems/inline/rtems/rtems/part.inl, score/include/rtems/system.h,
	score/include/rtems/score/bitfield.h, score/src/mpci.c,
	score/src/objectextendinformation.c, score/src/threadmp.c: Remove
	extraneous spaces.

2008-09-08	Ralf Corsépius <ralf.corsepius@rtems.org>

	* pppd/auth.c, pppd/ccp.c, pppd/chap.c, pppd/ipcp.c, pppd/lcp.c,
	pppd/options.c, pppd/upap.c: Add missing initializers.

2008-09-07	Ralf Corsépius <ralf.corsepius@rtems.org>

	* httpd/webrom.c: Add missing initializers.
	* libblock/include/rtems/bdbuf.h, libblock/include/rtems/diskdevs.h,
	libblock/include/rtems/ramdisk.h: Use "#include <..>" to include
	public headers.

2008-09-07	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/netinet/in_cksum_arm.h:
	Stop using old-style function definitions.
	* configure.ac: Remove score/cpu/arm/thumb/Makefile.

2008-09-07	Ralf Corsépius <ralf.corsepius@rtems.org>

	* itron/include/itronsys/types.h: Eliminate "boolean".
	* libmisc/monitor/mon-prmisc.c: Add missing initializers.

2008-09-06	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libblock/include/rtems/ramdisk.h, 
	libfs/src/nfsclient/proto/mount_prot.x: Convert to Unix file format.

2008-09-05	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/include/clockdrv.h: The Shared Memory Driver no longer
	requires the special IOCTL in Clock_control. This was a hack which
	has existed since before the Classic API Timer Manager was
	implemented. All implementations of and references to Clock_control
	were removed.

2008-09-05	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/src/corebarrier.c, score/src/corebarrierrelease.c,
	score/src/corebarrierwait.c, score/src/coremsg.c,
	score/src/coremsgbroadcast.c, score/src/coremsgclose.c,
	score/src/coremsgflush.c, score/src/coremsgflushsupp.c,
	score/src/coremsgflushwait.c, score/src/coremsginsert.c,
	score/src/coremsgseize.c, score/src/coremsgsubmit.c,
	score/src/corerwlock.c, score/src/coresem.c,
	score/src/coresemflush.c, score/src/coresemseize.c,
	score/src/coresemsurrender.c, score/src/corespinlock.c,
	score/src/threadblockingoperationcancel.c,
	score/src/threadqenqueue.c: Remove unnecessary include of mpci.h.

2008-09-05	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/src/msgmp.c, rtems/src/msgqtranslatereturncode.c,
	rtems/src/semmp.c, rtems/src/semtranslatereturncode.c: Correct
	confusion over SuperCore proxy blocking status and Classic API proxy
	blocking status constants.

2008-09-05	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/src/objectgetinfo.c: Correct for multiprocessor systems when
	all object instances within a particular class are remote.

2008-09-05	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/src/assocnamebad.c: Correct file name in message.

2008-09-05	Joel Sherrill <joel.sherrill@OARcorp.com>

	* sapi/include/confdefs.h: Make sure
	CONFIGURE_TIMER_FOR_SHARED_MEMORY_DRIVER is defined to 0 in single
	processor configurations.

2008-09-05	Joel Sherrill <joel.sherrill@oarcorp.com>

	* sapi/include/confdefs.h: Account for needed a Classic API Timer when
	using the Shared Memory MPCI driver.

2008-09-05	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/include/rtems/score/mpci.h,
	score/inline/rtems/score/threadmp.inl, score/src/mpci.c: Eliminate
	dependencies between MP .h files.

2008-09-05	Eric Norum <norume@aps.anl.gov>

	* libfs/src/nfsclient/src/rpcio.c: Correct breakage introduced by Joel
	removing asserts with side-effects.

2008-09-04	Ralf Corsépius <ralf.corsepius@rtems.org>

	* sapi/include/rtems/config.h,
	sapi/inline/rtems/chain.inl,
	sapi/inline/rtems/extension.inl,
	sapi/src/debug.c,
	sapi/src/extension.c,
	sapi/src/ioregisterdriver.c: Convert to "bool".
	* rtems/src/clocktodvalidate.c,
	rtems/src/intrbody.c,
	rtems/src/msgmp.c,
	rtems/src/msgqcreate.c,
	rtems/src/msgqreceive.c,
	rtems/src/partmp.c,
	rtems/src/regionmp.c,
	rtems/src/semmp.c,
	rtems/src/signalsend.c,
	rtems/src/taskcreate.c,
	rtems/src/taskmode.c,
	rtems/src/taskmp.c,
	rtems/src/tasks.c,
	rtems/src/timerserver.c,
	rtems/src/workspace.c: Convert to "bool".
	* rtems/inline/rtems/rtems/asr.inl,
	rtems/inline/rtems/rtems/attr.inl,
	rtems/inline/rtems/rtems/barrier.inl,
	rtems/inline/rtems/rtems/dpmem.inl,
	rtems/inline/rtems/rtems/eventset.inl,
	rtems/inline/rtems/rtems/message.inl,
	rtems/inline/rtems/rtems/modes.inl,
	rtems/inline/rtems/rtems/options.inl,
	rtems/inline/rtems/rtems/part.inl,
	rtems/inline/rtems/rtems/ratemon.inl,
	rtems/inline/rtems/rtems/region.inl,
	rtems/inline/rtems/rtems/sem.inl,
	rtems/inline/rtems/rtems/status.inl,
	rtems/inline/rtems/rtems/support.inl,
	rtems/inline/rtems/rtems/tasks.inl,
	rtems/inline/rtems/rtems/timer.inl: Convert to "bool".
	* rtems/include/rtems/rtems/asr.h,
	rtems/include/rtems/rtems/clock.h,
	rtems/include/rtems/rtems/config.h,
	rtems/include/rtems/rtems/object.h,
	rtems/include/rtems/rtems/sem.h,
	rtems/include/rtems/rtems/support.h: Convert to "bool".
	* score/src/corebarrierwait.c,
	score/src/coremsg.c,
	score/src/coremsginsert.c,
	score/src/coremsgseize.c,
	score/src/coremsgsubmit.c,
	score/src/coremutexseize.c,
	score/src/corerwlockobtainread.c,
	score/src/corerwlockobtainwrite.c,
	score/src/coresemseize.c,
	score/src/corespinlockwait.c,
	score/src/heapfree.c,
	score/src/heapresizeblock.c,
	score/src/heapsizeofuserarea.c,
	score/src/heapwalk.c,
	score/src/interr.c,
	score/src/objectinitializeinformation.c,
	score/src/objectmp.c,
	score/src/objectnametoid.c,
	score/src/objectsetname.c,
	score/src/pheapextend.c,
	score/src/pheapfree.c,
	score/src/pheapgetblocksize.c,
	score/src/pheapresizeblock.c,
	score/src/pheapwalk.c,
	score/src/threadchangepriority.c,
	score/src/threaddispatch.c,
	score/src/threadevaluatemode.c,
	score/src/threadinitialize.c,
	score/src/threadloadenv.c,
	score/src/threadqextractpriority.c,
	score/src/threadqextractwithproxy.c,
	score/src/threadrestart.c,
	score/src/threadresume.c,
	score/src/threadstart.c,
	score/src/timespecgreaterthan.c,
	score/src/timespecisvalid.c,
	score/src/timespeclessthan.c,
	score/src/userextthreadbegin.c,
	score/src/userextthreadcreate.c,
	score/src/wkspace.c: Convert to "bool".
	* score/inline/rtems/score/address.inl,
	score/inline/rtems/score/chain.inl,
	score/inline/rtems/score/corebarrier.inl,
	score/inline/rtems/score/coremsg.inl,
	score/inline/rtems/score/coremutex.inl,
	score/inline/rtems/score/coresem.inl,
	score/inline/rtems/score/corespinlock.inl,
	score/inline/rtems/score/heap.inl,
	score/inline/rtems/score/isr.inl,
	score/inline/rtems/score/mppkt.inl,
	score/inline/rtems/score/object.inl,
	score/inline/rtems/score/objectmp.inl,
	score/inline/rtems/score/priority.inl,
	score/inline/rtems/score/stack.inl,
	score/inline/rtems/score/states.inl,
	score/inline/rtems/score/sysstate.inl,
	score/inline/rtems/score/thread.inl,
	score/inline/rtems/score/threadmp.inl,
	score/inline/rtems/score/tqdata.inl,
	score/inline/rtems/score/watchdog.inl:
	Convert to "bool".
	* score/include/rtems/debug.h,
	score/include/rtems/score/context.h,
	score/include/rtems/score/corebarrier.h,
	score/include/rtems/score/coremsg.h,
	score/include/rtems/score/coremutex.h,
	score/include/rtems/score/corerwlock.h,
	score/include/rtems/score/coresem.h,
	score/include/rtems/score/corespinlock.h,
	score/include/rtems/score/heap.h,
	score/include/rtems/score/interr.h,
	score/include/rtems/score/isr.h,
	score/include/rtems/score/object.h,
	score/include/rtems/score/objectmp.h,
	score/include/rtems/score/protectedheap.h,
	score/include/rtems/score/sysstate.h,
	score/include/rtems/score/thread.h,
	score/include/rtems/score/threadq.h,
	score/include/rtems/score/timespec.h,
	score/include/rtems/score/tod.h,
	score/include/rtems/score/userext.h,
	score/include/rtems/score/wkspace.h:
	Convert to "bool".
	* score/src/object.c: Stop using old-style function definitions.

2008-09-04	Ralf Corsépius <ralf.corsepius@rtems.org>

	* itron/include/rtems/itron/mbox.h,
	itron/include/rtems/itron/msgbuffer.h,
	itron/include/rtems/itron/semaphore.h,
	itron/inline/rtems/itron/eventflags.inl,
	itron/inline/rtems/itron/fmempool.inl,
	itron/inline/rtems/itron/mbox.inl,
	itron/inline/rtems/itron/msgbuffer.inl,
	itron/inline/rtems/itron/port.inl,
	itron/inline/rtems/itron/semaphore.inl,
	itron/inline/rtems/itron/task.inl,
	itron/inline/rtems/itron/vmempool.inl,
	itron/src/cre_tsk.c, itron/src/sta_tsk.c,
	itron/src/task.c, itron/src/trcv_mbf.c,
	itron/src/trcv_mbx.c, itron/src/tsnd_mbf.c,
	itron/src/twai_sem.c: Convert to "bool".

2008-09-04	Ralf Corsépius <ralf.corsepius@rtems.org>

	* posix/include/rtems/posix/cond.h, 
	posix/include/rtems/posix/key.h,
	posix/include/rtems/posix/mqueue.h,
	posix/include/rtems/posix/mutex.h,
	posix/include/rtems/posix/priority.h, 
	posix/include/rtems/posix/psignal.h,
	posix/include/rtems/posix/pthread.h,
	posix/include/rtems/posix/semaphore.h,
	posix/include/rtems/posix/timer.h: Convert to "bool".
	* posix/inline/rtems/posix/barrier.inl,
	posix/inline/rtems/posix/cond.inl,
	posix/inline/rtems/posix/key.inl,
	posix/inline/rtems/posix/mqueue.inl,
	posix/inline/rtems/posix/mutex.inl,
	posix/inline/rtems/posix/priority.inl,
	posix/inline/rtems/posix/pthread.inl,
	posix/inline/rtems/posix/rwlock.inl,
	posix/inline/rtems/posix/semaphore.inl,
	posix/inline/rtems/posix/spinlock.inl,
	posix/inline/rtems/posix/timer.inl: Convert to "bool".
	* posix/src/cancel.c,
	posix/src/condsignalsupp.c,
	posix/src/condtimedwait.c,
	posix/src/condwaitsupp.c,
	posix/src/keyrundestructors.c,
	posix/src/killinfo.c,
	posix/src/mqueuerecvsupp.c,
	posix/src/mqueuesendsupp.c,
	posix/src/mqueuetimedreceive.c,
	posix/src/mqueuetimedsend.c,
	posix/src/mutexlocksupp.c,
	posix/src/mutextimedlock.c,
	posix/src/prwlocktimedrdlock.c,
	posix/src/prwlocktimedwrlock.c,
	posix/src/psignal.c,
	posix/src/psignalchecksignal.c,
	posix/src/psignalclearsignals.c,
	posix/src/psignalunblockthread.c,
	posix/src/pthread.c,
	posix/src/pthreadcreate.c,
	posix/src/pthreadkill.c,
	posix/src/pthreadsigmask.c,
	posix/src/semaphorewaitsupp.c,
	posix/src/semtimedwait.c,
	posix/src/setcancelstate.c,
	posix/src/setcanceltype.c,
	posix/src/sigtimedwait.c,
	posix/src/testcancel.c,
	posix/src/timerinserthelper.c,
	posix/src/timersettime.c,
	posix/src/timertsr.c: Convert to "bool".

2008-09-04	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/lib/ftpfs.c: Use bool instead of boolean.
	* libi2c/libi2c.c, libi2c/libi2c.h: Use bool instead of boolean.
	* libfs/src/dosfs/dosfs.h, libfs/src/dosfs/fat.c,
	libfs/src/dosfs/fat.h, libfs/src/dosfs/msdos.h,
	libfs/src/dosfs/msdos_dir.c, libfs/src/dosfs/msdos_eval.c,
	libfs/src/dosfs/msdos_format.c, libfs/src/dosfs/msdos_misc.c,
	libfs/src/imfs/imfs_initsupp.c, libfs/src/imfs/ioman.c:
	Use "bool" instead of "rtems_boolean|boolean".
	* libfs/src/imfs/imfs_eval.c: Change "done" to bool.
	* libfs/src/nfsclient/src/xdr_mbuf.c: Stop using old-style
	  definitions.

2008-09-03	Cindy Cicalese <cicalese@mitre.org>

	* libmisc/shell/shell.c: FALSE accidentally changed to true in switch
	to bool type.

2008-09-02	Joel Sherrill <joel.sherrill@oarcorp.com>

	* sapi/include/confdefs.h: Add CONFIGURE_BSP_PREREQUISITE_DRIVERS and
	CONFIGURE_APPLICATION_PREREQUISITE_DRIVERS.

2008-09-02      Ralf Corsépius <ralf.corsepius@rtems.org>

	PR 1301/cpukit
	* sapi/src/debug.c: Let _Debug_Is_enabled return TRUE|FALSE.

2008-09-01	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libcsupport/include/timerdrv.h, 
	libcsupport/include/rtems/libcsupport.h,
	libcsupport/src/chdir.c, libcsupport/src/chmod.c,
	libcsupport/src/chown.c, libcsupport/src/free.c,
	libcsupport/src/link.c, libcsupport/src/lstat.c,
	libcsupport/src/malloc.c, libcsupport/src/malloc_deferred.c,
	libcsupport/src/malloc_initialize.c, libcsupport/src/malloc_p.h,
	libcsupport/src/mount.c, libcsupport/src/newlibc.c,
	libcsupport/src/open.c, libcsupport/src/readlink.c,
	libcsupport/src/readv.c, libcsupport/src/rmdir.c,
	libcsupport/src/stat.c, libcsupport/src/termios.c,
	libcsupport/src/unlink.c, libcsupport/src/unmount.c,
	libcsupport/src/utime.c, libcsupport/src/writev.c:
	Convert using "bool".

2008-09-01	Ralf Corsépius <ralf.corsepius@rtems.org>

	* librpc/src/rpc/auth_none.c, librpc/src/rpc/authunix_prot.c,
	librpc/src/rpc/bindresvport.c, librpc/src/rpc/clnt_generic.c,
	librpc/src/rpc/clnt_udp.c, librpc/src/rpc/getrpcent.c,
	librpc/src/rpc/netname.c, librpc/src/rpc/netnamer.c,
	librpc/src/rpc/pmap_clnt.c, librpc/src/rpc/pmap_getmaps.c,
	librpc/src/rpc/pmap_getport.c, librpc/src/rpc/pmap_prot.c,
	librpc/src/rpc/pmap_prot2.c, librpc/src/rpc/rpc_callmsg.c,
	librpc/src/rpc/svc_run.c, librpc/src/xdr/xdr.c,
	librpc/src/xdr/xdr_array.c, librpc/src/xdr/xdr_float.c,
	librpc/src/xdr/xdr_reference.c:
	Stop using old-style function definitions.

2008-09-01	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmisc/capture/capture-cli.c, libmisc/capture/capture.c,
	libmisc/capture/capture.h:
	Convert to using "bool".
	* libmisc/serdbg/serdbg.c, libmisc/serdbg/serdbg.h,
	libmisc/serdbg/serdbgcnf.h, libmisc/serdbg/serdbgio.c,
	libmisc/serdbg/termios_printk.c:
	Convert to using "bool".
	* libmisc/shell/main_logoff.c, libmisc/shell/shell.c,
	libmisc/shell/shell.h:
	Convert to using "bool".
	* libmisc/monitor/mon-command.c, libmisc/monitor/mon-config.c,
	libmisc/monitor/mon-driver.c, libmisc/monitor/mon-extension.c,
	libmisc/monitor/mon-itask.c, libmisc/monitor/mon-monitor.c,
	libmisc/monitor/mon-mpci.c, libmisc/monitor/mon-network.c,
	libmisc/monitor/mon-object.c, libmisc/monitor/mon-part.c,
	libmisc/monitor/mon-queue.c, libmisc/monitor/mon-region.c,
	libmisc/monitor/mon-sema.c, libmisc/monitor/mon-symbols.c,
	libmisc/monitor/mon-task.c, libmisc/monitor/monitor.h:
	Convert to using "bool".
	* libmisc/stackchk/check.c, libmisc/stackchk/internal.h,
	libmisc/stackchk/stackchk.h:
	Convert to using "bool".
	* libblock/include/rtems/bdbuf.h, libblock/src/bdbuf.c,
	libblock/src/diskdevs.c, libblock/src/ide_part_table.c,
	libblock/src/ramdisk.c, libblock/src/show_bdbuf.c:
	Convert to using "bool".
	* libblock/src/nvdisk-sram.c: Add missing HAVE_CONFIG_H.

2008-09-01	Ralf Corsépius <ralf.corsepius@rtems.org>

	* httpd/asp.c, httpd/balloc.c, httpd/default.c,
	httpd/emfdb.c, httpd/form.c, httpd/handler.c,
	httpd/md5c.c, httpd/security.c, httpd/sock.c,
	httpd/socket.c, httpd/sym.c, httpd/uemf.c, httpd/um.c,
	httpd/webmain.c, httpd/webs.c, httpd/websuemf.c:
	Stop using old-style function definitions.

2008-09-01	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/libc/addr2ascii.c,
	libnetworking/libc/ascii2addr.c,
	libnetworking/libc/base64.c,
	libnetworking/libc/gethostbyht.c,
	libnetworking/libc/gethostnamadr.c,
	libnetworking/libc/getnetbyht.c,
	libnetworking/libc/getservbyport.c,
	libnetworking/libc/getservent.c,
	libnetworking/libc/herror.c,
	libnetworking/libc/inet_addr.c,
	libnetworking/libc/inet_lnaof.c,
	libnetworking/libc/inet_netof.c,
	libnetworking/libc/inet_network.c,
	libnetworking/libc/inet_ntoa.c,
	libnetworking/libc/inet_ntop.c,
	libnetworking/libc/inet_pton.c,
	libnetworking/libc/linkaddr.c,
	libnetworking/libc/map_v4v6.c,
	libnetworking/libc/res_comp.c,
	libnetworking/libc/res_debug.c,
	libnetworking/libc/res_init.c,
	libnetworking/libc/res_mkquery.c,
	libnetworking/libc/res_query.c,
	libnetworking/nfs/bootp_subr.c,
	libnetworking/rtems/rtems_glue.c:
	Stop using old-style function definitions.

2008-09-01	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/netinet/if_ether.c, 
	libnetworking/netinet/igmp.c,
	libnetworking/netinet/in.c,
	libnetworking/netinet/in_pcb.c,
	libnetworking/netinet/ip_icmp.c,
	libnetworking/netinet/ip_input.c,
	libnetworking/netinet/ip_mroute.c,
	libnetworking/netinet/ip_output.c,
	libnetworking/netinet/raw_ip.c,
	libnetworking/netinet/tcp_debug.c,
	libnetworking/netinet/tcp_input.c,
	libnetworking/netinet/tcp_output.c,
	libnetworking/netinet/tcp_subr.c,
	libnetworking/netinet/tcp_timer.c,
	libnetworking/netinet/tcp_usrreq.c,
	libnetworking/netinet/udp_usrreq.c:
	Stop using old-style function definitions.

2008-09-01	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/netinet/tcp_var.h: Fix broken declaration of
	tcp_trace().

2008-09-01	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/libc/res_comp.c,
	libnetworking/netinet/igmp.c,
	libnetworking/netinet/in_cksum.c,
	libnetworking/netinet/in_proto.c,
	libnetworking/netinet/tcp_debug.c,
	libnetworking/netinet/tcp_input.c,
	libnetworking/netinet/tcp_output.c,
	libnetworking/netinet/tcp_timer.c: 
	Remove BSD "Add clause" (From FreeBSD).

2008-09-01	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/net/if_ethersubr.c, libnetworking/net/if_loop.c,
	libnetworking/net/if_ppp.c, libnetworking/net/ppp_tty.c,
	libnetworking/net/radix.c, libnetworking/net/raw_cb.c,
	libnetworking/net/raw_usrreq.c, libnetworking/net/route.c,
	libnetworking/net/rtsock.c, libnetworking/net/slcompress.c:
	Stop using old-style function definitions.

2008-09-01	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/kern/uipc_domain.c, libnetworking/kern/uipc_mbuf.c
	libnetworking/kern/uipc_socket.c, libnetworking/kern/uipc_socket2.c:
	Stop using old-style function definitions.

2008-08-31	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/include/timerdrv.h: Rename timer driver methods to follow
	RTEMS programming conventions.

2008-08-30	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/Makefile.am, rtems/src/tasksetpriority.c: Improve comments and
	wrapping.

2008-08-29	Ralf Corsépius <ralf.corsepius@rtems.org>

	* ftpd/ftpd.c: Fix prototype.

2008-08-27	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libmisc/Makefile.am, libmisc/shell/shell.c, libmisc/shell/shell.h:
	Split out rtems_shell_get_prompt() so it can be overridden by the
	user.
	* libmisc/shell/shell_getprompt.c: New file.

2008-08-27	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/libc/getproto.c, libnetworking/libc/getprotoent.c,
	libnetworking/libc/getprotoname.c,
	libnetworking/libc/getservbyname.c,
	libnetworking/libc/inet_makeaddr.c, libnetworking/libc/recv.c,
	libnetworking/libc/send.c: Stop using old-style
	function-definitions.

2008-08-26	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmisc/fsmount/fsmount.c: Convert to using bool.

2008-08-26	Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* libbcsupport/src/printk_plugin.c: properly terminate va_list
	processing with va_end

2008-08-26	Ralf Corsépius <ralf.corsepius@rtems.org>

	* pppd/auth.c, pppd/ccp.c, pppd/chap.c, pppd/chat.c,
	pppd/demand.c, pppd/fsm.c, pppd/ipcp.c, pppd/lcp.c,
	pppd/magic.c, pppd/options.c, pppd/rtemsmain.c, 
	pppd/sys-rtems.c, pppd/upap.c, pppd/utils.c:
	Stop using old-style function-definitions.

2008-08-25	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libblock/src/bdbuf.c, libblock/src/diskdevs.c,
	libblock/src/ide_part_table.c, libblock/src/ramdisk.c:
	s/rtems_boolean/bool/g.

2008-08-25	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmd/md4.c, libmd/md5.c:
	Stop using old-style function-definitions.
	* libcsupport/src/closedir.c, libcsupport/src/getcwd.c,
	libcsupport/src/mount.c, libcsupport/src/newlibc.c,
	libcsupport/src/opendir.c, libcsupport/src/readdir.c,
	libcsupport/src/scandir.c: 
	Stop using old-style function-definitions.

2008-08-25	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libcsupport/src/malloc_boundary.c: Use %zi to print size_t.
	* libmisc/capture/capture.c, libmisc/shell/fts.c:
	Stop using old-style function-definitions.

2008-08-21	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libblock/include/rtems/bdbuf.h, libblock/include/rtems/diskdevs.h,
	libblock/src/bdbuf.c, libblock/src/blkdev.c, libblock/src/diskdevs.c,
	libblock/src/ramdisk.c: Eliminate sign mismatch warnings.

2008-08-21	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmisc/monitor/mon-network.c: Use memset instead of bzero.

2008-08-21	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmisc/shell/internal.h: Don't include "config.h".
	Adjust header guard.
	* libmisc/shell/cmp-ls.c, libmisc/shell/err.c, 
	libmisc/shell/errx.c, libmisc/shell/filemode.c, 
	libmisc/shell/fts.c, libmisc/shell/main_cp.c, 
	libmisc/shell/main_ls.c, libmisc/shell/main_mv.c,
	libmisc/shell/main_rm.c, libmisc/shell/print-ls.c,
	libmisc/shell/pwcache.c, libmisc/shell/shellconfig.c,
	libmisc/shell/utils-cp.c, libmisc/shell/utils-ls.c,
	libmisc/shell/verr.c, libmisc/shell/verrx.c,
	libmisc/shell/vis.c, libmisc/shell/vwarn.c,
	libmisc/shell/vwarnx.c, libmisc/shell/warn.c,
	libmisc/shell/warnx.c: Include "config.h".

2008-08-21	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmisc/monitor/mon-network.c, libmisc/monitor/mon-part.c,
	libmisc/monitor/mon-region.c, libmisc/monitor/mon-sema.c:
	Include "config.h".

2008-08-21	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmisc/shell/main_ifconfig.c: Use memset instead of bzero.
	* ftpd/ftpd.c: Don't use annonymous unions.

2008-08-21	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libblock/src/flashdisk.c: Remove bool, true, false.

2008-08-20	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libmisc/dummy/dummy.c: Add missing initializers.
	* score/src/threadinitialize.c: Change type of loop counter.

2008-08-20	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/src/error.c, libmisc/dummy/dummy.c,
	rtems/src/rtemsobjectgetapiclassname.c,
	rtems/src/rtemsobjectgetapiname.c: Add 0 for missing initializers.

2008-08-20	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* include/rtems/status-checks.h: Fixed integer conversion warning.

2008-08-20	Ralf Corsépius <ralf.corsepius@rtems.org>

	* configure.ac: Abort if stdbool.h is not c99 compliant.

2008-08-20	Ralf Corsépius <ralf.corsepius@rtems.org>

	* pppd/pppd.h: Use stdbool.h. Remove local bool.

2008-08-20	Ralf Corsépius <ralf.corsepius@rtems.org>

	* configure.ac: Add AC_HEADER_STDBOOL.
	* libblock/src/nvdisk.c: Remove bool, true, false (unused, clashes
	with C99/POSIX).

2008-08-19	Cedric Aubert <cedric_aubert@yahoo.fr>

	PR 500/misc
	* libcsupport/src/termios.c: Avoid potential buffer overflow.

2008-08-19	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libnetworking/kern/kern_sysctl.c, libnetworking/libc/res_debug.c: Fix
	warnings.

2008-08-19	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libfs/src/nfsclient/src/nfs.c, libfs/src/nfsclient/src/rpcio.c:
	Remove some warnings. Using ASSERT/assert macros confuses gcc who is
	unsure actions take place. More importantly if you ever compiled with
	NDEBUG set wrong, intended actions would not occur. Likely I did not
	catch all of these.

2008-08-19	Joel Sherrill <joel.sherrill@OARcorp.com>

	* httpd/uemf.h: Add empty braces to macro.

2008-08-19	Tim FitzGeorge <tim.fitzgeorge@astrium.eads.net>

	PR 1296/cpukit.
	* posix/src/timersettime.c: POSIX timers use incorrect repeat interval.
	This patch fixes the following problems in timer_settime: 1) Uses
	value.it_interval for repeat period. 2) Corrects test for incorrect
	value of it_value.tv_nsec (should reject 1000000000).

2008-08-19	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/inline/rtems/score/threadmp.inl: Add include of
	rtems/score/mpci.h and remove extern.

2008-08-19	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libcsupport/include/clockdrv.h: Add Clock_Exit prototype.

2008-08-19	Ralf Corsepius <ralf.corsepius@rtems.org>

	* rtems/inline/rtems/rtems/asr.inl,
	rtems/inline/rtems/rtems/attr.inl,
	rtems/inline/rtems/rtems/barrier.inl,
	rtems/inline/rtems/rtems/dpmem.inl,
	rtems/inline/rtems/rtems/event.inl,
	rtems/inline/rtems/rtems/eventset.inl,
	rtems/inline/rtems/rtems/message.inl,
	rtems/inline/rtems/rtems/modes.inl,
	rtems/inline/rtems/rtems/options.inl,
	rtems/inline/rtems/rtems/part.inl,
	rtems/inline/rtems/rtems/ratemon.inl,
	rtems/inline/rtems/rtems/region.inl,
	rtems/inline/rtems/rtems/sem.inl,
	rtems/inline/rtems/rtems/status.inl,
	rtems/inline/rtems/rtems/support.inl,
	rtems/inline/rtems/rtems/tasks.inl,
	rtems/inline/rtems/rtems/timer.inl,
	Add header guard to force indirect inclusion.
	* score/inline/rtems/score/address.inl,
	score/inline/rtems/score/chain.inl,
	score/inline/rtems/score/corebarrier.inl,
	score/inline/rtems/score/coremsg.inl,
	score/inline/rtems/score/coremutex.inl,
	score/inline/rtems/score/corerwlock.inl,
	score/inline/rtems/score/coresem.inl,
	score/inline/rtems/score/corespinlock.inl,
	score/inline/rtems/score/heap.inl,
	score/inline/rtems/score/isr.inl,
	score/inline/rtems/score/mppkt.inl,
	score/inline/rtems/score/object.inl,
	score/inline/rtems/score/objectmp.inl,
	score/inline/rtems/score/priority.inl,
	score/inline/rtems/score/stack.inl,
	score/inline/rtems/score/states.inl,
	score/inline/rtems/score/sysstate.inl,
	score/inline/rtems/score/thread.inl,
	score/inline/rtems/score/threadmp.inl,
	score/inline/rtems/score/threadq.inl,
	score/inline/rtems/score/tod.inl,
	score/inline/rtems/score/tqdata.inl,
	score/inline/rtems/score/watchdog.inl,
	score/inline/rtems/score/wkspace.inl:
	Add header guard to force indirect inclusion.
	* posix/inline/rtems/posix/barrier.inl,
	posix/inline/rtems/posix/cond.inl,
	posix/inline/rtems/posix/key.inl,
	posix/inline/rtems/posix/mqueue.inl,
	posix/inline/rtems/posix/mutex.inl,
	posix/inline/rtems/posix/priority.inl,
	posix/inline/rtems/posix/pthread.inl,
	posix/inline/rtems/posix/rwlock.inl,
	posix/inline/rtems/posix/semaphore.inl,
	posix/inline/rtems/posix/spinlock.inl,
	posix/inline/rtems/posix/timer.inl:
	Add header guard to force indirect inclusion.
	* itron/inline/rtems/itron/eventflags.inl,
	itron/inline/rtems/itron/fmempool.inl,
	itron/inline/rtems/itron/intr.inl,
	itron/inline/rtems/itron/mbox.inl,
	itron/inline/rtems/itron/msgbuffer.inl,
	itron/inline/rtems/itron/network.inl,
	itron/inline/rtems/itron/port.inl,
	itron/inline/rtems/itron/semaphore.inl,
	itron/inline/rtems/itron/sysmgmt.inl,
	itron/inline/rtems/itron/task.inl,
	itron/inline/rtems/itron/time.inl,
	itron/inline/rtems/itron/vmempool.inl:
	Add header guard to force indirect inclusion.
	* sapi/inline/rtems/chain.inl: 
	Add header guard to force indirect inclusion.

2008-08-19	Ralf Corsepius <ralf.corsepius@rtems.org>

	* rtems/include/rtems/rtems/object.h: Use _RTEMS_RTEMS_OBJECT_H as
	header guard.

2008-08-18	Ralf Corsepius <ralf.corsepius@rtems.org>

	* libnetworking/netinet/in_cksum_arm.h, score/cpu/arm/cpu.c
	score/cpu/h8300/rtems/score/cpu.h: Add missing prototypes.

2008-08-18	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libnetworking/lib/ftpfs.c, libnetworking/libc/inet_ntoa.c,
	libnetworking/libc/rcmd.c, libnetworking/nfs/bootp_subr.c,
	libnetworking/rtems/rtems_glue.c,
	libnetworking/rtems/rtems_malloc_mbuf.c,
	libnetworking/rtems/rtems_showicmpstat.c, libnetworking/sys/malloc.h:
	Fix some warnings.

2008-08-18	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/include/rtems/libcsupport.h, libcsupport/src/scandir.c,
	libmisc/cpuuse/cpuusagereset.c, libmisc/monitor/mon-monitor.c,
	libmisc/serdbg/serdbg.c, libmisc/serdbg/serdbg.h,
	libnetworking/netinet/in_cksum_powerpc.h, shttpd/compat_rtems.h: Fix
	warnings.

2008-08-18	Joel Sherrill <joel.sherrill@oarcorp.com>

	* itron/include/rtems/itron/task.h, itron/src/def_cyc.c,
	itron/src/task.c, libcsupport/src/newlibc_exit.c,
	libcsupport/src/sync.c, libfs/src/imfs/imfs_fchmod.c,
	posix/include/rtems/posix/pthread.h, posix/src/pthread.c,
	posix/src/sysconf.c, rtems/include/rtems/rtems/tasks.h,
	rtems/src/tasks.c, score/include/rtems/score/stack.h,
	score/inline/rtems/score/stack.inl,
	score/inline/rtems/score/thread.inl, score/src/threadhandler.c: Fix
	various nested-externs warnings.

2008-08-18	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/Makefile.am, libcsupport/src/newlibc.c: Split libc_init()
	into a separate file to avoid linkage dependencies on newlibc.c which
	in turn pulls in fclose() and other C library methods.
	* libcsupport/src/newlibc_init.c: New file.

2008-08-18	Ralf Corsepius <ralf.corsepius@rtems.org>

	* aclocal/prog-cc.m4: Add -Wnested-externs.

2008-08-18	Ralf Corsepius <ralf.corsepius@rtems.org>

	* libnetworking/net/ppp_tty.c: Remove bogus local decl of
	termios_baud_to_number(int).
	* libnetworking/netinet/in_cksum_i386.h: Add missing prototype.
	* libnetworking/netinet/in_cksum.c: Add missing prototypes.
	* librpc/src/rpc/clnt_tcp.c, librpc/src/rpc/svc_tcp.c:
	Add missing prototypes.

2008-08-16	Ralf Corsepius <ralf.corsepius@rtems.org>

	* libfs/src/nfsclient/src/librtemsNfs.h: Add missing prototype.

2008-08-16	Ralf Corsepius <ralf.corsepius@rtems.org>

	* aclocal/prog-cc.m4: Add -Wimplicit-function-declaration 
	-Wstrict-prototypes to RTEMS_CFLAGS.

2008-08-15	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1297/cpukit
	* posix/src/prwlockinit.c: Fix NULL attribute pointer handling.

2008-08-14     Sebastian Huber <sebastian.huber@embedded-brains.de>

	* rtems/include/rtems/rtems/ratemon.h,
	rtems/include/rtems/rtems/status.h,
	score/include/rtems/score/coremutex.h,
	score/include/rtems/score/object.h: Removed extraneous commas.

2008-08-08	Joel Sherrill <joel.sherrill@OARcorp.com>

	* rtems/include/rtems/rtems/msgmp.h: Fix MP code missed by Sebastian.

2008-08-08     Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libmisc/monitor/monitor.h, rtems/include/rtems/rtems/tasks.h,
	score/include/rtems/score/thread.h, score/src/threadreset.c,
	score/src/threadrestart.c, score/src/threadstart.c: New type
	Thread_Entry_numeric_type for numeric arguments in thread entry
	functions with at least one numeric argument.

2008-08-07	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/include/rtems/score/sysstate.h,
	score/inline/rtems/score/sysstate.inl, score/src/thread.c: Make
	_System_state_Is_multiprocessing unused when multiprocessing is not
	enabled. Saves one more variable from single processor configuration.

2008-08-07      Chris Johns <chrisj@rtems.org>

	* libcsupport/src/_rename_r.c: Fixed return code bug. Add a check
	to see if the 'to' path was a directory and removed the directory.

	* libmisc/Makefile.am, libmisc/shell/shellconfig.h: Added the mv
	command.

	* libmisc/shell/main_mv.c, libmisc/shell/pathnames-mv.h: New.

2008-08-06      Chris Johns <chrisj@rtems.org>

	* libblock/src/bdbuf.c: PR1272. Fixed similar possible issues in
	the new bdbuf code.

2008-08-06      Brett Swimley <brett.swimley@aedbozeman.com>

	PR 1192/filesystem
	* libblock/src/diskdevs.c: PR1192. Update the disktap pointer
	after the realloc.

2008-08-06      Till Straumann <strauman@slac.stanford.edu>

	* libblock/src/diskdevs.c: PR1269. Delete the semaphore rather
	than release it.

2008-08-05	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 537/bsps
	* libcsupport/include/rtems/libcsupport.h, libcsupport/src/newlibc.c,
	libcsupport/src/no_libc.c, libcsupport/src/unixlibc.c: Eliminate
	vestiges of ticks_per_timeslice controlling newlib reentrancy. The
	parameter was ignored in libc_init().

2008-08-05	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 741/networking
	* libmisc/dummy/dummy.c: Add dummy network configuration.

2008-08-05     Sebastian Huber <sebastian.huber@embedded-brains.de>

	* rtems/include/rtems/rtems/sem.h, rtems/src/semobtain.c:
	Changed option set type to rtems_option.

	* score/src/objectgetinfo.c: Check return value of
	_Objects_API_maximum_class().

	* libmisc/monitor/mon-mpci.c, libmisc/monitor/monitor.h,
	rtems/include/rtems/rtems/message.h, rtems/src/msgmp.c,
	rtems/src/msgqallocate.c, rtems/src/msgqbroadcast.c,
	rtems/src/msgqcreate.c, rtems/src/msgqreceive.c, rtems/src/msgqsend.c,
	rtems/src/msgqurgent.c, score/include/rtems/score/coremsg.h,
	score/include/rtems/score/mpci.h, score/include/rtems/score/thread.h,
	score/inline/rtems/score/coremsg.inl, score/src/coremsg.c,
	score/src/coremsgbroadcast.c, score/src/coremsgseize.c,
	score/src/coremsgsubmit.c:
	Removed parameters of _Message_queue_Allocate().  Changed option set
	type to rtems_option.  Changed type of maximum message and packet size
	to size_t.  Changed the input buffer type for message send functions to
	"const void *".  Changed the pointer to the second return argument in
	the thread wait information to a union.  This union can contain a
	pointer to an immutable or a mutable object.  This is somewhat fragile.
	An alternative would be to add a third pointer for immutable objects,
	but this would increase the structure size.

2008-08-05	Xudong Guan <xudong.guan@criticalsoftware.com>

	PR 1212/cpukit
	* rtems/src/taskmode.c, score/src/threadtickletimeslice.c: Time slicing
	will not happen if the task mode is changed from a non-timeslicing
	mode to timeslicing mode if it is done by the executing thread (e.g.
	in its task body). This change includes sp44 to demonstrate the
	problem and verify the correction.

2008-08-04	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/src/mqueuetimedreceive.c, posix/src/mqueuetimedsend.c: Fix
	warnings.

2008-08-04	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1265/cpukit
	* score/include/rtems/score/object.h,
	score/src/objectallocatebyindex.c: Rename index argument to avoid
	warning when rtems.h and string.h are included at the same time by
	user code.

2008-08-03	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/lib/tftpDriver.c: Add prototypes.
	* pppd/rtemsmain.c: Add prototypes.
	* zlib/crc32.c: Add prototypes.

2008-08-02	Chris Johns (chrisj@rtems.org>

	* libblock/include/rtems/blkdev.h: Remove count and start from
	rtems_blkdev_request. Add RTEMS_BLKDEV_START_BLOCK macro.

	* libblock/src/bdbuf.c: Add read ahead blocks always consecutive
	comment. Change count to bufnum and remove start references. Sort
	the transfer list so blocks are consecutive where possible.

	* libblock/src/blkdev.c, libblock/src/nvdisk.c,
	libblock/src/ramdisk.c: Change count to bufnum and remove start
	references.

2008-08-02	Ralf Corsépius <ralf.corsepius@rtems.org>

	* telnetd/telnetd.c: Add missing prototypes. 
	Remove unused local declations.

2008-08-02	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/libc/gethostbydns.c,
	libnetworking/libc/gethostbyht.c,
	libnetworking/libc/gethostbynis.c,
	libnetworking/libc/gethostnamadr.c,
	libnetworking/libc/getnetbydns.c,
	libnetworking/libc/getnetbynis.c,
	libnetworking/libc/getnetnamadr.c,
	libnetworking/libc/nsap_addr.c,
	libnetworking/libc/res_debug.c,
	libnetworking/libc/res_send.c: Add missing prototypes.

2008-08-02	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libi2c/libi2c.c, libi2c/libi2c.h: Add missing prototypes.
	* libmd/md4.c, libmd/md5.c: Add missing prototypes.
	* libmisc/monitor/mon-command.c, libmisc/shell/filemode.c,
	libmisc/shell/shell_script.c: Add missing prototypes.

2008-08-01	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libfs/src/nfsclient/src/xdr_mbuf.c: Add prototypes.

2008-08-01	Ralf Corsépius <ralf.corsepius@rtems.org>

	* librpc/include/rpc/clnt.h: Cleanup.
	* librpc/include/rpc/svc.h: Cleanup.

2008-08-01	Ralf Corsépius <ralf.corsepius@rtems.org>

	* librpc/src/xdr/xdr_mem.c librpc/src/xdr/xdr_rec.c
	librpc/src/xdr/xdr_sizeof.c, librpc/src/xdr/xdr_stdio.c: 
	Misc. ansifications. Add prototypes.

2008-08-01	Joel Sherrill <joel.sherrill@OARcorp.com>

	* rtems/src/msgqsend.c, rtems/src/msgqurgent.c: Fix typos.

2008-08-01	Ralf Corsépius <ralf.corsepius@rtems.org>

	* librpc/src/rpc/getrpcport.c: Misc. ansifications.
	* librpc/src/rpc/getrpcent.c: Remove stray local decls. 
	Misc. ansifications.
	* librpc/src/rpc/clnt_perror.c: Misc. ansifications.
	* librpc/src/rpc/get_myaddress.c: Misc. ansifications.
	* librpc/src/rpc/svc_auth_unix.c: Misc. ansifications.
	* librpc/src/rpc/pmap_clnt.c: Remove stray clnt_perror().
	* librpc/src/rpc/clnt_tcp.c: Add missing prototypes.
	* librpc/src/rpc/clnt_raw.c: Add missing prototypes.
	* librpc/src/rpc/clnt_udp.c: Add missing prototypes.
	* librpc/src/rpc/svc_auth.c: Add missing prototypes.
	* librpc/src/rpc/svc_raw.c: Add missing prototypes.
	* librpc/src/rpc/svc_tcp.c: Add missing prototypes.
	* librpc/src/rpc/svc_udp.c: Add missing prototypes.

2008-08-01	Ralf Corsépius <ralf.corsepius@rtems.org>

	* librpc/src/rpc/svc.c: Add missing prototypes.
	* librpc/src/xdr/xdr_rec.c: Remove register vars.
	* librpc/src/xdr/xdr_mem.c: Misc. ansifications.
	* librpc/src/rpc/svc_tcp.c: Misc. ansifications.
	* librpc/src/rpc/clnt_tcp.c: Misc. ansifications.
	* librpc/src/rpc/svc_raw.c: Misc. ansifications.
	* librpc/src/xdr/xdr_rec.c: Misc. ansifications.
	* librpc/src/rpc/svc_simple.c: Add missing prototypes.
	* librpc/src/rpc/rtems_portmapper.c: Add missing prototypes.
	* librpc/src/rpc/rpcdname.c: Add missing prototypes.
	* librpc/src/rpc/rpc_prot.c: Misc. ansifications.
	* librpc/src/rpc/pmap_rmt.c: Misc. ansifications.
	* librpc/src/rpc/clnt_simple.c: Misc. ansifications.
	* librpc/src/rpc/auth_unix.c: Misc. ansifications. 
	Add missing prototypes.
	* librpc/src/rpc/rtime.c, librpc/src/rpc/svc_udp.c:
	Misc. ansifications.

2008-08-01	Ralf Corsépius <ralf.corsepius@rtems.org>

	* librpc/include/rpc/auth_unix.h, librpc/include/rpc/pmap_clnt.h,
	librpc/include/rpc/pmap_prot.h, librpc/include/rpc/pmap_rmt.h,
	librpc/include/rpc/rpc_msg.h, librpc/include/rpc/svc_auth.h,
	librpc/include/rpcsvc/yppasswd.x, librpc/src/rpc/netnamer.c,
	librpc/src/rpc/svc_udp.c, librpc/src/xdr/xdr_rec.c,
	librpc/include/rpcsvc/ypclnt.h, librpc/include/rpcsvc/yp_prot.h:
	Eliminate __P().

2008-08-01	Ralf Corsépius <ralf.corsepius@rtems.org>

	* score/include/rtems/score/thread.h: Add missing prototype.
	* score/inline/rtems/score/thread.inl: Add missing prototypes.
	* libfs/src/nfsclient/src/nfs.c: Add missing prototype.
	* libnetworking/lib/ftpfs.c, libnetworking/libc/rcmd.c,
	libnetworking/netinet/in_cksum_m68k.h, 
	libnetworking/netinet/ip_divert.c, libnetworking/rtems/ftpfs.h,
	libnetworking/rtems/mkrootfs.c, libnetworking/rtems/mkrootfs.h,
	libnetworking/rtems/rtems_showroute.c: Add missing prototypes.
	* itron/include/itronsys/types.h: Add missing prototype.
	* ftpd/ftpd.c: Fix broken prototype.
	* libblock/include/rtems/bdbuf.h, libblock/src/bdbuf.c:
	Add missing prototypes.

2008-07-31	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libmisc/shell/main_rm.c: sys/mount.h is not available when networking
	is disabled but luckily it is not even needed to compile.

2008-07-31	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmisc/shell/main_netstats.c: Add missing prototypes.
	* libmisc/shell/main_wkspaceinfo.c: Remove classinfo_tester.
	* shttpd/compat_rtems.c: Replace C++-comments with C-comments.

2008-07-30	Ralf Corsépius <ralf.corsepius@rtems.org>

	* httpd/emfdb.h, httpd/socket.c, httpd/uemf.c, httpd/uemf.h,
	httpd/um.h, httpd/webmain.c, httpd/webs.c, httpd/webs.h, 
	httpd/wsIntrn.h: Add missing protoypes.

2008-07-29	Tim Cussins <timcussins@eml.cc>

	* ChangeLog, libmisc/monitor/mon-object.c: Add mising RTEMS_POSIX_API
	conditional.

2008-07-29	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmisc/monitor/mon-monitor.c: Remove stray arg from function
	call.

2008-07-29	Ralf Corsépius <ralf.corsepius@rtems.org>

	* ftpd/ftpd.c, ftpd/ftpd.h: Add missing prototypes.

2008-07-29	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmisc/capture/capture.h, libmisc/monitor/mon-symbols.c, 
	libmisc/monitor/monitor.h: Add missing prototypes.
	* score/inline/rtems/score/tod.inl: Add prototypes.
	* score/src/coretodset.c: Remove stray args in function call.
	* libcsupport/include/rtems/libcsupport.h, 
	libcsupport/include/rtems/libio_.h, 
	libcsupport/src/malloc_statistics_helpers.c,
	libcsupport/src/scandir.c: Add prototypes.
	* telnetd/pty.c: Add prototypes. Remove misc. C++-code pollution.
	* posix/src/prwlocktrywrlock.c, posix/src/prwlocktryrdlock.c,
	posix/src/prwlockrdlock.c: Use C-style comments.

2008-07-29	Chris Johns <chrisj@rtems.org>

	* libblock/src/nvdisk.c: Fix block compile bug.

2008-07-29	Chris Johns <chrisj@rtems.org>

	* libblock/include/rtems/bdbuf.h, cpukit/libblock/src/bdbuf.c:
	Update the comments.

2008-07-29	Chris Johns <chrisj@rtems.org>

	* libblock/Makefile.am: Removed src/show_bdbuf.c.

	* libblock/src/show_bdbuf.c: Removed.

	* libblock/include/rtems/bdbuf.h, cpukit/libblock/src/bdbuf.c:
	Rewritten the bdbuf code. Remove pre-emption disable, score
	access, fixed many bugs and increased performance.

	* libblock/include/rtems/blkdev.h: Added
	RTEMS_BLKDEV_CAPABILITIES block device request. Cleaned up
	comments. Added block and user fields to the sg buffer
	request. Move to rtems_* namespace.

	* libblock/include/rtems/diskdevs.h,
	cpukit/libblock/src/diskdevs.c: Move to rtems_* namespace. Add a
	capabilities field for drivers. Change rtems_disk_lookup to
	rtems_disk_obtain to match the release call. You do not lookup and
	release a disk, you obtain and release a disk.

	* libblock/include/rtems/ide_part_table.h,
	libblock/include/rtems/ramdisk.h, libblock/src/ide_part_table.c:
	Move to rtems_* namespace.

	* libblock/include/rtems/nvdisk.h: Formatting change.

	* libblock/src/blkdev.c: Move to rtems_* namespace. Change
	rtems_disk_lookup to rtems_disk_obtain

	* libblock/src/flashdisk.c: Move to rtems_* namespace. Use the new
	support for the block number in the scatter/grather request
	struct. This allows non-continuous buffer requests for those
	drivers that can support increasing performance.

	* libblock/src/nvdisk.c: Move to rtems_* namespace. Removed
	warnings. Added better error checking. Fixed some comments.

	* libblock/src/ramdisk.c: Move to rtems_* namespace. Added some
	trace functions to help debugging upper layers. Use the new
	support for the block number in the scatter/grather request
	struct. This allows non-continuous buffer requests for those
	drivers that can support increasing performance.

	* libfs/src/dosfs/fat.c, libfs/src/dosfs/fat.h: Use new chains
	API. Removed temporary hack and changed
	set_errno_and_return_minus_one to
	rtems_set_errno_and_return_minus_one. Move fat_buf_access from
	header and stopped it being inlined. Updated to libblock changes.
	
	* libfs/src/dosfs/fat_fat_operations.c,
	libfs/src/dosfs/fat_file.c, libfs/src/dosfs/msdos_create.c,
	libfs/src/dosfs/msdos_dir.c, libfs/src/dosfs/msdos_eval.c,
	libfs/src/dosfs/msdos_file.c, libfs/src/dosfs/msdos_format.c,
	libfs/src/dosfs/msdos_free.c, libfs/src/dosfs/msdos_initsupp.c,
	libfs/src/dosfs/msdos_misc.c, libfs/src/dosfs/msdos_mknod.c: Use
	new chains API. Removed temporary hack and changed
	set_errno_and_return_minus_one to
	rtems_set_errno_and_return_minus_one. Updated to libblock changes.

	* libmisc/Makefile.am: Add new ls and rm command files.

	* libmisc/shell/cmp-ls.c, libmisc/shell/extern-ls.h,
	libmisc/shell/filemode.c, libmisc/shell/print-ls.c,
	libmisc/shell/pwcache.c, libmisc/shell/utils-ls.c,
	libmisc/shell/vis.c, shell/vis.h: New.

	* libmisc/shell/extern-cp.h, libmisc/shell/main_cp.c,
	libmisc/shell/utils-cp.c: Fixed the usage call bug.

	* libmisc/shell/main_blksync.c: Updated to the new block IO ioctl
	command.

	* libmisc/shell/main_ls.c, libmisc/shell/main_rm.c: Updated to BSD
	commands with more features.
	
	* score/src/coremutex.c: Fix the strict order mutex code.

	* libmisc/shell/shell.c: Change shell tasks mode to be timeslice
	and no ASR.
	
	* sapi/include/confdefs.h: Change ata_driver_task_priority to
	rtems_ata_driver_task_priority. Add the new BD buf cache
	parameters with defaults.

	* score/src/interr.c: Do not return if the CPU halt call returns.
	
2008-07-24     Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libcsupport/include/rtems/libcsupport.h: Moved declaration of
	bsp_libc_init() into new bootcard.h.

	* cpukit/include/rtems/irq-extension.h: New function
	rtems_interrupt_handler_iterate() for system information and
	diagnostics.

2008-07-23	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/shell/shell_script.c: Clean up code for command not found
	including the error message.

2008-07-23	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/monitor/mon-extension.c, libmisc/monitor/mon-itask.c,
	libmisc/monitor/mon-part.c, libmisc/monitor/mon-prmisc.c,
	libmisc/monitor/mon-queue.c, libmisc/monitor/mon-region.c,
	libmisc/monitor/mon-sema.c, libmisc/monitor/mon-task.c,
	libmisc/monitor/monitor.h: Use rtems_object_get_name() instead of
	internal routine. This makes it possible to also print string names
	of POSIX objects. Adjust task report to realign since we can have
	longer names.

2008-07-23	Joel Sherrill <joel.sherrill@oarcorp.com>

	* sapi/include/confdefs.h, score/src/threadcreateidle.c: Idle thread
	body is now completely configured via the Configuration table.

2008-07-18	Joel Sherrill <joel.sherrill@oarcorp.com>

	PR 1291/cpukit
	* itron/inline/rtems/itron/semaphore.inl, itron/src/twai_sem.c,
	posix/include/mqueue.h, posix/include/rtems/posix/mqueue.h,
	posix/include/rtems/posix/semaphore.h,
	posix/include/rtems/posix/time.h, posix/src/condtimedwait.c,
	posix/src/mqueuereceive.c, posix/src/mqueuerecvsupp.c,
	posix/src/mqueuesend.c, posix/src/mqueuesendsupp.c,
	posix/src/mqueuetimedreceive.c, posix/src/mqueuetimedsend.c,
	posix/src/mutextimedlock.c, posix/src/mutextranslatereturncode.c,
	posix/src/posixtimespecabsolutetimeout.c,
	posix/src/prwlocktimedrdlock.c, posix/src/prwlocktimedwrlock.c,
	posix/src/semaphoretranslatereturncode.c,
	posix/src/semaphorewaitsupp.c, posix/src/semtimedwait.c,
	posix/src/semtrywait.c, posix/src/semwait.c,
	posix/src/sigtimedwait.c, posix/src/timersettime.c,
	posix/src/ualarm.c, rtems/src/semobtain.c,
	rtems/src/semtranslatereturncode.c,
	score/include/rtems/score/coremutex.h,
	score/include/rtems/score/coresem.h, score/src/coresemseize.c: This
	patch addresses issues on implementation of the timeout on the
	following POSIX services. Some of these services incorrectly took a
	timeout as a relative time. Others would compute a 0 delta to timeout
	if the absolute time and the current time were equal and thus
	incorrectly block the caller forever. The root of the confusion is
	that POSIX specifies that if the timeout is incorrect (e.g. in the
	past, is now, or is numerically invalid), that it does not matter if
	the call would succeed without blocking. This is in contrast to RTEMS
	programming style where all errors are checked before any critical
	sections are entered. This fix implemented a more uniform way of
	handling POSIX absolute time timeouts.
	    + pthread_cond_timedwait - could block forever
	    + mq_timedreceive - used relative not absolute time
	    + mq_timedsend - used relative not absolute time
	    + pthread_mutex_timedlock - used relative not absolute time
	    + pthread_rwlock_timedrdlock- used relative not absolute time
	    + pthread_rwlock_timedwrlock- used relative not absolute time
	    + sem_timedwait - could block forever

2008-07-17	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/monitor/mon-monitor.c, libmisc/monitor/mon-object.c,
	libmisc/monitor/monitor.h, libmisc/shell/main_chmod.c,
	libmisc/shell/main_tty.c, libmisc/shell/main_umask.c,
	libmisc/shell/main_whoami.c: Add pthread command to monitor when
	POSIX is enabled. Remove include of rtems/monitor.h from files not
	related.

2008-07-16	Till Straumann <strauman@slac.stanford.edu>

	* score/cpu/powerpc/rtems/new-exceptions/cpu.h:
	use ppc_interrupt_get_disable_mask() to determine
	which bits to set/clear from _CPU_ISR_Set_level().

2008-07-16	Till Straumann <strauman@slac.stanford.edu>

	* score/cpu/powerpc/rtems/powerpc/registers.h:
	added ppc_interrupt_get_disable_mask() inline function.

2008-07-16	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/shell/shellconfig.h, libmisc/stackchk/stackchk.h: Fix typos.

2008-07-16	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/shell/shell.c, libmisc/shell/shell.h: New argument sequence
	for rtems_shell_init(). This makes it possible to run the shell
	forever or invoke it from a program as a subroutine, have a user
	enter commands, and wait for it to exit.

2008-07-15	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/include/rtems.h, sapi/Makefile.am: Add simple helper to get
	RTEMS version string.
	* sapi/src/getversionstring.c: New file.

2008-07-10     Peter Rasmussen <Peter.Rasmussen@embedded-brains.de>

	* score/cpu/m68k/cpu_asm.S, cpukit/score/cpu/m68k/rtems/asm.h, 
	cpukit/score/cpu/m68k/rtems/score/cpu.h, 
	score/cpu/m68k/rtems/score/m68k.h:

	added support to save coldfire FPU/EMAC context

2008-07-10     Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* libi2c/libi2c.c, libi2c/libi2c.h:
	make buffer passed to *write* functions a const pointer


2008-07-10	Till Straumann <strauman@slac.stanford.edu>

	* cpukit/score/cpu/powerpc/rtems/new-exceptions/cpu.h,
	cpukit/score/cpu/powerpc/rtems/score/cpu.h,
	cpukit/score/cpu/powerpc/rtems/score/powerpc.h:
	Removed all macro definitions which depended on
	the compiler defining a PPC CPU-model dependent
	symbol.
	Macros which were not used by cpukit have been
	moved to libcpu/powerpc/rtems/powerpc/powerpc.h.
	
2008-07-10	Joel Sherrill <joel.sherrill@OARcorp.com>

	* include/rtems/status-checks.h: Fix style.

2008-07-10	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* rtems/include/rtems/rtems/intr.h: Documentation.

	* cpukit/include/rtems/irq-extension.h: Extension of the RTEMS
	Interrupt Manager (shared handler and handler with a handle).


2008-07-09	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* cpukit/include/rtems/status-checks.h: Macros for status code and
	return value checks.

	* cpukit/libmisc/shell/shell.c: Restore terminal settings on exit.

	* cpukit/libfs/src/dosfs/msdos_dir.c,
	cpukit/libfs/src/dosfs/msdos_file.c: Added S_IRWXU, S_IRWXG and S_IRWXO
	to file mode.

	* cpukit/libi2c/libi2c.h, cpukit/libi2c/libi2c.c: Modified error
	messages.  Driver operations table is now constant.  New entry in the
	rtems_libi2c_tfr_mode_t structure: idle_char. This character will be
	continuously transmitted in read only functions.

2008-07-03	Chris Johns <chrisj@rtems.org>

	* cpukit/libcsupport/include/chain.h: Removed. Use the SAPI
	interface that is supported.

	* cpukit/libcsupport/Makefile.am,
	cpukit/libcsupport/preinstall.am: Remove chain.h header
	references.

	* cpukit/sapi/include/rtems/chain.h,
	cpukit/sapi/inline/rtems/chain.inl: New. A supported chains
	interface.

	* cpukit/sapi/Makefile.am, cpukit/sapi/preinstall.am: Updated to
	include the new chains interface.

	* cpukit/libfs/src/imfs/imfs.h,
	cpukit/libfs/src/imfs/imfs_creat.c,
	cpukit/libfs/src/imfs/imfs_debug.c,
	cpukit/libfs/src/imfs/imfs_directory.c,
	cpukit/libfs/src/imfs/imfs_fsunmount.c,
	cpukit/libfs/src/imfs/imfs_getchild.c,
	cpukit/libfs/src/imfs/imfs_load_tar.c,
	cpukit/libfs/src/imfs/imfs_rmnod.c,
	cpukit/libfs/src/imfs/memfile.c,
	cpukit/libfs/src/nfsclient/src/nfs.c,
	cpukit/libcsupport/include/rtems/libio.h,
	cpukit/libcsupport/src/malloc_deferred.c,
	cpukit/libcsupport/src/mount.c,
	cpukit/libcsupport/src/privateenv.c,
	cpukit/libcsupport/src/unmount.c: Change to the new chains
	interface.

	* cpukit/libcsupport/src/malloc_boundary.c: Remove warning.

2008-07-02 	Ralf Corsépius <ralf.corsepius@rtems.org>

	* score/include/rtems/score/thread.h,
	score/src/threaddispatch.c, score/src/threadinitialize.c:
	Support rtems_ada_self iff __RTEMS_ADA__ is given.

2008-07-02	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/shell/shell_script.c: Remove unused function.

2008-07-02 	Ralf Corsépius <ralf.corsepius@rtems.org>

	* configure.ac: Add __RTEMS_ADA__.

2008-07-02	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libnetworking/Makefile.am, libnetworking/libc/gethostnamadr.c,
	libnetworking/libc/getservbyname.c,
	libnetworking/libc/getservbyport.c: Add initial versions of
	getservbyport_r(), gethostbyaddr_r(), and getservbyport_r(). At this
	point they are just simple weappers for the version without the _r in
	the name.

2008-07-01	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/monitor/mon-prmisc.c, rtems/include/rtems/rtems/attr.h:
	Review association tables in monitor.

2008-06-30 	Ralf Corsépius <ralf.corsepius@rtems.org>

	* configure.ac, rtems/src/semtranslatereturncode.c,
	score/include/rtems/score/coremutex.h,
	score/include/rtems/score/thread.h,
	score/inline/rtems/score/coremutex.inl,
	score/src/coremutex.c, score/src/coremutexsurrender.c,
	score/src/threadinitialize.c:
	Rename __STRICT_ORDER_MUTEX__ to __RTEMS_STRICT_ORDER_MUTEX__.

2008-06-30 	Ralf Corsépius <ralf.corsepius@rtems.org>

	* configure.ac: Add AM_CONDITIONAL(LIBGNAT).
	* libgnat/Makefile.am: Use LIBGNAT.
	* wrapup/Makefile.am: Use LIBGNAT.

2008-06-30 	Ralf Corsépius <ralf.corsepius@rtems.org>

	* acinclude.m4: Add magic to update cpuopt.h.
	* configure.ac: Remove magic to update cpuopt.h.

2008-06-30 	Ralf Corsépius <ralf.corsepius@rtems.org>

	* acinclude.m4: Add _RTEMS_CPUOPT_INIT, _RTEMS_CPUOPT_FINI.
	* configure.ac: Apply _RTEMS_CPU_INIT, _RTEMS_CPUOPT_FINI.
	Cleanup mal-formated RTEMS_CPUOPT's.

2008-06-30 	Ralf Corsépius <ralf.corsepius@rtems.org>

	* aclocal/rtems-top.m4: Require AC_DISABLE_OPTION_CHECKING.
	AC_PREREQ(2.62).

2008-06-19	Matthew Riek <matthew.riek@ibiscomputer.com.au>

	* sapi/include/confdefs.h: Use the PRIORITY_DEFAULT_MAXIMUM rather
	than a number.

2008-06-17	Joel Sherrill <joel.sherrill@oarcorp.com>

	* sapi/include/confdefs.h: When you disabled newlib reentrancy, it
	still reserved memory for the reentrancy structure. This is about 1K
	per task. On psim, we now reserve only 1936 bytes and only 240 remain
	after all allocations. Further analysis will be required to narrow
	that down. In addition, the new constant CONFIGURE_CONFDEFS_DEBUG can
	be defined and the structure named Configuration_Memory_Debug will be
	instantiated. This structure contains many of the component values
	that go into the memory reservation computation. This is helpful when
	tracking down problems.

2008-06-17	Joel Sherrill <joel.sherrill@oarcorp.com>

	* sapi/include/confdefs.h: The math in the _Configure_Object_RAM macro
	was always adding heap overhead even when the number of objects
	configured was zero and we would not do an allocation. This resulted
	in an over estimation of the amount of Workspace required (~2K on
	minimum.exe on PowerPC).

2008-06-17	Chris Johns <chrisj@rtems.org>

	* cpukit/sapi/include/confdefs.h: Add missing quote to string to
	remove warning.
	
	* cpukit/score/cpu/m68k/rtems/score/m68k.h: Add the default
	priority level for large memory Coldfires.

2008-06-16	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/include/rtems/rtems/config.h,
	rtems/include/rtems/rtems/tasks.h, rtems/src/taskgetnote.c,
	rtems/src/tasks.c, rtems/src/tasksetnote.c, sapi/include/confdefs.h:
	Add CONFIGURE_DISABLE_CLASSIC_API_NOTEPADS.

2008-06-13	Joel Sherrill <joel.sherrill@oarcorp.com>

	* sapi/include/confdefs.h, score/include/rtems/score/priority.h: Add
	CONFIGURE_IDLE_TASK_INITIALIZES_APPLICATION and
	CONFIGURE_MAXIMUM_PRIORITY.

2008-06-13	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/include/rtems/posix/pthread.h, posix/src/pthread.c,
	posix/src/pthreadcreate.c, rtems/include/rtems.h, rtems/src/attr.c,
	sapi/include/confdefs.h, sapi/include/rtems/config.h,
	score/inline/rtems/score/stack.inl, score/src/isr.c,
	score/src/mpci.c, score/src/threadcreateidle.c,
	score/src/threadinitialize.c, score/src/threadstackallocate.c: Add
	ability for application to configure minimum stack size. Add
	RTEMS_CONFIGURED_MINIMUM_STACK_SIZE constant so user can clearly
	indicate they want the configured as opposed to the recommended
	minimum stack size.

2008-06-10	Chris Johns <chrisj@rtems.org>

	* score/include/rtems/score/priority.h: Let the CPU define the
	maximum and minimum priority levels to reduce the amount of memory
	thread chains use.

2008-06-06	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/include/rtems.h, rtems/include/rtems/rtems/clock.h,
	rtems/include/rtems/rtems/config.h,
	rtems/include/rtems/rtems/dpmem.h,
	rtems/include/rtems/rtems/eventset.h,
	rtems/include/rtems/rtems/object.h, rtems/include/rtems/rtems/part.h,
	rtems/include/rtems/rtems/ratemon.h,
	rtems/include/rtems/rtems/region.h, rtems/include/rtems/rtems/sem.h,
	rtems/include/rtems/rtems/tasks.h, rtems/include/rtems/rtems/timer.h,
	rtems/include/rtems/rtems/types.h, rtems/src/ratemonperiod.c: Improve
	Classic API Doxygen.

2008-06-06	Joel Sherrill <joel.sherrill@OARcorp.com>

	* rtems/include/rtems/rtems/ratemon.h, rtems/src/ratemonperiod.c,
	score/include/rtems/score/thread.h: Complete previous patch. Add
	typedef for cpu usage statistics.

2008-06-06	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/src/__times.c, libmisc/cpuuse/cpuusagereport.c,
	libmisc/cpuuse/cpuusagereset.c, libmisc/monitor/mon-task.c,
	rtems/include/rtems/rtems/ratemon.h, rtems/src/ratemongetstatus.c,
	rtems/src/ratemonperiod.c, score/include/rtems/score/thread.h,
	score/src/threaddispatch.c, score/src/threadinitialize.c,
	score/src/threadtickletimeslice.c: Add typedefs for cpu usage and
	period timing statistics. Also renamed related variables and
	structure members so they are the same whether you are using
	nanosecond (e.g. struct timespec) or ticks (e.g. uint32_t)
	granularity. This lays the groundwork for future cleanup.

2008-06-05	Joel Sherrill <joel.sherrill@OARcorp.com>

	* sapi/include/confdefs.h: Rework to be more accurate on allocation. In
	particular, there was a report from that Matthew Riek that memory was
	being reserved twice for the IDLE task. This was covering up other
	places that under allocated memory. Before I was done, I had reworked
	the file to be easier to read, maintain and be more accurate.

2008-06-05	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/include/rtems/score/isr.h, score/src/isr.c: Use
	CPU_SIMPLE_VECTORED_INTERRUPTS porting parameter to avoid allocating
	memory for vector table.

2008-06-05	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/src/wkspace.c: Fix error in comment.

2008-06-05	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/src/psignal.c: Do not allocate any memory for queued signals if
	the configuration parameter is 0. Before we would end up with an
	allocation of 0 which rounded up and wasted some memory when POSIX
	was configured.

2008-06-05	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/src/newlibc_exit.c: Only run the fini section on exit if
	the target toolset uses init/fini sections.

2008-06-05	Joel Sherrill <joel.sherrill@OARcorp.com>

	* itron/include/rtems/itron/task.h, itron/src/task.c: ITRON currently
	has no functional data in the user extension data area structure so
	this disables the definition, allocation and deallocation of that
	structure. If we ever have to add data to it, then it will be easy to
	reenable.

2008-06-04	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/src/objectgetinfo.c, score/src/objectidtoname.c,
	score/src/threadget.c: Make sure the pointer to the API object table
	is valid before derefencing it.

2008-06-02	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/include/rtems/score/interr.h, score/src/interr.c: Convention
	calls for leading underscore on private RTEMS variables.

2008-05-31	Ralf Corsépius <ralf.corsepius@rtems.org>

	* score/include/rtems/score/object.h, 
	score/include/rtems/score/watchdog.h: Move #include's out of 
	extern "C" {}.

2008-05-30	Till Straumann <strauman@slac.stanford.edu>

	* libfs/src/nfsclient/src/nfs.c:BUGFIX: must not attempt to
	release node if rtems_filesystem_evaluate_path() fails
	in nfs_eval_link() since pathloc contains no valid node.

2008-05-27	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/shell/shell_getchar.c: Minor change so dropping connection
	while at prompt results in shell logging out and connection still
	being available.

2008-05-27	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/src/newlibc_exit.c, score/src/threadhandler.c: Call
	fini() as part of exit(). This avoids atexit() being a required
	function.

2008-05-27	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/shell/shell.c: Minor change so dropping connection during
	login prompt results in connection still being available.


2008-05-27	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* score/include/rtems/score/object.h,
	rtems/include/rtems/rtems/types.h: Added new defines OBJECTS_ID_NONE
	and RTEMS_ID_NONE.  No object can have this ID.

2008-05-27	Sebastian Huber <Sebastian.Huber@embedded-brains.de>

	* include/rtems/fs.h, libblock/include/rtems/diskdevs.h,
	libblock/src/diskdevs.c, libcsupport/include/rtems/libio.h,
	libcsupport/src/base_fs.c, libcsupport/src/error.c,
	libcsupport/src/libio.c, libcsupport/src/mount.c, libfs/src/dosfs/fat.c,
	libfs/src/dosfs/msdos.h, libfs/src/dosfs/msdos_handlers_dir.c,
	libfs/src/dosfs/msdos_handlers_file.c, libfs/src/dosfs/msdos_init.c,
	libfs/src/dosfs/msdos_initsupp.c, libfs/src/imfs/deviceio.c,
	libfs/src/imfs/imfs.h, libfs/src/imfs/imfs_config.c,
	libfs/src/imfs/imfs_creat.c, libfs/src/imfs/imfs_getchild.c,
	libfs/src/imfs/imfs_handlers_device.c,
	libfs/src/imfs/imfs_handlers_directory.c,
	libfs/src/imfs/imfs_handlers_link.c,
	libfs/src/imfs/imfs_handlers_memfile.c, libfs/src/imfs/imfs_init.c,
	libfs/src/imfs/imfs_initsupp.c, libfs/src/imfs/imfs_symlink.c,
	libfs/src/imfs/imfs_unixstub.c, libfs/src/imfs/miniimfs_init.c,
	posix/include/rtems/posix/psignal.h, posix/src/psignal.c,
	rtems/include/rtems/rtems/status.h, rtems/src/semtranslatereturncode.c,
	sapi/include/confdefs.h, sapi/include/rtems/io.h,
	sapi/src/ioregisterdriver.c, sapi/src/itronapi.c, sapi/src/posixapi.c:
	Added const qualifier to various pointers and data tables to
	reduce size of data area.
	IMFS: Fixed creation of symbolic links to avoid a compiler warning.
	DOSFS: Use LibBlock instead of read() to read the boot record.
	
2008-05-27	Sebastian Huber <Sebastian.Huber@embedded-brains.de>

	* libcsupport/include/console.h: New define: CONSOLE_DEVICE_NAME.

2008-05-27	Sebastian Huber <Sebastian.Huber@embedded-brains.de>

	* libcsupport/src/printk.c:
	Bugfix: String output without width option.

2008-05-27	Sebastian Huber <Sebastian.Huber@embedded-brains.de>

	* libnetworking/net/if_ppp.c, libnetworking/net/if_pppvar.h:
	Bugfix: Moved definition of ppp_softc into source file.

2008-05-23	Till Straumann <strauman@slac.stanford.edu>

	* libnetworking/netinet/ip_output.c: when fragmenting
	multicast packets M_MCAST must be set on all fragments.
	This was fixed in FreeBSD ip_output.c 1.82 on 1998/8/23 !
	(see my email to rtems-users from 2008/5/15).

2008-05-22	Joel Sherrill <joel.sherrill@oarcorp.com>

	* itron/include/rtems/itron/task.h, itron/src/del_tsk.c,
	itron/src/exd_tsk.c, itron/src/task.c,
	posix/include/rtems/posix/threadsup.h, posix/src/cancel.c,
	posix/src/cancelrun.c, posix/src/pthread.c, posix/src/pthreadexit.c,
	posix/src/setcancelstate.c, posix/src/setcanceltype.c,
	posix/src/testcancel.c, rtems/src/taskdelete.c,
	score/inline/rtems/score/object.inl, score/src/objectclose.c,
	score/src/threadclose.c: Make all task delete/exit/cancel routines
	follow the same critical section pattern. Also ensure that POSIX
	cancelation routines are run at thread exit.

2008-05-22	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/src/termios_baud2index.c,
	libcsupport/src/termios_baud2num.c,
	libcsupport/src/termios_num2baud.c,
	libcsupport/src/termios_setinitialbaud.c: New files.

2008-05-22	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/Makefile.am, libcsupport/preinstall.am,
	libcsupport/include/rtems/termiostypes.h: Move termios helper
	routines from libchip to libcsupport. Add routine which makes it easy
	for a termios device driver to inform termios of its default baud
	rate. This avoids inconsistencies in later termios settings changes.

2008-05-22	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/include/rtems/watchdogdrv.h: Finish writing comments.

2008-05-22	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/preinstall.am, sapi/include/confdefs.h: Add baseline
	interface for Watchdog Driver.
	* libcsupport/include/rtems/watchdogdrv.h: New file.

2008-05-16	Till Straumann <strauman@slac.stanford.edu>

	* score/src/threadchangepriority.c: Just in case the transient
	state was set when we entered, ensure that it is still set when
	we exit.
	* score/src/threadclose.c: When a thread is being deleted, it should
	go into the dormant state -- not the transient state.

2008-05-15	Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* libi2c/libi2c.h, libi2c/libi2c.h: added interface to query
	driver private data

2008-05-13	Eric Norum: <norume@aps.anl.gov>

	* cpukit/libcsupport/src/mallocinfo.c: Add locks around non-atomic
	structure assignment.

2008-05-13	Robert S. Grimes <rsg@alum.mit.edu>

	* libi2c/libi2c.h: Fix typo.

2008-05-13	Joel Sherrill <joel.sherrill@oarcorp.com>

	* pppd/example/system.h: Fix path in example -- NOT COMPILED WITH
	CPUKIT.

2008-05-12	Joel Sherrill <joel.sherrill@OARcorp.com>

	* sapi/include/rtems/init.h, sapi/src/exinit.c: Refactored and renamed
	initialization routines to rtems_initialize_data_structures,
	rtems_initialize_before_drivers, rtems_initialize_device_drivers, and
	rtems_initialize_start_multitasking. This opened the sequence up so
	that bootcard() could provide a more robust and flexible framework
	which is easier to explain and understand. This also lays the
	groundwork for sharing the division of available memory between the
	RTEMS workspace and heap and the C library initialization across all
	BSPs.

2008-05-06	Joel Sherrill <joel.sherrill@oarcorp.com>

	* sapi/src/exinit.c, score/src/threadstartmultitasking.c: Improve
	comments.

2008-05-06	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/src/objectget.c: Improve comments and readability.

2008-05-06	Joel Sherrill <joel.sherrill@OARcorp.com>

	* rtems/include/rtems/rtems/message.h, sapi/include/confdefs.h,
	score/src/coresemseize.c, score/src/threadhandler.c: Comment
	improvements from class.

2008-05-06	Joel Sherrill <joel.sherrill@oarcorp.com>

	PR 1285/rtems
	* sapi/include/rtems/config.h: Remove obsolete
	rtems_configuration_get_maximum_devices().

2008-05-01	Chris Johns <chrisj@rtems.org>

	* libblock/include/rtems/nvdisk-sram.h,
	libblock/include/rtems/nvdisk.h,
	libblock/src/nvdisk-sram.c,
	libblock/src/nvdisk.c: New. A Non-volatile memory disk drive.
	* Makefile.am, preinstall.am, libblock/Makefile.am: Updated for
	the NV disk driver.

2008-05-01  Maarten Van Es <maarten@mind.be>

	* libnetworking/rtems/rtems_dhcp.c: Removed panic()s.  Added
	interface for rtems_dhcp_failsafe.
	* libnetworking/rtems/rtems_dhcp.h: Added interface for
	rtems_dhcp_failsafe.

2008-05-01  Arnout Vandecappelle <arnout@mind.be>

	* libnetworking/nfs/bootp_subr: Allow some errors for sosend() and
	return on timeout in bootpc_call().  Removed panic()s.
	* libnetworking/rtems/rtems_glue.c: Fix the cast for the
	SIOCAIFADDR ioctl call.
	* libnetworking/rtems/rtems_dhcp_failsafe.c,
	libnetworking/rtems/rtems_dhcp_failsafe.h: New.
	* libnetworking/Makefile.am, libnetworking/preinstall.am: Added
	rtems_dhcp_failsafe.c and rtems_dhcp_failsafe.h files.

2008-04-30	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/include/rtems/rtems/timer.h: Fix typo.

2008-04-28	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/include/rtems.h, rtems/include/rtems/rtems/ratemon.h,
	rtems/include/rtems/rtems/status.h,
	rtems/include/rtems/rtems/tasks.h, rtems/include/rtems/rtems/timer.h,
	rtems/inline/rtems/rtems/sem.inl: More Doxygen warnings removed.

2008-04-28	Daron Chabot <daron.chabot@usask.ca>

	* posix/src/keycreate.c, posix/src/pthreadequal.c,
	rtems/src/semtranslatereturncode.c,
	score/src/threadblockingoperationcancel.c: Fix compilation errors
	when --enable-rtems-debug is used.

2008-04-25	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/include/rtems/system.h: Fix typo in comment.

2008-04-23	Joel Sherrill <joel.sherrill@OARcorp.com>

	* rtems/include/rtems/rtems/partmp.h, sapi/include/confdefs.h: Fix
	typos added with recent changes.

2008-04-22	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/Makefile.am, libcsupport/include/rtems/libio.h: Remove
	rtems_termios_reserve_resources. It is obsolete.
	* libcsupport/src/termiosreserveresources.c: Removed.

2008-04-18	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/mainpage.h: New file.

2008-04-18	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/Doxyfile, rtems/include/rtems/rtems/asr.h,
	rtems/include/rtems/rtems/attr.h,
	rtems/include/rtems/rtems/barrier.h,
	rtems/include/rtems/rtems/barriermp.h,
	rtems/include/rtems/rtems/cache.h,
	rtems/include/rtems/rtems/config.h,
	rtems/include/rtems/rtems/dpmem.h, rtems/include/rtems/rtems/event.h,
	rtems/include/rtems/rtems/eventmp.h,
	rtems/include/rtems/rtems/eventset.h,
	rtems/include/rtems/rtems/intr.h,
	rtems/include/rtems/rtems/message.h,
	rtems/include/rtems/rtems/modes.h, rtems/include/rtems/rtems/mp.h,
	rtems/include/rtems/rtems/msgmp.h,
	rtems/include/rtems/rtems/options.h,
	rtems/include/rtems/rtems/part.h, rtems/include/rtems/rtems/partmp.h,
	rtems/include/rtems/rtems/ratemon.h,
	rtems/include/rtems/rtems/region.h,
	rtems/include/rtems/rtems/regionmp.h,
	rtems/include/rtems/rtems/rtemsapi.h,
	rtems/include/rtems/rtems/sem.h, rtems/include/rtems/rtems/semmp.h,
	rtems/include/rtems/rtems/signal.h,
	rtems/include/rtems/rtems/signalmp.h,
	rtems/include/rtems/rtems/status.h,
	rtems/include/rtems/rtems/support.h,
	rtems/include/rtems/rtems/taskmp.h,
	rtems/include/rtems/rtems/tasks.h, rtems/include/rtems/rtems/timer.h,
	rtems/include/rtems/rtems/types.h, rtems/inline/rtems/rtems/asr.inl,
	rtems/inline/rtems/rtems/attr.inl,
	rtems/inline/rtems/rtems/barrier.inl,
	rtems/inline/rtems/rtems/dpmem.inl,
	rtems/inline/rtems/rtems/event.inl,
	rtems/inline/rtems/rtems/message.inl,
	rtems/inline/rtems/rtems/modes.inl,
	rtems/inline/rtems/rtems/options.inl,
	rtems/inline/rtems/rtems/part.inl,
	rtems/inline/rtems/rtems/ratemon.inl,
	rtems/inline/rtems/rtems/region.inl,
	rtems/inline/rtems/rtems/sem.inl,
	rtems/inline/rtems/rtems/status.inl,
	rtems/inline/rtems/rtems/support.inl,
	rtems/inline/rtems/rtems/timer.inl: More Doxygen improvements.

2008-04-18	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/include/rtems.h, rtems/include/rtems/rtems/asr.h,
	rtems/include/rtems/rtems/attr.h,
	rtems/include/rtems/rtems/barrier.h,
	rtems/include/rtems/rtems/barriermp.h,
	rtems/include/rtems/rtems/cache.h, rtems/include/rtems/rtems/clock.h,
	rtems/include/rtems/rtems/config.h,
	rtems/include/rtems/rtems/dpmem.h, rtems/include/rtems/rtems/event.h,
	rtems/include/rtems/rtems/eventmp.h,
	rtems/include/rtems/rtems/eventset.h,
	rtems/include/rtems/rtems/intr.h,
	rtems/include/rtems/rtems/message.h,
	rtems/include/rtems/rtems/modes.h, rtems/include/rtems/rtems/mp.h,
	rtems/include/rtems/rtems/msgmp.h,
	rtems/include/rtems/rtems/object.h,
	rtems/include/rtems/rtems/options.h,
	rtems/include/rtems/rtems/part.h, rtems/include/rtems/rtems/partmp.h,
	rtems/include/rtems/rtems/ratemon.h,
	rtems/include/rtems/rtems/region.h,
	rtems/include/rtems/rtems/regionmp.h,
	rtems/include/rtems/rtems/rtemsapi.h,
	rtems/include/rtems/rtems/sem.h, rtems/include/rtems/rtems/semmp.h,
	rtems/include/rtems/rtems/signal.h,
	rtems/include/rtems/rtems/signalmp.h,
	rtems/include/rtems/rtems/status.h,
	rtems/include/rtems/rtems/support.h,
	rtems/include/rtems/rtems/taskmp.h,
	rtems/include/rtems/rtems/tasks.h, rtems/include/rtems/rtems/timer.h,
	rtems/include/rtems/rtems/types.h, rtems/inline/rtems/rtems/asr.inl,
	rtems/inline/rtems/rtems/attr.inl,
	rtems/inline/rtems/rtems/barrier.inl,
	rtems/inline/rtems/rtems/dpmem.inl,
	rtems/inline/rtems/rtems/event.inl,
	rtems/inline/rtems/rtems/eventset.inl,
	rtems/inline/rtems/rtems/message.inl,
	rtems/inline/rtems/rtems/modes.inl,
	rtems/inline/rtems/rtems/options.inl,
	rtems/inline/rtems/rtems/part.inl,
	rtems/inline/rtems/rtems/ratemon.inl,
	rtems/inline/rtems/rtems/region.inl,
	rtems/inline/rtems/rtems/sem.inl,
	rtems/inline/rtems/rtems/status.inl,
	rtems/inline/rtems/rtems/support.inl,
	rtems/inline/rtems/rtems/tasks.inl,
	rtems/inline/rtems/rtems/timer.inl: Initial conversion of Classic API
	header files to Doxygen.
	* rtems/Doxyfile: New file.

2008-04-18	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/src/key.c: Include <limits.h>
	* posix/src/psignal.c, rtems/src/tasks.c: Do not attempt to process
	a NULL extension block.

2008-04-17	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/dummy/dummy.c, sapi/include/confdefs.h: Add checks for
	application configuration errors. If any POSIX objects or a POSIX
	init thread is configured without POSIX being configure, then error
	out. Similarly for ITRON. Add
	CONFIGURE_APPLICATION_DOES_NOT_NEED_CLOCK_DRIVER configuration
	parameter so the application has to explicitly configure the Clock
	driver in or out if the Timer driver is not configured. Also verify
	RTEMS was built for multiprocessing, if the user tries to configure a
	multiprocessing application.

2008-04-12	Chris Johns <chrisj@rtems.org>

	* libmisc/shell/shell.c, libmisc/shell/shell.h,
	libmisc/shell/shell_script.c: Add support to echo the commands to
	stdout. This is useful with the -v script option to show commands
	as the run. Also added support to chdir to the directory the task
	invoking the script is in.
	* libmisc/shell/extern-cp.h, libmisc/shell/main_cp.c,
	libmisc/shell/utils-cp.c: Update tro the latest FreeBSD version.
	* libcsupport/Makefile.am, libcsupport/src/fchown.c: Add fchown
	support.

2008-04-09	Madhusudan.C.S <madhusudancs@gmail.com>

	* score/include/rtems/score/tod.h: Fix typo.

2008-04-08	Chris Johns <chrisj@rtems.org>

	* libmisc/shell/shell.c: Copy the cmd line to a buffer to split
	into argv parts. Was using the command line history buffer so the
	history was being corrupted.

2008-04-03	Chris Johns <chrisj@rtems.org>

	* libfs/src/nfsclient/src/librtemsNfs.h,
	libfs/src/nfsclient/src/nfs.c: Remove CEXP references. CEXP is
	external to RTEMS and even if in the cpukit it should not cross
	reference in this way.
	* libmisc/shell/shell_getchar.c: New. Taken from the monitor.
	* libmisc/Makefile.am: Add shell_getchar.c and clean up a little
	in the shell area.
	* libmisc/shell/shell.c, libmisc/shell/shell.h: Add line editting
	support.

2008-03-29	Chris Johns <chrisj@rtems.org>

	* librpc/include/rpc/clnt.h: Added the missing __BEGIN_DECLS as
	reported to the mailing list by Pierre Kestener
	(pierre.kestener@cea.fr).

2008-03-25	Till Straumann <strauman@slac.stanford.edu>

	* shttpd/log.c: Activate SPLIT_SNPRINTF for gcc <= 4.2.3 and
	  coldfire.

2008-03-12	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/shell/cmds.c: Directly register the command structure to
	avoid unnecessary duplication of static strings. We know best this
	time.

2008-03-11	Joel Sherrill <joel.sherrill@OARcorp.com>

	* sapi/include/confdefs.h: Do not reserve 2 * minimum stack size
	for the ITRON initialization tasks ALL the time.
	Do not reserve memory for the object name table since it does not
	exist any longer.
	* sapi/include/rtems/sptables.h: Fix typo.

2008-03-11	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/Makefile.am, rtems/include/rtems/rtems/clock.h,
	rtems/src/clockget.c:
	* rtems/src/clockgetsecondssinceepoch.c,
	rtems/src/clockgettickspersecond.c,
	rtems/src/clockgettickssinceboot.c, rtems/src/clockgettod.c,
	rtems/src/clockgettodtimeval.c: New files.
	Refactored rtems_clock_get into 5 methods which are single purpose
	and more strongly typed.  They are:
	    rtems_clock_get_tod - Get TOD in Classic API structure
	    rtems_clock_get_tod_timeval - Get TOD in struct timeval
	    rtems_clock_get_seconds_since_epoch - Get TOD as seconds since 1988
	    rtems_clock_get_ticks_since_boot - Get ticks since boot
	    rtems_clock_get_ticks_per_second - Get ticks per second

2008-03-07	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/shell/main_cp.c, libmisc/shell/main_netstats.c,
	libmisc/shell/shell_script.c: Add memset() of getopt_data to
	ensure it is zeroed out each time we use getopt_r().
	* libmisc/shell/shell.c: Do not echo commands if input is not a tty.
	This makes the scripts behave more like UNIX scripts.

2008-03-07	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/Makefile.am: Make clock_settime() available always just like
	clock_gettime().

2008-03-04	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/include/rtems/score/copyrt.h: Update year.

2008-03-04	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/src/gxx_wrappers.c: Add rtems_gxx_mutex_destroy as needed
	by gcc newer than the 4.3 release series.

2008-03-04	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/Makefile.am, libmisc/shell/main_cp.c,
	libmisc/shell/main_cpuuse.c, libmisc/shell/main_date.c,
	libmisc/shell/main_mallocinfo.c, libmisc/shell/main_netstats.c,
	libmisc/shell/main_perioduse.c, libmisc/shell/main_stackuse.c,
	libmisc/shell/main_wkspaceinfo.c, libmisc/shell/print_heapinfo.c,
	libmisc/shell/shell.c, libmisc/shell/shell.h,
	libmisc/shell/shell_makeargs.c, libmisc/shell/shellconfig.c,
	libmisc/shell/shellconfig.h, libmisc/shell/write_file.c: Add initial
	capability to automatically execute a script from the filesystem. Add
	echo command from NetBSD and sleep command.
	* libmisc/shell/main_echo.c, libmisc/shell/main_sleep.c,
	libmisc/shell/shell_script.c: New files.

2008-02-28	Joel Sherrill <joel.sherrill@oarcorp.com>

	* itron/include/rtems/itron/task.h, itron/src/cre_tsk.c,
	posix/src/pthreadcreate.c, rtems/src/taskcreate.c,
	rtems/src/taskdelete.c, rtems/src/timerserver.c,
	score/src/threadclose.c, score/src/threadcreateidle.c,
	score/src/threadinitialize.c: Switch task create and delete
	operations to using API Allocator Mutex. This moves almost all uses
	of the RTEMS Workspace from dispatching disabled to mutex protected
	which should improve deterministic behavior. The implementation was
	carefully done to allow task create and delete extensions to invoke
	more services. In particular, a task delete extension should be able
	to do mutex and file operations.

2008-02-28	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/Makefile.am: Turn on NFS mount support when networking is
	enabled.

2008-02-28	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/src/chroot.c: Formatting.

2008-02-27	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/shell/cat_file.c, libmisc/shell/main_alias.c,
	libmisc/shell/main_blksync.c, libmisc/shell/main_cat.c,
	libmisc/shell/main_chdir.c, libmisc/shell/main_chmod.c,
	libmisc/shell/main_chroot.c, libmisc/shell/main_cpuuse.c,
	libmisc/shell/main_date.c, libmisc/shell/main_help.c,
	libmisc/shell/main_id.c, libmisc/shell/main_logoff.c,
	libmisc/shell/main_ls.c, libmisc/shell/main_mallocinfo.c,
	libmisc/shell/main_mdump.c, libmisc/shell/main_medit.c,
	libmisc/shell/main_mfill.c, libmisc/shell/main_mkdir.c,
	libmisc/shell/main_mmove.c, libmisc/shell/main_mount.c,
	libmisc/shell/main_mount_nfs.c, libmisc/shell/main_msdosfmt.c,
	libmisc/shell/main_mwdump.c, libmisc/shell/main_perioduse.c,
	libmisc/shell/main_pwd.c, libmisc/shell/main_rm.c,
	libmisc/shell/main_rmdir.c, libmisc/shell/main_stackuse.c,
	libmisc/shell/main_tty.c, libmisc/shell/main_umask.c,
	libmisc/shell/main_unmount.c, libmisc/shell/main_whoami.c,
	libmisc/shell/shell.h: Clean up done while writing documentation.
	Some command improvements such as date now allows setting of the
	current TOD. Often commands did not use stdout/stderr per
	expectations and did not return -1 on an error.

2008-02-26	Joel Sherrill <joel.sherrill@OARcorp.com>

	* configure.ac, libfs/Makefile.am: Add nfsclient to cpukit. Although
	the use of RPC/XDR could be an issue, the code does build multilib
	across all targets. There are a few remaining warnings to deal with.
	* libfs/src/nfsclient/.cvsignore, libfs/src/nfsclient/ChangeLog.slac,
	libfs/src/nfsclient/LICENSE, libfs/src/nfsclient/Makefile.am,
	libfs/src/nfsclient/README, libfs/src/nfsclient/preinstall.am,
	libfs/src/nfsclient/rfc1094.txt,
	libfs/src/nfsclient/proto/mount_prot.h,
	libfs/src/nfsclient/proto/mount_prot.x,
	libfs/src/nfsclient/proto/mount_prot_xdr.c,
	libfs/src/nfsclient/proto/nfs_prot.h,
	libfs/src/nfsclient/proto/nfs_prot.x,
	libfs/src/nfsclient/proto/nfs_prot_xdr.c,
	libfs/src/nfsclient/src/cexphelp.c,
	libfs/src/nfsclient/src/dirutils.c,
	libfs/src/nfsclient/src/librtemsNfs.h, libfs/src/nfsclient/src/nfs.c,
	libfs/src/nfsclient/src/nfs.modini.c,
	libfs/src/nfsclient/src/nfsTest.c, libfs/src/nfsclient/src/rpcio.c,
	libfs/src/nfsclient/src/rpcio.h,
	libfs/src/nfsclient/src/rpcio.modini.c,
	libfs/src/nfsclient/src/sock_mbuf.c,
	libfs/src/nfsclient/src/xdr_mbuf.c: New files.

2008-02-26	Joel Sherrill <joel.sherrill@OARcorp.com>

	* sapi/include/rtems/config.h, sapi/include/rtems/sptables.h: Add
	missing field to default multiprocessing configuration table. Also
	document fields in Doxygen format.

2008-02-26	Joel Sherrill <joel.sherrill@OARcorp.com>

	* rtems/src/regionmp.c, score/src/objectnametoidstring.c: Fix some
	warnings.

2008-02-20	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/Makefile.am, libmisc/shell/shellconfig.h: Add netstats
	command to access statistics reporting functions in TCP/IP stack.
	* libmisc/shell/main_netstats.c: New file.

2008-02-19	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/Makefile.am, libmisc/shell/main_wkspaceinfo.c,
	libmisc/shell/shell.c, libmisc/shell/shellconfig.h: Add route and
	ifconfig commands. The code for these was previously in the
	networking guide. Disable NFS filesystem mount until that code is in
	cpukit.
	* libmisc/shell/main_ifconfig.c, libmisc/shell/main_route.c: New files.

2008-02-16	Ralf Corsépius <ralf.corsepius@rtems.org>

	* posix/preinstall.am,  libcsupport/preinstall.am:
	Revert Joel's  2008-01-31 screw up.

2008-02-15	Ralf Corsépius <ralf.corsepius@rtems.org>

	* posix/include/rtems/posix/timer.h: Add c++ guards.
	* posix/src/cond.c, posix/src/mutex.c, posix/src/pbarrier.c,
	posix/src/prwlock.c, posix/src/pspin.c: Include <limits.h>.
	* libcsupport/include/motorola/mc68230.h: Prefix defines with
	MC68230_ to avoid preprocessor clashes.

2008-02-06	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/src/mqueueunlink.c, score/Makefile.am,
	score/include/rtems/score/object.h,
	score/inline/rtems/score/object.inl: Enhance
	_Objects_Namespace_remove() to handle freeing object names which are
	strings. All changed _Objects_Close() to call
	_Objects_Namespace_remove(). The resulting code was then moved from
	inline routines to function calls.
	* score/src/objectclose.c, score/src/objectnamespaceremove.c: New files.

2008-02-06	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/src/printk.c: Added width and padding for %s.
	* libmisc/cpuuse/cpuusagereport.c: Support object names that are
	strings longer than 4 chanracters.

2008-02-06	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1277/networking
	* libnetworking/netinet/in_cksum_i386.h: Use q instead of r in
	constraint for assembly language. This restricts the register choice
	to the a-d registers.

2008-02-05	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libnetworking/kern/uipc_socket2.c,
	libnetworking/netinet/tcp_usrreq.c,
	libnetworking/netinet/udp_usrreq.c,
	libnetworking/rtems/rtems_bsdnet.h, libnetworking/rtems/rtems_glue.c:
	Add configuration parameters for network stack efficiency multiplier
	and default socket buffer sizes. Change default multiplier from 8 to
	2 to match GNU/Linux. This has no impact on performance on the BSPs
	tested.

2008-02-04	Jennifer Averett <jennifer.averett@OARcorp.com>

	* rtems/Makefile.am, rtems/include/rtems/rtems/support.h: Added
	workspace manipulation routines for testing.
	* rtems/src/workspace.c: New file.

2008-02-04	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/src/rtemsobjectsetname.c, score/src/objectgetinfoid.c,
	score/src/objectgetnameasstring.c, score/src/objectidtoname.c: Handle
	Object Id of SELF.

2008-01-31	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/src/clockgettime.c, posix/src/clocksettime.c,
	Minor modifications to improve testability.
	* posix/src/pthreadcreate.c: Add NULL check for thread entry.

2008-01-31	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/src/pthreadinitthreads.c: Clean up error paths.

2008-01-31	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/preinstall.am, posix/preinstall.am: Revert temporary
	changes which aid in coverage testing.

2008-01-31	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/src/cond.c, posix/src/key.c, posix/src/mqueuenametoid.c,
	posix/src/mutex.c, posix/src/pbarrier.c, posix/src/prwlock.c,
	posix/src/pspin.c, posix/src/pthread.c, posix/src/ptimer.c,
	posix/src/semaphorenametoid.c: Add option for all POSIX objects
	whether named or unnamed to have a string name.  If the API does
	not directly support having a name, then the user must explicitly
	assign it using rtems_object_set_name().
	* rtems/src/rtemsobjectgetapiclassname.c: Improved testability.
	* score/include/rtems/score/object.h,
	score/src/objectgetnameasstring.c, score/src/objectnametoidstring.c,
	score/src/objectsetname.c: Modifications required to pass testing of
	recently modified object name operations.  Also eliminated
	multiprocessing related code that was not reachable.

2008-01-31	Jennifer Averett <jennifer.averett@OARcorp.com>

	* posix/src/timersettime.c: Fix to remove warning.

2008-01-31	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/src/posix_memalign.c: Remove warning.

2008-01-31	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/include/rtems/score/object.h, score/src/objectgetinfo.c,
	rtems/include/rtems/rtems/object.h,
	rtems/src/rtemsobjectgetapiclassname.c,
	rtems/src/rtemsobjectgetclassinfo.c: class is a C++ keyword and
	cannot be used as a parameter.

2008-01-30	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/Makefile.am, score/include/rtems/score/threadq.h,
	score/inline/rtems/score/threadq.inl: _Thread_queue_Process_timeout
	was really too complex to be inlined.
	* score/src/threadqprocesstimeout.c: New file.

2008-01-29	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/Doxyfile: Revert Doxygen version changes.

2008-01-29	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/Doxyfile: Update to latest Doxygen format.
	* score/include/rtems/score/apimutex.h,
	score/include/rtems/score/corebarrier.h,
	score/include/rtems/score/coremutex.h,
	score/include/rtems/score/corerwlock.h,
	score/include/rtems/score/heap.h, score/include/rtems/score/object.h,
	score/include/rtems/score/protectedheap.h,
	score/include/rtems/score/thread.h,
	score/include/rtems/score/threadsync.h,
	score/include/rtems/score/tod.h,
	score/inline/rtems/score/corerwlock.inl,
	score/inline/rtems/score/corespinlock.inl: Remove most doxygen
	warnings.

2008-01-29	Joel Sherrill <joel.sherrill@OARcorp.com>

	* rtems/src/rtemsobjectgetapiclassname.c: Class name strings are not
	available when API is disabled. Do not attempt to use them.

2008-01-29	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/include/rtems/system.h: First cut at Doxygen mainpage.

2008-01-29	Joel Sherrill <joel.sherrill@oarcorp.com>

	* itron/src/exd_tsk.c, itron/src/task.c, libmisc/capture/capture.c,
	libmisc/monitor/mon-config.c, libmisc/monitor/mon-driver.c,
	libmisc/monitor/mon-itask.c, libmisc/monitor/mon-monitor.c,
	libmisc/monitor/mon-mpci.c, libmisc/monitor/mon-object.c,
	libmisc/monitor/mon-symbols.c, posix/src/cancelrun.c,
	posix/src/pthreadexit.c, rtems/Makefile.am, rtems/preinstall.am,
	rtems/include/rtems.h, rtems/include/rtems/rtems/support.h,
	rtems/inline/rtems/rtems/tasks.inl, rtems/src/eventmp.c,
	rtems/src/msgmp.c, rtems/src/partmp.c, rtems/src/regionmp.c,
	rtems/src/rtemsobjectgetname.c, rtems/src/semmp.c,
	rtems/src/signalmp.c, rtems/src/taskdelete.c, rtems/src/taskmp.c,
	rtems/src/timerserver.c, score/Makefile.am,
	score/include/rtems/score/object.h,
	score/inline/rtems/score/object.inl, score/src/Unlimited.txt,
	score/src/objectgetnameasstring.c,
	score/src/threadqextractwithproxy.c: Add new Object Services
	collection. This changed the name of a few previously public but
	undocumented services and added a some new services.
	* rtems/include/rtems/rtems/object.h, rtems/src/rtemsbuildid.c,
	rtems/src/rtemsbuildname.c, rtems/src/rtemsobjectapimaximumclass.c,
	rtems/src/rtemsobjectapiminimumclass.c,
	rtems/src/rtemsobjectgetapiclassname.c,
	rtems/src/rtemsobjectgetapiname.c,
	rtems/src/rtemsobjectgetclassicname.c,
	rtems/src/rtemsobjectgetclassinfo.c,
	rtems/src/rtemsobjectidapimaximum.c,
	rtems/src/rtemsobjectidapiminimum.c, rtems/src/rtemsobjectidgetapi.c,
	rtems/src/rtemsobjectidgetclass.c, rtems/src/rtemsobjectidgetindex.c,
	rtems/src/rtemsobjectidgetnode.c, rtems/src/rtemsobjectsetname.c,
	score/src/objectapimaximumclass.c, score/src/objectgetinfo.c,
	score/src/objectgetinfoid.c, score/src/objectsetname.c: New files.
	* rtems/src/rtemsidtoname.c: Removed.

2008-01-29	Jennifer Averett <jennifer.averett@OARcorp.com>

	* score/src/corerwlockrelease.c, score/src/coresemseize.c: Changed
	switch statements to if statements.

2008-01-29	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/Makefile.am, libcsupport/include/rtems/malloc.h,
	libcsupport/src/malloc_walk.c, libcsupport/src/posix_memalign.c,
	libcsupport/src/realloc.c, score/src/heapwalk.c: Add rtems_memalign
	as helper and as exposed nmemalign variant with few restrictions.
	Also turn on compilation of _Heap_Walk but make forced calls to it
	conditionally compiled. This should allow more flexibility to the
	user as to run-time checking of the heap.
	* libcsupport/src/rtems_memalign.c: New file.

2008-01-28	Joel Sherrill <joel.sherrill@OARcorp.com>

	* sapi/include/confdefs.h, score/src/mpci.c, score/src/objectmp.c,
	score/src/objectnametoid.c, score/src/objectnametoidstring.c:
	Multiprocessing compiles again and survives initialization. The
	recent object name and confdefs.h changes had broken it.

2008-01-25	Jennifer Averett <jennifer.averett@OARcorp.com>

	* sapi/include/rtems/fatal.h, score/include/rtems/score/coremutex.h,
	score/include/rtems/score/interr.h,
	score/inline/rtems/score/thread.inl, score/src/coremutexseize.c:
	Modifications to aid in full path testing.

2008-01-25	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/src/mqueuesendsupp.c: Remove warning.

2008-01-24	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/include/rtems/assoc.h: rtems_assoc_ptr_by_local should be
	in public API.

2008-01-24	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/include/rtems/score/object.h,
	score/src/objectextendinformation.c,
	score/src/objectinitializeinformation.c,
	score/src/objectshrinkinformation.c: Eliminate name_table since it is
	not used.

2008-01-23	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/src/objectnametoidstring.c: New file.

2008-01-23	Joel Sherrill <joel.sherrill@oarcorp.com>

	* itron/include/rtems/itron/object.h, itron/src/cre_tsk.c,
	libblock/src/show_bdbuf.c, libmisc/capture/capture-cli.c,
	libmisc/capture/capture.c, libmisc/monitor/mon-manager.c,
	libmisc/stackchk/check.c, posix/src/condinit.c,
	posix/src/keycreate.c, posix/src/mqueuecreatesupp.c,
	posix/src/mqueuedeletesupp.c, posix/src/mqueuenametoid.c,
	posix/src/mqueueopen.c, posix/src/mqueueunlink.c,
	posix/src/mutexinit.c, posix/src/pbarrierinit.c,
	posix/src/prwlockinit.c, posix/src/pspininit.c,
	posix/src/pthreadcreate.c, posix/src/pthreadexit.c,
	posix/src/semaphorecreatesupp.c, posix/src/semaphorenametoid.c,
	posix/src/timercreate.c, rtems/src/barrierident.c,
	rtems/src/dpmemident.c, rtems/src/msgqident.c, rtems/src/partident.c,
	rtems/src/ratemonident.c, rtems/src/regionident.c,
	rtems/src/semident.c, rtems/src/taskident.c, rtems/src/timerident.c,
	sapi/src/extensionident.c, score/Makefile.am,
	score/include/rtems/score/object.h,
	score/inline/rtems/score/object.inl, score/src/apimutexallocate.c,
	score/src/objectextendinformation.c,
	score/src/objectgetnameasstring.c, score/src/objectmp.c,
	score/src/objectnametoid.c: Convert the Objects_Name type from a
	simple type to a union of an unsigned 32 bit integer and a pointer.
	This should help eliminate weird casts between u32 and pointers in
	various places. The APIs now have to explicitly call _u32 or _string
	versions of helper routines. This should also simplify things and
	eliminate the need for ugly casts in some cases.
	* score/src/objectclearname.c, score/src/objectcomparenameraw.c,
	score/src/objectcomparenamestring.c, score/src/objectcopynameraw.c,
	score/src/objectcopynamestring.c: Removed.

2008-01-23	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/src/threadblockingoperationcancel.c: Clean up.
	* score/src/threadqextract.c: Restructure to eliminate dead code.

2008-01-22	Joel Sherrill <joel.sherrill@OARcorp.com>

	* rtems/src/eventsurrender.c, rtems/src/ratemonperiod.c,
	score/src/threadqdequeue.c, score/src/threadqdequeuefifo.c,
	score/src/threadqdequeuepriority.c: Fix bugs encountered while
	testing and clean up more code.

2008-01-22	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/src/threadqfirst.c: Remove switch.

2008-01-22	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/include/rtems/rtems/event.h,
	rtems/inline/rtems/rtems/eventset.inl, rtems/src/event.c,
	rtems/src/eventseize.c, rtems/src/eventsurrender.c,
	rtems/src/eventtimeout.c, score/Makefile.am, score/preinstall.am,
	score/include/rtems/score/interr.h,
	score/include/rtems/score/thread.h,
	score/include/rtems/score/threadq.h,
	score/include/rtems/score/tqdata.h,
	score/inline/rtems/score/threadq.inl,
	score/inline/rtems/score/tqdata.inl, score/src/threadq.c,
	score/src/threadqdequeue.c, score/src/threadqdequeuefifo.c,
	score/src/threadqdequeuepriority.c, score/src/threadqenqueue.c,
	score/src/threadqenqueuefifo.c, score/src/threadqenqueuepriority.c,
	score/src/threadqextract.c, score/src/threadqextractfifo.c,
	score/src/threadqextractpriority.c,
	score/src/threadqextractwithproxy.c, score/src/threadqfirst.c,
	score/src/threadqfirstfifo.c, score/src/threadqfirstpriority.c,
	score/src/threadqflush.c, score/src/threadqrequeue.c,
	score/src/threadqtimeout.c: Refactor thread queue enqueue and event
	blocking synchronization critical sections. This resulted in three
	copies of essentially the same hard to test critical section code
	becoming the one shared routine _Thread_blocking_operation_Cancel. In
	addition, the thread queue and event code now share a common
	synchronization enumerated type. Along the way, switches were
	reworked to eliminate dead code generated by gcc and comments and
	copyrights were updated.
	* score/include/rtems/score/threadsync.h,
	score/src/threadblockingoperationcancel.c: New files.

2008-01-22	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libi2c/README_libi2c: Correct spelling error.
	* score/src/threadclearstate.c: Improve comment.

2008-01-18	Jennifer Averett <jennifer.averett@OARcorp.com>

	* posix/include/rtems/posix/timer.h, posix/src/cleanuppop.c,
	posix/src/cleanuppush.c, posix/src/mqueueclose.c,
	posix/src/timergettime.c, posix/src/timersettime.c,
	score/include/rtems/score/timespec.h:

2008-01-16	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmisc/shell/Makefile.am: Don't use make variables.

2008-01-11	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/shell/shell.c: When stdin or stdout is NULL, just use
	existing one.

2008-01-09	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/include/rtems/score/wkspace.h,
	score/inline/rtems/score/wkspace.inl, score/src/wkspace.c: Do not
	inline _Workspace_Free or _Workspace_Allocate since they are not
	always inlined and actually smaller overall as subroutines. They are
	not particularly time critical so inlining is not absolutely
	necessary.

2008-01-09	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/Makefile.am, posix/include/rtems/posix/cond.h,
	posix/include/rtems/posix/mutex.h, posix/inline/rtems/posix/cond.inl,
	posix/inline/rtems/posix/mutex.inl: Do not include POSIX Mutex or
	Condition Variable object get helpers because they are more
	complicated than the norm. They can implicitly perform a create. They
	cross the line as being too complex and large to inline since they
	negatively impact size and binary test coverage.
	* posix/src/condget.c, posix/src/mutexget.c: New files.

2008-01-09	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/Makefile.am: Add src/malloc_dirtier.c.
	* libcsupport/include/rtems/malloc.h: Add malloc dirty support.
	* libcsupport/src/malloc_p.h: Correct prototype.

2008-01-09	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/include/rtems/score/coremutex.h,
	score/src/coremutexseizeintr.c: Fix conditional code for inlining
	_CORE_mutex_Seize_interrupt_trylock() and add comments.

2008-01-09	Joel Sherrill <joel.sherrill@oarcorp.com>

	* sapi/include/confdefs.h: Add CONFIGURE_MALLOC_DIRTY.

2008-01-09	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/Makefile.am, libcsupport/include/rtems/malloc.h,
	libcsupport/src/free.c, libcsupport/src/malloc.c,
	libcsupport/src/malloc_deferred.c,
	libcsupport/src/malloc_initialize.c, libcsupport/src/malloc_p.h,
	libcsupport/src/malloc_sbrk_helpers.c,
	libcsupport/src/posix_memalign.c: Place all deferred free code and
	place it in subroutines. Add plugin for dirtying allocated memory to
	assist in debugging. Clean up comments and spacing as needed.
	* libcsupport/src/malloc_dirtier.c: New file.

2008-01-09	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/src/objectgetnoprotection.c: Eliminate duplicate exit path code
	when there is an error.

2008-01-09	Jennifer Averett <jennifer.averett@OARcorp.com>

	* posix/src/keycreate.c, rtems/src/eventseize.c,
	score/include/rtems/score/interr.h: Rearranged source to allow more
	test coverage.

2008-01-09	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/src/__assert.c: Clean up and make __assert() call
	__assert_func().

2008-01-09	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/src/__assert.c: Newlib 1.16.0 adds __assert_func(). We
	need to have it also.

2008-01-08	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/Makefile.am: Add malloc_sbrk_helpers.c.
	* libcsupport/include/rtems/malloc.h,
	libcsupport/src/malloc.c, libcsupport/src/malloc_initialize.c,
	libcsupport/src/malloc_p.h,
	libcsupport/src/malloc_statistics_helpers.c: Make sbrk()
	support pluggable and optional.  This eliminates the need for
	heap extend and sbrk in the minimum footprint which is ~2.5K on
	the SPARC.
	* sapi/include/confdefs.h: Add the following configuration points:
	  + CONFIGURE_MALLOC_STATISTICS
	  + CONFIGURE_MALLOC_BSP_SUPPORTS_SBRK
	* libcsupport/src/malloc_sbrk_helpers.c: New file.

2008-01-08	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/Makefile.am: Add missing file.

2008-01-07	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/monitor/mon-manager.c: Style. Eliminate tabs.

2008-01-07	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/Makefile.am: Add new files.
	* libmisc/shell/internal.h: Prototype for rtems_shell_print_heap_info()
	* libmisc/shell/main_mallocinfo.c: Use rtems_shell_print_heap_info().
	* libmisc/shell/shellconfig.h: Add wkspace command.
	* libmisc/shell/main_wkspaceinfo.c,
	libmisc/shell/print_heapinfo.c: New files.

2008-01-07	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/inline/rtems/score/isr.inl: Fix spacing.
	* score/src/apimutexallocate.c: Fix spacing.
	* score/src/coremsgseize.c: Check for message pending instead of
	message pending count to avoid dead code from inlined chain routine.
	It checks if the chain is empty so is redundant to count == 0.

2008-01-07	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/src/eventseize.c, rtems/src/eventtimeout.c: Minor style clean
	up.

2008-01-07	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/src/pthreadcreate.c: Add commit.
	* posix/src/pthreadinitthreads.c: Fix line length.

2008-01-07	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/inline/rtems/score/object.inl: Add _Objects_Is_api_valid.

2008-01-07	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/src/threadget.c: Use _Objects_Is_api_valid rather than open
	coding it.

2008-01-05	Chris Johns <chrisj@rtems.org>

	* configure.ac: Fix typo in the strict order mutex CPU OPTs test.
	* libmisc/shell/shell.c: Handle '#' comment characters correctly.
	* libblock/include/rtems/flashdisk.h: Add docmentation about the
	control fields. Add more control fields to handle the flash when
	full.
	* libblock/src/flashdisk.c: Fix the descriptor erase test so it
	detects a descriptor is erased. Add support for unavailable blocks
	the user can configure. Print the used list as a diag. Fix the bug
	when a page is detected as failed and present on more than one
	queue. Add a count to the queues so queue length can be used to
	manage compaction.
	
2008-01-03	Till Straumann <strauman@slac.stanford.edu>

	* score/src/threadhandler.c, sapi/src/exshutdown.c:
	cannot call _fini via atexit() from rtems_shutdown_executive()
	because at the point where rtems_shutdown_executive is called
	the C-library is already dead.
	Instead, register an atexit(_fini) after calling _init().

2007-12-28	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/Makefile.am: _rename_r is required by newlib 1.16.0.
	Hopefully this implementation is OK.
	* libcsupport/src/_rename_r.c: New file.

2007-12-22	Chris Johns <chrisj@rtems.org>

	* configure.ac: fixed bug that always enabled strict order
	mutexes.
	* score/inline/rtems/score/coremutex.inl: Fixed coding standard.
	* score/src/coremutex.c: Add the holder's thread to the lock_mutex
	list if the mutex is initialised locked.
	* libnetworking/rtems/rtems_glue.c: Changed semaphore error
	message to show the error is an rtems-net error.
	* libmisc/monitor/mon-network.c: Removed warnings.
	* telnetd/icmds.c: Changed shell_* to rtems_shell_*.
	* score/Makefile.am: Fixed typo that stopped 'make tags' working.
	* libmisc/shell/err.c, libmisc/shell/err.h, libmisc/shell/errx.c,
	libmisc/shell/extern-cp.h, libmisc/shell/fts.c,
	libmisc/shell/fts.h, libmisc/shell/main_cp.c,
	libmisc/shell/utils-cp.c, libmisc/shell/verr.c,
	libmisc/shell/verrx.c, libmisc/shell/vwarn.c,
	libmisc/shell/vwarnx.c, libmisc/shell/warn.c,
	libmisc/shell/warnx.c: New. Ported from BSD.
	* libmisc/shell/shellconfig.h: Add the cp command.
	* libmisc/Makefile.am: Add the new files to the shell.
	* libmisc/shell/shell.c, libmisc/shell/shell.h: Add scripting
	support.
	* libblock/src/flashdisk.c: Fixed disk drive count size setting
	bug.
	
2007-12-21	Xi Yang <hiyangxi@gmail.com>

	* rtems/src/semtranslatereturncode.c: Add support for proper stacking
	of priority inheritance on mutexes as well as enforce proper order of
	release.

2007-12-21	Joel Sherrill <joel.sherrill@OARcorp.com>

	* configure.ac, score/include/rtems/score/coremutex.h,
	score/inline/rtems/score/coremutex.inl: Add the ability to disable
	inlining coremutex seize. This reduces the code size and also
	improves the process of coverage analysis.
	* score/src/coremutexseizeintr.c: New file.

2007-12-21	Xi Yang <hiyangxi@gmail.com>

	* configure.ac, score/include/rtems/score/coremutex.h,
	score/include/rtems/score/thread.h,
	score/inline/rtems/score/coremutex.inl,
	score/src/coremutexsurrender.c, score/src/threadinitialize.c: Add
	support for proper stacking of priority inheritance on mutexes as
	well as enforce proper order of release.

2007-12-21	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1268/cpukit
	* libcsupport/include/rtems/assoc.h: There is no
	rtems_assoc_ptr_by_value method.

2007-12-21	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libcsupport/src/sync.c: Make sync() POSIX-compliant.
	* libcsupport/src/__gettod.c: Make gettimeofday() POSIX-compliant.

2007-12-20	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/src/killinfo.c: Clean up and eliminate some dead code paths.

2007-12-20	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/include/rtems/posix/timer.h: Include rtems/score/object.h.

2007-12-20	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/Makefile.am, rtems/include/rtems/rtems/tasks.h: Add
	rtems_task_self() directive.
	* rtems/src/taskself.c: New file.

2007-12-20	Jennifer Averett <jennifer.averett@OARcorp.com>

	* posix/Makefile.am, posix/src/kill.c, posix/src/killinfo.c: Split file
	and resolved copyright information.
	* posix/src/kill_r.c: New file.

2007-12-20	Jennifer Averett <jennifer.averett@OARcorp.com>

	* posix/src/ualarm.c: Fixed bug where iteration did not work correctly.

2007-12-19	Joel Sherrill <joel.sherrill@OARcorp.com>

	* sapi/include/confdefs.h: Revert. Requires info not available at
	preprocessing time.

2007-12-19	Joel Sherrill <joel.sherrill@OARcorp.com>

	* sapi/include/confdefs.h: Catch the error when the user lowers the
	maximum number of drivers below the number of statically configured
	ones.

2007-12-19	Joel Sherrill <joel.sherrill@OARcorp.com>

	* sapi/src/extension.c, sapi/src/extensioncreate.c,
	sapi/src/extensiondelete.c, sapi/src/extensionident.c: Extension
	Manager clean up. Update object id switches to new pattern. Catch
	some NULL parameter errors.

2007-12-19	Jennifer Averett <jennifer.averett@OARcorp.com>

	* posix/src/psignalunblockthread.c: Remove source that

2007-12-19	Jennifer Averett <jennifer.averett@OARcorp.com>

	* posix/src/psignalchecksignal.c: Make assert active during debug mode
	only

2007-12-19	Jennifer Averett <jennifer.averett@OARcorp.com>

	* posix/src/psignal.c: Move source around to enable path testing

2007-12-19	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/Makefile.am, libcsupport/include/rtems/malloc.h,
	libcsupport/src/free.c, libcsupport/src/malloc.c,
	libcsupport/src/malloc_p.h,
	libcsupport/src/malloc_report_statistics_plugin.c,
	libmisc/shell/shell.c, libmisc/shell/shell.h,
	score/src/objectinitializeinformation.c: Add posix_memalign. Split
	out management of deferred frees to subroutines.
	* libcsupport/src/malloc_deferred.c, libcsupport/src/posix_memalign.c: New files.

2007-12-18	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/Makefile.am, libcsupport/preinstall.am,
	libcsupport/src/malloc.c, libcsupport/src/mallocinfo.c,
	libmisc/Makefile.am, libmisc/shell/main_mallocinfo.c,
	libmisc/shell/shellconfig.h: Split malloc.c into multiple files with
	one function per file. Also split out statistics into a separate file
	which can be plugged in dynamically. Right now, it is always in. I
	suspect that splitting the file removed more code than leaving
	statistics in. I tinkered with malloc information command in the
	shell. I resurrected the malloc arena code as malloc boundary. This
	code is now compiled all the time even though it does not appear to
	work.
	* libcsupport/include/rtems/malloc.h, libcsupport/src/_calloc_r.c,
	libcsupport/src/_free_r.c, libcsupport/src/_malloc_r.c,
	libcsupport/src/_realloc_r.c, libcsupport/src/calloc.c,
	libcsupport/src/free.c, libcsupport/src/malloc_boundary.c,
	libcsupport/src/malloc_get_statistics.c,
	libcsupport/src/malloc_initialize.c, libcsupport/src/malloc_p.h,
	libcsupport/src/malloc_report_statistics.c,
	libcsupport/src/malloc_report_statistics_plugin.c,
	libcsupport/src/malloc_statistics_helpers.c,
	libcsupport/src/malloc_walk.c, libcsupport/src/realloc.c,
	libmisc/shell/main_perioduse.c: New files.

2007-12-17	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/shell/main_alias.c, libmisc/shell/main_blksync.c,
	libmisc/shell/main_cat.c, libmisc/shell/main_cd.c,
	libmisc/shell/main_chdir.c, libmisc/shell/main_chmod.c,
	libmisc/shell/main_chroot.c, libmisc/shell/main_cpuuse.c,
	libmisc/shell/main_date.c, libmisc/shell/main_dir.c,
	libmisc/shell/main_exit.c, libmisc/shell/main_help.c,
	libmisc/shell/main_id.c, libmisc/shell/main_logoff.c,
	libmisc/shell/main_ls.c, libmisc/shell/main_mallocinfo.c,
	libmisc/shell/main_mdump.c, libmisc/shell/main_medit.c,
	libmisc/shell/main_mfill.c, libmisc/shell/main_mkdir.c,
	libmisc/shell/main_mmove.c, libmisc/shell/main_mount.c,
	libmisc/shell/main_mount_ftp.c, libmisc/shell/main_mount_msdos.c,
	libmisc/shell/main_mount_nfs.c, libmisc/shell/main_mount_tftp.c,
	libmisc/shell/main_msdosfmt.c, libmisc/shell/main_mwdump.c,
	libmisc/shell/main_pwd.c, libmisc/shell/main_rm.c,
	libmisc/shell/main_rmdir.c, libmisc/shell/main_stackuse.c,
	libmisc/shell/main_tty.c, libmisc/shell/main_umask.c,
	libmisc/shell/main_unmount.c, libmisc/shell/main_whoami.c,
	libmisc/shell/shell_cmdset.c, libmisc/shell/shellconfig.h: Change
	rtems_Shell_ to rtems_shell_.

2007-12-17	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/Makefile.am, libmisc/shell/shellconfig.h: Add malloc command
	with info and dump as replacement for older command. Fix what looked
	like a typo for mount sub-commands.
	* libmisc/shell/main_mallocinfo.c: New file.
	* libmisc/shell/main_mallocdump.c: Removed.

2007-12-17	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/Makefile.am, libcsupport/src/mallocfreespace.c: Add
	malloc_info() routine.
	* libcsupport/src/mallocinfo.c: New file.

2007-12-17	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/stackchk/check.c: Add print of current stack pointer and
	stack info even if stack checker is not initialized.

2007-12-17	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/src/printk.c: Style.

2007-12-17	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/src/threadqextractwithproxy.c: Conditionalize code that is only
	required in multiprocessing configuration.

2007-12-17	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/src/objectget.c: Revert.

2007-12-17	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/src/timergettime.c: Include rtems/score/timespec.h

2007-12-17	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/preinstall.am, posix/include/aio.h, posix/include/devctl.h,
	posix/include/mqueue.h, posix/include/sched.h,
	posix/include/semaphore.h, posix/include/rtems/posix/cancel.h,
	posix/include/rtems/posix/priority.h,
	posix/include/rtems/posix/psignal.h,
	posix/include/rtems/posix/threadsup.h,
	posix/include/rtems/posix/timer.h,
	posix/inline/rtems/posix/priority.inl,
	posix/src/barrierattrdestroy.c, posix/src/barrierattrgetpshared.c,
	posix/src/barrierattrinit.c, posix/src/barrierattrsetpshared.c,
	posix/src/cancel.c, posix/src/cancelrun.c, posix/src/cleanuppop.c,
	posix/src/cleanuppush.c, posix/src/cond.c,
	posix/src/condattrdestroy.c, posix/src/condattrgetpshared.c,
	posix/src/condattrinit.c, posix/src/condattrsetpshared.c,
	posix/src/condbroadcast.c, posix/src/conddefaultattributes.c,
	posix/src/conddestroy.c, posix/src/condinit.c,
	posix/src/condsignal.c, posix/src/condsignalsupp.c,
	posix/src/condwait.c, posix/src/condwaitsupp.c, posix/src/key.c,
	posix/src/keycreate.c, posix/src/keydelete.c,
	posix/src/keygetspecific.c, posix/src/keyrundestructors.c,
	posix/src/keysetspecific.c, posix/src/mqueue.c,
	posix/src/mqueueclose.c, posix/src/mqueuecreatesupp.c,
	posix/src/mqueuedeletesupp.c, posix/src/mqueuegetattr.c,
	posix/src/mqueuenametoid.c, posix/src/mqueuenotify.c,
	posix/src/mqueueopen.c, posix/src/mqueuereceive.c,
	posix/src/mqueuerecvsupp.c, posix/src/mqueuesend.c,
	posix/src/mqueuesendsupp.c, posix/src/mqueuesetattr.c,
	posix/src/mqueueunlink.c, posix/src/mutex.c,
	posix/src/mutexattrdestroy.c, posix/src/mutexattrgetprioceiling.c,
	posix/src/mutexattrgetprotocol.c, posix/src/mutexattrgetpshared.c,
	posix/src/mutexattrinit.c, posix/src/mutexattrsetprioceiling.c,
	posix/src/mutexattrsetprotocol.c, posix/src/mutexattrsetpshared.c,
	posix/src/mutexdefaultattributes.c, posix/src/mutexdestroy.c,
	posix/src/mutexgetprioceiling.c, posix/src/mutexlock.c,
	posix/src/mutexlocksupp.c, posix/src/mutexsetprioceiling.c,
	posix/src/mutextrylock.c, posix/src/mutexunlock.c,
	posix/src/psignal.c, posix/src/psignalchecksignal.c,
	posix/src/psignalclearprocesssignals.c,
	posix/src/psignalclearsignals.c,
	posix/src/psignalsetprocesssignals.c,
	posix/src/psignalunblockthread.c, posix/src/ptimer.c,
	posix/src/rwlockattrdestroy.c, posix/src/rwlockattrgetpshared.c,
	posix/src/rwlockattrinit.c, posix/src/rwlockattrsetpshared.c,
	posix/src/semaphore.c, posix/src/semaphoredeletesupp.c,
	posix/src/semaphorenametoid.c, posix/src/semaphorewaitsupp.c,
	posix/src/semclose.c, posix/src/semdestroy.c,
	posix/src/semgetvalue.c, posix/src/seminit.c, posix/src/semopen.c,
	posix/src/sempost.c, posix/src/semtrywait.c, posix/src/semunlink.c,
	posix/src/semwait.c, posix/src/setcancelstate.c,
	posix/src/setcanceltype.c, posix/src/sysconf.c,
	posix/src/testcancel.c: Add missing copyright statements.

2007-12-17	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/mainpage.h: Sweep to make sure grep for COPYRIGHT passes.

2007-12-17	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/Makefile.am, posix/preinstall.am,
	posix/include/rtems/posix/timer.h, score/src/objectget.c: Split POSIX
	Timer implementation into multiple files. Add obvious error checks
	for NULL parameters. Attempt to reduce include files.
	* posix/src/timercreate.c, posix/src/timerdelete.c,
	posix/src/timergetoverrun.c, posix/src/timergettime.c,
	posix/src/timerinserthelper.c, posix/src/timersettime.c,
	posix/src/timertsr.c: New files.
	* posix/src/ptimer1.c: Removed.

2007-12-17	Chris Johns <chrisj@rtems.org>

	* libmisc/shell/main_blksync.c, libmisc/shell/main_msdosfmt.c,
	libmisc/shell/main_unmount.c: New.
	* libmisc/Makefile.am, libmisc/shell/shellconfig.h: Add the
	blksync, msdosfmt, and unmount commands.

2007-12-17	Chris Johns <chrisj@rtems.org>

	* libnetworking/rtems/tftp.h: Provide a decl to the TFTP file
	system opts table.
	* libnetworking/rtems/ftpfs.h: Provide a decl to the FTP file
	system opts table.
	* libmisc/Makefile.am: Add the mount command and supporting files.
	* libmisc/preinstall.am: Rebuilt.
	* libmisc/shell/cat_file.c, libmisc/shell/cmds.c,
	libmisc/shell/main_alias.c, libmisc/shell/main_cat.c,
	libmisc/shell/main_cd.c, libmisc/shell/main_chdir.c,
	libmisc/shell/main_chmod.c, libmisc/shell/main_chroot.c,
	libmisc/shell/main_cpuuse.c, libmisc/shell/main_date.c,
	libmisc/shell/main_dir.c, libmisc/shell/main_exit.c,
	libmisc/shell/main_help.c, libmisc/shell/main_id.c,
	libmisc/shell/main_logoff.c, libmisc/shell/main_ls.c,
	libmisc/shell/main_mallocdump.c, libmisc/shell/main_mdump.c,
	libmisc/shell/main_medit.c, libmisc/shell/main_mfill.c,
	libmisc/shell/main_mkdir.c, libmisc/shell/main_mmove.c,
	libmisc/shell/main_mwdump.c, libmisc/shell/main_pwd.c,
	libmisc/shell/main_rm.c, libmisc/shell/main_rmdir.c,
	libmisc/shell/main_stackuse.c, libmisc/shell/main_tty.c,
	libmisc/shell/main_umask.c, libmisc/shell/main_whoami.c,
	libmisc/shell/shell.c, libmisc/shell/shell_cmdset.c,
	libmisc/shell/shell_makeargs.c, libmisc/shell/str2int.c, 
	libmisc/shell/write_file.c: Move all shell_* types, variables and
	functions to rtems_shell_* to avoid namespace clashes with
	applications. The is an RTEMS shell after all.
	* libmisc/shell/shell.h, libmisc/shell/internal.h,
	libmisc/shell/shellconfig.h: Move all shell_* types, variables and
	functions to rtems_shell_* to avoid namespace clashes with
	applications. Add the mount command supporting types.
	* libmisc/shell/main_mount.c, libmisc/shell/main_mount_ftp.c,
	libmisc/shell/main_mount_msdos.c, libmisc/shell/main_mount_nfs.c,
	libmisc/shell/main_mount_tftp.c: New.
	
2007-12-16	Ralf Corsépius <ralf.corsepius@rtems.org>

	* configure.ac: Revert Joel's 2007-06-13 NDEBUG patch.

2007-12-14	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/Makefile.am, libmisc/shell/cat_file.c,
	libmisc/shell/shell_makeargs.c, libmisc/shell/shellconfig.h: Rename
	cmd_XXX.c to main_XXX.c. Add cpuuse and stackuse commands.
	* libmisc/shell/main_alias.c, libmisc/shell/main_cat.c,
	libmisc/shell/main_cd.c, libmisc/shell/main_chdir.c,
	libmisc/shell/main_chmod.c, libmisc/shell/main_chroot.c,
	libmisc/shell/main_cpuuse.c, libmisc/shell/main_date.c,
	libmisc/shell/main_dir.c, libmisc/shell/main_exit.c,
	libmisc/shell/main_help.c, libmisc/shell/main_id.c,
	libmisc/shell/main_logoff.c, libmisc/shell/main_ls.c,
	libmisc/shell/main_mallocdump.c, libmisc/shell/main_mdump.c,
	libmisc/shell/main_medit.c, libmisc/shell/main_mfill.c,
	libmisc/shell/main_mkdir.c, libmisc/shell/main_mmove.c,
	libmisc/shell/main_mwdump.c, libmisc/shell/main_pwd.c,
	libmisc/shell/main_rm.c, libmisc/shell/main_rmdir.c,
	libmisc/shell/main_stackuse.c, libmisc/shell/main_tty.c,
	libmisc/shell/main_umask.c, libmisc/shell/main_whoami.c: New files.
	* libmisc/shell/cmd_alias.c, libmisc/shell/cmd_cat.c,
	libmisc/shell/cmd_cd.c, libmisc/shell/cmd_chdir.c,
	libmisc/shell/cmd_chmod.c, libmisc/shell/cmd_chroot.c,
	libmisc/shell/cmd_date.c, libmisc/shell/cmd_dir.c,
	libmisc/shell/cmd_exit.c, libmisc/shell/cmd_help.c,
	libmisc/shell/cmd_id.c, libmisc/shell/cmd_logoff.c,
	libmisc/shell/cmd_ls.c, libmisc/shell/cmd_mallocdump.c,
	libmisc/shell/cmd_mdump.c, libmisc/shell/cmd_medit.c,
	libmisc/shell/cmd_mfill.c, libmisc/shell/cmd_mkdir.c,
	libmisc/shell/cmd_mmove.c, libmisc/shell/cmd_mwdump.c,
	libmisc/shell/cmd_pwd.c, libmisc/shell/cmd_rm.c,
	libmisc/shell/cmd_rmdir.c, libmisc/shell/cmd_tty.c,
	libmisc/shell/cmd_umask.c, libmisc/shell/cmd_whoami.c: Removed.

2007-12-14	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/Makefile.am: _Thread_Rotate_ready_queue is only used by ITRON
	API.

2007-12-14	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/src/sleep.c, posix/src/usleep.c: Add copyright header.
	* rtems/src/ratemonreportstatistics.c, rtems/src/timerserver.c:
	Minor cleanup to improve testability and eliminate dead code.

2007-12-12	Chris Johns <chrisj@rtems.org>

	* libblock/include/rtems/flashdisk.h, libblock/src/flashdisk.c:
	Add RTEMS license details.

2007-12-12	Chris Johns <chrisj@rtems.org>

	* Makefile.am, preinstall.am: Added
	libblock/include/rtems/flashdisk.h to the installed header list.
	* libblock/Makefile.am: Add flashdisk.c to the files to build.
	* libblock/include/rtems/flashdisk.h, libblock/src/flashdisk.c:
	New.

2007-12-13	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/preinstall.am, posix/preinstall.am, rtems/Makefile.am,
	rtems/preinstall.am, sapi/Makefile.am, sapi/preinstall.am,
	score/Makefile.am, score/preinstall.am: Revert testing patch.

2007-12-13	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/src/sched_rr_get_interval.c: Fix warning.

2007-12-13	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/Makefile.am, posix/src/clockgetcpuclockid.c,
	posix/src/clockgetenableattr.c, posix/src/clockgettime.c,
	posix/src/clocksetenableattr.c, posix/src/clocksettime.c,
	posix/src/devctl.c, posix/src/execl.c, posix/src/execle.c,
	posix/src/execlp.c, posix/src/execv.c, posix/src/execve.c,
	posix/src/execvp.c, posix/src/fork.c, posix/src/mutexinit.c,
	posix/src/pthreadatfork.c, posix/src/pthreadgetcpuclockid.c,
	posix/src/pthreadkill.c, posix/src/semaphorecreatesupp.c,
	posix/src/sysconf.c, posix/src/wait.c, posix/src/waitpid.c: Split
	files into one function per file.
	* posix/src/aio_cancel.c, posix/src/aio_error.c, posix/src/aio_fsync.c,
	posix/src/aio_read.c, posix/src/aio_return.c,
	posix/src/aio_suspend.c, posix/src/aio_write.c,
	posix/src/lio_listio.c, posix/src/sched_getparam.c,
	posix/src/sched_getprioritymax.c, posix/src/sched_getprioritymin.c,
	posix/src/sched_getscheduler.c, posix/src/sched_rr_get_interval.c,
	posix/src/sched_setparam.c, posix/src/sched_setscheduler.c,
	posix/src/sched_yield.c: New files.
	* posix/src/aio.c, posix/src/sched.c, posix/src/types.c: Removed.

2007-12-13	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/preinstall.am, posix/preinstall.am, posix/src/aio.c,
	posix/src/clockgetcpuclockid.c, posix/src/clockgetenableattr.c,
	posix/src/clockgettime.c, posix/src/clocksetenableattr.c,
	posix/src/clocksettime.c, posix/src/devctl.c,
	posix/src/pthreadcreate.c, posix/src/pthreadgetcpuclockid.c,
	posix/src/types.c, rtems/preinstall.am, sapi/Makefile.am,
	sapi/preinstall.am, score/Makefile.am, score/preinstall.am: Eliminate
	POSIX_NOT_IMPLEMENTED(). Return ENOSYS instead.

2007-12-13	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/src/adjtime.c: Clean up and verify against behavior documented
	in GNU/Linux man page provided with Fedora 7.

2007-12-12	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libgnat/Makefile.am, wrapup/Makefile.am: Another attempt at the
	automake variables.

2007-12-12	Joel Sherrill <joel.sherrill@OARcorp.com>

	* rtems/Makefile.am, rtems/include/rtems/rtems/tasks.h,
	rtems/src/tasks.c, rtems/src/taskvariableadd.c,
	rtems/src/taskvariabledelete.c: Add test code for task variables to
	improve coverage.
	* rtems/src/taskvariable_invoke_dtor.c: New file.

2007-12-12	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/preinstall.am: Revert debug patch.

2007-12-12	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libmisc/shell/cmd_ls.c: Add include of <sys/stat.h> needed for UNIX
	BSP.

2007-12-12	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libgnat/Makefile.am: Handle POSIX being disabled correctly.

2007-12-12	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/Makefile.am: Only used by ITRON so do not build if ITRON is
	disabled.

2007-12-12	Chris Johns <chrisj@rtems.org>

	* Makefile.am: Added libmisc/shell/shellconfig.h to the installed
	header list.
	* libmisc/shell/shell_cmdset.c: Let the Initial command add occur
	in any order rather than before any commands have been added. Also
	made the command's strings be copies rather than references.
	* sapi/src/ioregisterdriver.c: Return the I/O initialise calls result.

2007-12-11	Joel Sherrill <joel.sherrill@oarcorp.com>

	* Makefile.am, configure.ac, posix/Makefile.am, wrapup/Makefile.am:
	Move Ada support code that is untestable from the Standard RTEMS Test
	Suite into its own directory. All code in score, posix, rtems, and
	sapi should be testable by the Standard RTEMS Test Suites. It was
	buried under POSIX before so this should be a clearer location
	anyway.
	* libgnat/.cvsignore, libgnat/Makefile.am, libgnat/ada_intrsupp.c,
	libgnat/adasupp.c: New files.
	* posix/src/ada_intrsupp.c, posix/src/adasupp.c: Removed.

2007-12-11	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/src/pheapallocatealigned.c, score/src/pheapgetblocksize.c:
	Reverse file contents.

2007-12-11	Joel Sherrill <joel.sherrill@OARcorp.com>

	* sapi/include/rtems/config.h: Correct idle task prototype.

2007-12-11	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/Makefile.am, libmisc/shell/cmd_help.c, libmisc/shell/cmds.c,
	libmisc/shell/internal.h, libmisc/shell/shell.c,
	libmisc/shell/shell.h, libmisc/shell/shellconfig.h: Command set
	processing now separated from main command loop. Addition of user
	commands and aliases tested. Monitor registration now explicit.
	* libmisc/shell/shell_cmdset.c, libmisc/shell/shell_makeargs.c,
	libmisc/shell/write_file.c: New files.

2007-12-11	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/Makefile.am: Fix typo.

2007-12-10	Joel Sherrill <joel.sherrill@oarcorp.com>

	* ChangeLog, preinstall.am, libmisc/Makefile.am, libmisc/shell/cmds.c,
	libmisc/shell/shell.c, libmisc/shell/shell.h: Split shell commands
	into multiple files and add initial stages of command configuration.
	This seems to work but the monitor commands need to be integrated
	this way and the ability to configure user commands needs to be
	tested.
	* libmisc/shell/cat_file.c, libmisc/shell/cmd_alias.c,
	libmisc/shell/cmd_cat.c, libmisc/shell/cmd_cd.c,
	libmisc/shell/cmd_chdir.c, libmisc/shell/cmd_chmod.c,
	libmisc/shell/cmd_chroot.c, libmisc/shell/cmd_date.c,
	libmisc/shell/cmd_dir.c, libmisc/shell/cmd_exit.c,
	libmisc/shell/cmd_help.c, libmisc/shell/cmd_id.c,
	libmisc/shell/cmd_logoff.c, libmisc/shell/cmd_ls.c,
	libmisc/shell/cmd_mallocdump.c, libmisc/shell/cmd_mdump.c,
	libmisc/shell/cmd_medit.c, libmisc/shell/cmd_mfill.c,
	libmisc/shell/cmd_mkdir.c, libmisc/shell/cmd_mmove.c,
	libmisc/shell/cmd_mwdump.c, libmisc/shell/cmd_pwd.c,
	libmisc/shell/cmd_rm.c, libmisc/shell/cmd_rmdir.c,
	libmisc/shell/cmd_tty.c, libmisc/shell/cmd_umask.c,
	libmisc/shell/cmd_whoami.c, libmisc/shell/internal.h,
	libmisc/shell/shellconfig.c, libmisc/shell/shellconfig.h,
	libmisc/shell/str2int.c: New files.

2007-12-10	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/cpu/no_cpu/rtems/score/cpu.h: Fix Doxygen.

2007-12-10	Joel Sherrill <joel.sherrill@oarcorp.com>

	* sapi/include/rtems/config.h: Fix idle thread prototype.

2007-12-07	Joel Sherrill <joel.sherrill@OARcorp.com>

	* sapi/include/confdefs.h: Separate the concept of configuring the
	interrupt stack size from actually reserving memory for it in the
	RTEMS Workspace.

2007-12-06	Joel Sherrill <joel.sherrill@OARcorp.com>

	* httpd/Makefile.am, httpd/preinstall.am: rtems_webserver.h must be
	installed. It is the initialization interface for both GoAhead and
	Simple HTTPD.

2007-12-05	Joel Sherrill <joel.sherrill@oarcorp.com>

	* sapi/include/rtems/config.h: Correct previous commit.

2007-12-05	Joel Sherrill <joel.sherrill@OARcorp.com>

	* sapi/include/rtems/config.h: Commit temporary fix so
	interrupt_stack_size is accessible before RTEMS is initialized.

2007-12-04	Joel Sherrill <joel.sherrill@OARcorp.com>

	* sapi/include/confdefs.h, sapi/include/rtems/config.h,
	sapi/include/rtems/init.h, sapi/src/exinit.c,
	score/include/rtems/system.h, score/src/isr.c: Move
	interrupt_stack_size field from CPU Table to Configuration Table.
	Eliminate CPU Table from all ports. Delete references to CPU Table in
	all forms.

2007-12-04	Joel Sherrill <joel.sherrill@oarcorp.com>

	* sapi/include/rtems/config.h: Add accessory macros for Configuration
	Table fields merged from CPU Table.

2007-12-03	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/src/malloc.c, libmisc/monitor/mon-command.c,
	posix/preinstall.am, posix/include/rtems/posix/cond.h,
	posix/include/rtems/posix/mqueue.h,
	posix/include/rtems/posix/mutex.h,
	posix/include/rtems/posix/pthread.h,
	posix/include/rtems/posix/semaphore.h, posix/src/conddestroy.c,
	posix/src/mutexdestroy.c, posix/src/mutexinit.c,
	posix/src/mutexsetprioceiling.c, posix/src/mutexunlock.c,
	sapi/include/confdefs.h, sapi/include/rtems/config.h,
	sapi/include/rtems/init.h, sapi/include/rtems/sptables.h,
	sapi/src/exinit.c, score/include/rtems/system.h,
	score/include/rtems/score/mpci.h, score/src/mpci.c,
	score/src/thread.c, score/src/threadcreateidle.c,
	score/src/threadstackallocate.c, score/src/threadstackfree.c,
	score/src/wkspace.c: Moved most of the remaining CPU Table fields to
	the Configuration Table. This included pretasking_hook,
	predriver_hook, postdriver_hook, idle_task, do_zero_of_workspace,
	extra_mpci_receive_server_stack, stack_allocate_hook, and
	stack_free_hook. As a side-effect of this effort some multiprocessing
	code was made conditional and some style clean up occurred.

2007-12-03	Chris Johns <chrisj@rtems.org>

	* libmisc/shell/shell.h: Added comments for the parameters to the
	shell_init function.
	* libmisc/shell/shell.c: Only set cflags if tcflags is
	non-zero. This means the shell can use the current cflags settings
	and the application does not need to know the baudrate etc.
	* libmisc/capture/capture.h: Fix the comment.

2007-11-30	Joel Sherrill <joel.sherrill@OARcorp.com>

	* rtems/src/barrierdelete.c, rtems/src/barrierrelease.c,
	rtems/src/barriertranslatereturncode.c, rtems/src/barrierwait.c,
	rtems/src/clockget.c, rtems/src/dpmemdelete.c,
	rtems/src/dpmemexternal2internal.c,
	rtems/src/dpmeminternal2external.c, rtems/src/eventsend.c,
	rtems/src/eventtimeout.c, rtems/src/msgqbroadcast.c,
	rtems/src/msgqdelete.c, rtems/src/msgqflush.c,
	rtems/src/msgqgetnumberpending.c, rtems/src/msgqreceive.c,
	rtems/src/msgqsend.c, rtems/src/msgqurgent.c, rtems/src/partdelete.c,
	rtems/src/partgetbuffer.c, rtems/src/partreturnbuffer.c,
	rtems/src/ratemoncancel.c, rtems/src/ratemondelete.c,
	rtems/src/ratemongetstatistics.c, rtems/src/ratemongetstatus.c,
	rtems/src/ratemonperiod.c, rtems/src/ratemonresetstatistics.c,
	rtems/src/ratemontimeout.c, rtems/src/semdelete.c,
	rtems/src/semflush.c, rtems/src/semobtain.c, rtems/src/semrelease.c,
	rtems/src/semtranslatereturncode.c, rtems/src/signalsend.c,
	rtems/src/taskdelete.c, rtems/src/taskgetnote.c,
	rtems/src/taskissuspended.c, rtems/src/taskrestart.c,
	rtems/src/taskresume.c, rtems/src/tasksetnote.c,
	rtems/src/tasksetpriority.c, rtems/src/taskstart.c,
	rtems/src/tasksuspend.c, rtems/src/taskvariableadd.c,
	rtems/src/taskvariabledelete.c, rtems/src/taskvariableget.c,
	rtems/src/timercancel.c, rtems/src/timerdelete.c,
	rtems/src/timerfirewhen.c, rtems/src/timergetinfo.c,
	rtems/src/timerreset.c, rtems/src/timerserverfireafter.c,
	rtems/src/timerserverfirewhen.c: Restructured all code with
	the switch (location) pattern so that OBJECTS_LOCAL is first
	and we can fall into it and the OBJECTS_ERROR case breaks
	to a return RTEMS_INVALID_ID.  This eliminates the return
	RTEMS_INTERNAL_ERROR at the bottom of each of these files which
	was unreachable and untestable code.  This resulted in a code
	savings of approximately 20 bytes per file on the SPARC/ERC32.

2007-11-30	Glenn Humphrey <glenn.humphrey@OARcorp.com>

	* posix/Makefile.am: Restructed to move the
	OBJECTS_LOCAL case to the top of the switch statement and
	eliminate the fall-through return of POSIX_BOTTOM_REACHED.  These
	changes produced simplier assembly code and allowed for complete
	test coverage.  Also applied some consistency to the functions
	that translate the core status codes to POSIX status codes.

2007-11-30	Glenn Humphrey <glenn.humphrey@OARcorp.com>

	* posix/include/rtems/posix/mutex.h,
	posix/include/rtems/posix/semaphore.h, posix/src/cancel.c,
	posix/src/conddestroy.c, posix/src/condsignalsupp.c,
	posix/src/condwaitsupp.c, posix/src/keydelete.c,
	posix/src/keygetspecific.c, posix/src/keysetspecific.c,
	posix/src/mqueueclose.c, posix/src/mqueuegetattr.c,
	posix/src/mqueuenotify.c, posix/src/mqueuerecvsupp.c,
	posix/src/mqueuesendsupp.c, posix/src/mqueuesetattr.c,
	posix/src/mqueuetranslatereturncode.c, posix/src/mutexdestroy.c,
	posix/src/mutexgetprioceiling.c, posix/src/mutexinit.c,
	posix/src/mutexlocksupp.c, posix/src/mutexsetprioceiling.c,
	posix/src/mutexunlock.c, posix/src/pbarrierdestroy.c,
	posix/src/pbarriertranslatereturncode.c, posix/src/pbarrierwait.c,
	posix/src/prwlockdestroy.c, posix/src/prwlockrdlock.c,
	posix/src/prwlocktimedrdlock.c, posix/src/prwlocktimedwrlock.c,
	posix/src/prwlocktranslatereturncode.c, posix/src/prwlocktryrdlock.c,
	posix/src/prwlocktrywrlock.c, posix/src/prwlockunlock.c,
	posix/src/prwlockwrlock.c, posix/src/pspindestroy.c,
	posix/src/pspinlock.c, posix/src/pspinlocktranslatereturncode.c,
	posix/src/pspintrylock.c, posix/src/pspinunlock.c,
	posix/src/pthreaddetach.c, posix/src/pthreadequal.c,
	posix/src/pthreadgetschedparam.c, posix/src/pthreadjoin.c,
	posix/src/pthreadkill.c, posix/src/pthreadsetschedparam.c,
	posix/src/ptimer1.c, posix/src/semaphorewaitsupp.c,
	posix/src/semclose.c, posix/src/semdestroy.c,
	posix/src/semgetvalue.c, posix/src/sempost.c, posix/src/types.c,
	rtems/src/msgqtranslatereturncode.c, rtems/src/semobtain.c,
	rtems/src/timerfireafter.c, score/include/rtems/system.h,
	score/include/rtems/score/corebarrier.h,
	score/include/rtems/score/coremsg.h,
	score/include/rtems/score/coremutex.h,
	score/include/rtems/score/coresem.h: Restructed to move the
	OBJECTS_LOCAL case to the top of the switch statement and
	eliminate the fall-through return of POSIX_BOTTOM_REACHED.  These
	changes produced simplier assembly code and allowed for complete
	test coverage.  Also applied some consistency to the functions
	that translate the core status codes to POSIX status codes.
	* posix/src/mutextranslatereturncode.c,
	posix/src/semaphoretranslatereturncode.c: New files.
	* posix/src/mutexfromcorestatus.c: Removed.

2007-11-30	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/inline/rtems/posix/priority.inl: Fix typo.

2007-11-28	Joel Sherrill <joel.sherrill@OARcorp.com>

	* sapi/src/exinit.c, score/include/rtems/score/object.h,
	score/include/rtems/score/thread.h, score/src/object.c,
	score/src/thread.c: Conditionally compile out more code that is
	specific to multiprocessor configurations.

2007-11-28	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/Makefile.am, posix/preinstall.am, posix/src/cancel.c,
	posix/src/conddestroy.c, posix/src/condinit.c,
	posix/src/condsignalsupp.c, posix/src/condwaitsupp.c,
	posix/src/mqueueclose.c, posix/src/mqueuecreatesupp.c,
	posix/src/mqueuedeletesupp.c, posix/src/mqueuegetattr.c,
	posix/src/mqueuenotify.c, posix/src/mqueuerecvsupp.c,
	posix/src/mqueuesendsupp.c, posix/src/mqueuesetattr.c,
	posix/src/mqueueunlink.c, posix/src/mutexattrdestroy.c,
	posix/src/mutexattrgetprioceiling.c,
	posix/src/mutexattrgetprotocol.c, posix/src/mutexattrgetpshared.c,
	posix/src/mutexattrinit.c, posix/src/mutexattrsetprioceiling.c,
	posix/src/mutexattrsetprotocol.c, posix/src/mutexattrsetpshared.c,
	posix/src/mutexdefaultattributes.c, posix/src/mutexdestroy.c,
	posix/src/mutexgetprioceiling.c, posix/src/mutexinit.c,
	posix/src/mutexlocksupp.c, posix/src/mutexsetprioceiling.c,
	posix/src/mutexunlock.c, posix/src/semaphorecreatesupp.c,
	posix/src/semaphoredeletesupp.c, posix/src/semaphorewaitsupp.c,
	posix/src/semclose.c, posix/src/semdestroy.c,
	posix/src/semgetvalue.c, posix/src/sempost.c, posix/src/semunlink.c,
	posix/src/types.c, score/cpu/powerpc/rtems/old-exceptions/cpu.h:
	Remove all pretense of POSIX MP support. The support in place was
	only a shell. This should make maintenance easier.
	* posix/include/rtems/posix/condmp.h,
	posix/include/rtems/posix/mqueuemp.h,
	posix/include/rtems/posix/mutexmp.h,
	posix/include/rtems/posix/pthreadmp.h,
	posix/include/rtems/posix/semaphoremp.h, posix/src/condmp.c,
	posix/src/mutexmp.c, posix/src/semaphoremp.c: Removed.

2007-11-27	Joel Sherrill <joel.sherrill@OARcorp.com>

	* configure.ac, score/inline/rtems/score/thread.inl,
	score/src/threaddispatch.c: Add ability for user to disable inlining
	of _Thread_Enable_dispatch. This can save code space but more
	importantly it means the binary generated does not have code inlined
	that is difficult to test and very seldom executed.

2007-11-27	Glenn Humphrey <glenn.humphrey@OARcorp.com>

	* posix/src/prwlocktimedrdlock.c, posix/src/prwlocktimedwrlock.c,
	rtems/include/rtems/rtems/barrier.h,
	score/src/corerwlockobtainread.c, score/src/corerwlockobtainwrite.c,
	score/src/corerwlockrelease.c: Fixed several implementation errors.

2007-11-27	Glenn Humphrey <glenn.humphrey@OARcorp.com>

	* rtems/src/regioncreate.c, rtems/src/regiondelete.c,
	rtems/src/regionextend.c, rtems/src/regiongetfreeinfo.c,
	rtems/src/regiongetinfo.c, rtems/src/regiongetsegment.c,
	rtems/src/regiongetsegmentsize.c, rtems/src/regionresizesegment.c,
	rtems/src/regionreturnsegment.c: Restructed to move the OBJECTS_LOCAL
	case to the top of the switch statement, have a single exit with one
	call to _RTEMS_Unlock_allocator and eliminate the fall-through return
	of RTEMS_INTERNAL_ERROR.  These changes produced simplier assembly
	code and allowed for complete test coverage.

2007-11-27	Joel Sherrill <joel.sherrill@oarcorp.com>

	* sapi/include/confdefs.h,
	score/cpu/powerpc/rtems/old-exceptions/cpu.h: Add
	CONFIGURE_APPLICATION_EXTRA_DRIVERS.

2007-11-27	Joel Sherrill <joel.sherrill@oarcorp.com>

	* sapi/include/confdefs.h: Add CONFIGURE_APPLICATION_EXTRA_DRIVERS.

2007-11-27	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libnetworking/netinet/in_cksum.c: ARM optimized version does not
	support Thumb.

2007-11-26	Joel Sherrill <joel.sherrill@oarcorp.com>

	* telnetd/pty.c, telnetd/telnetd.c, telnetd/telnetd.h: Style clean up.
	Now works on gen5200/icecube.

2007-11-26	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/src/printk.c, score/src/objectget.c: Fix spacing.

2007-11-26	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/src/malloc.c: Do not assert on free of bad pointer.

2007-11-26	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/include/rtems/score/thread.h: Fix spelling error.

2007-11-17	Till Straumann <strauman@slac.stanford.edu>

	* libi2c/libi2c.c, libi2c/libi2c.h, libi2c/README_libi2c:
	Added checks so that use of 'stdio' is avoided (falling
	back to 'printk') before the system is up.
	Publish driver entry points so that the libi2c driver could
	be added to the applications 'device driver table'.
	This is not fully implemented yet, though, since in addition to
	initializing libi2c the low-level i2c bus drivers as well
	as high-level i2c device drivers need to be registered
	with the library.
	Updated README_libi2c accordingly.

2007-11-17	Till Straumann <strauman@slac.stanford.edu>

	* libnetworking/rtems/rtems_glue.c: let rtems_bsdnet_ifconfig
	(SIOCGIFMEDIA) pass the user parameter down to the ioctl 
	so that it knows what PHY they want to look at.

2007-11-09	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/src/apimutexlock.c, score/src/apimutexunlock.c: Functions were
	in opposite files. Whoops!

2007-11-09	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/shell/shell.c, libmisc/shell/shell.h: Much cleanup but much
	of the focus was on the beginning stages of making the login checker
	pluggable just like the shell.

2007-11-09	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/src/mprotect.c: Update comments.

2007-11-09	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/Makefile.am: Add support for Ada95 interrupt tasks.  This
	will require gcc 4.3 or newer.
	* posix/src/ada_intrsupp.c: New file.

2007-11-09	Joel Sherrill <joel.sherrill@OARcorp.com>

	* sapi/src/exinit.c, score/Makefile.am,
	score/include/rtems/score/apimutex.h: API Mutex calls should never
	have been inlined. Inlining them lead to many inlined copies of core
	mutex lock. This lead to over 2K savings in the SPARC/ERC32
	minimum.exe.
	* score/src/apimutex.c, score/src/apimutexallocate.c,
	score/src/apimutexlock.c, score/src/apimutexunlock.c: New files.

2007-11-07	Till Straumann <strauman@slac.stanford.edu>

	* score/include/rtems/score/isr.h: added RTEMS_COMPILER_MEMORY_BARRIER
	around _CPU_ISR_Set_level().

2007-11-07	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/inline/rtems/score/object.inl: During test coverage analysis,
	we identified this sanity check which should have been conditional on
	RTEMS_DEBUG since it can NOT be tripped during normal RTEMS
	operations. With all APIs enabled, this saved 352 bytes from the
	minimum executable on the SPARC/ERC32.

2007-11-07	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/include/rtems/system.h, score/include/rtems/score/interr.h: Add
	compiler conditional attribute for methods that do not return. This
	avoids gcc generating unreachable code following calls to
	_Internal_error_Occurred.

2007-11-06	Joel Sherrill <joel.sherrill@OARcorp.com>

	* configure.ac: Add ARM/Thumb Makefile.

2007-11-06	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1266/cpukit
	* posix/src/keycreate.c, posix/src/keyrundestructors.c: Use API instead
	of class for key indexing.

2007-11-06	Joel Sherrill <joel.sherrill@OARcorp.com>

	* telnetd/icmds.c, telnetd/pty.c, telnetd/telnetd.c, telnetd/telnetd.h:
	Fix headers and formatting.

2007-11-06	Glenn Humphrey <glenn.humphrey@OARcorp.com>

	Miscellaneous changes made after a review against the POSIX spec.
	* posix/src/pbarrierinit.c, posix/src/prwlockinit.c: If the caller
	passes a NULL in the attributes parameter, default attributes are used.
	* posix/src/prwlockdestroy.c: If there is at least one thread
	waiting, do not allow deletion.
	* posix/src/prwlockwrlock.c: Corrected parameter passed to the core
	operation used to obtain a RWLock for writing.
	* posix/src/pspinlocktranslatereturncode.c,
	score/include/rtems/score/corespinlock.h,
	score/src/corespinlockrelease.c: If the current thread is not the
	holder of the lock, do not allow an unlock and return EPERM.
	* score/src/corerwlockobtainwrite.c: Corrected to use the operation
	for queueing with a timeout handler.

2007-11-02	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/cpu/sparc/cpu.c, score/cpu/sparc/rtems/score/cpu.h,
	score/include/rtems/score/context.h, score/src/threadhandler.c: Fix
	stack so gdb backtrace does not print corrupted frame message after
	_Thread_Handler. Daniel Hellstrom <daniel@gaisler.com> provided the
	SPARC implementation and I made it more general.

2007-10-26	Glenn Humphrey <glenn.humphrey@OARcorp.com>

	* libmisc/cpuuse/cpuusagereport.c, rtems/src/ratemonreportstatistics.c:
	Cleaned up reports and fixed a bug related the printf format which
	resulted in lack of leading zeroes and misleading magnitude.
	* score/src/timespecdivide.c: Fixed bugs related to zero divide case.

2007-10-26	Joel Sherrill <joel.sherrill@OARcorp.com>

	* itron/src/can_wup.c, itron/src/chg_pri.c, itron/src/del_mbf.c,
	itron/src/del_mbx.c, itron/src/del_sem.c, itron/src/del_tsk.c,
	itron/src/frsm_tsk.c, itron/src/ref_mbf.c, itron/src/ref_mbx.c,
	itron/src/ref_sem.c, itron/src/ref_tsk.c, itron/src/rel_wai.c,
	itron/src/rsm_tsk.c, itron/src/sig_sem.c, itron/src/snd_mbx.c,
	itron/src/sta_tsk.c, itron/src/sus_tsk.c, itron/src/ter_tsk.c,
	itron/src/trcv_mbf.c, itron/src/trcv_mbx.c, itron/src/tsnd_mbf.c,
	itron/src/twai_sem.c, posix/src/cancel.c, posix/src/conddestroy.c,
	posix/src/condinit.c, posix/src/condsignalsupp.c,
	posix/src/condwaitsupp.c, posix/src/keydelete.c,
	posix/src/keygetspecific.c, posix/src/keysetspecific.c,
	posix/src/mqueueclose.c, posix/src/mqueuegetattr.c,
	posix/src/mqueuenotify.c, posix/src/mqueuerecvsupp.c,
	posix/src/mqueuesendsupp.c, posix/src/mqueuesetattr.c,
	posix/src/mutexdestroy.c, posix/src/mutexgetprioceiling.c,
	posix/src/mutexinit.c, posix/src/mutexlocksupp.c,
	posix/src/mutexsetprioceiling.c, posix/src/mutexunlock.c,
	posix/src/pbarrierdestroy.c, posix/src/pbarrierwait.c,
	posix/src/prwlockdestroy.c, posix/src/prwlockrdlock.c,
	posix/src/prwlocktimedrdlock.c, posix/src/prwlocktimedwrlock.c,
	posix/src/prwlocktryrdlock.c, posix/src/prwlocktrywrlock.c,
	posix/src/prwlockunlock.c, posix/src/prwlockwrlock.c,
	posix/src/pspindestroy.c, posix/src/pspinlock.c,
	posix/src/pspintrylock.c, posix/src/pspinunlock.c,
	posix/src/pthreaddetach.c, posix/src/pthreadequal.c,
	posix/src/pthreadgetschedparam.c, posix/src/pthreadjoin.c,
	posix/src/pthreadkill.c, posix/src/pthreadsetschedparam.c,
	posix/src/ptimer1.c, posix/src/semaphorewaitsupp.c,
	posix/src/semclose.c, posix/src/semdestroy.c,
	posix/src/semgetvalue.c, posix/src/sempost.c, posix/src/types.c,
	rtems/src/barrierdelete.c, rtems/src/barrierrelease.c,
	rtems/src/barrierwait.c, rtems/src/dpmemdelete.c,
	rtems/src/dpmemexternal2internal.c,
	rtems/src/dpmeminternal2external.c, rtems/src/eventsend.c,
	rtems/src/eventtimeout.c, rtems/src/msgqbroadcast.c,
	rtems/src/msgqdelete.c, rtems/src/msgqflush.c,
	rtems/src/msgqgetnumberpending.c, rtems/src/msgqreceive.c,
	rtems/src/msgqsend.c, rtems/src/msgqurgent.c, rtems/src/partdelete.c,
	rtems/src/partgetbuffer.c, rtems/src/partreturnbuffer.c,
	rtems/src/ratemoncancel.c, rtems/src/ratemondelete.c,
	rtems/src/ratemongetstatistics.c, rtems/src/ratemongetstatus.c,
	rtems/src/ratemonperiod.c, rtems/src/ratemonresetstatistics.c,
	rtems/src/ratemontimeout.c, rtems/src/regiondelete.c,
	rtems/src/regionextend.c, rtems/src/regiongetfreeinfo.c,
	rtems/src/regiongetinfo.c, rtems/src/regiongetsegment.c,
	rtems/src/regiongetsegmentsize.c, rtems/src/regionresizesegment.c,
	rtems/src/regionreturnsegment.c, rtems/src/semdelete.c,
	rtems/src/semflush.c, rtems/src/semobtain.c, rtems/src/semrelease.c,
	rtems/src/signalsend.c, rtems/src/taskdelete.c,
	rtems/src/taskgetnote.c, rtems/src/taskissuspended.c,
	rtems/src/taskrestart.c, rtems/src/taskresume.c,
	rtems/src/tasksetnote.c, rtems/src/tasksetpriority.c,
	rtems/src/taskstart.c, rtems/src/tasksuspend.c,
	rtems/src/taskvariableadd.c, rtems/src/taskvariabledelete.c,
	rtems/src/taskvariableget.c, rtems/src/timercancel.c,
	rtems/src/timerdelete.c, rtems/src/timerfireafter.c,
	rtems/src/timerfirewhen.c, rtems/src/timergetinfo.c,
	rtems/src/timerreset.c, rtems/src/timerserverfireafter.c,
	rtems/src/timerserverfirewhen.c, sapi/src/extensiondelete.c,
	score/include/rtems/score/object.h, score/src/corerwlocktimeout.c,
	score/src/mpci.c, score/src/objectgetnameasstring.c,
	score/src/threaddelayended.c, score/src/threadqtimeout.c: When
	multiprocessing is disabled, do not even allow the constant
	OBJECTS_REMOTE to appear in the source. Even at -O2, the presence of
	a case OBJECTS_REMOTE in each id->pointer _Objects_Get switch results
	in the generation of binary code which can NOT be reached.

2007-10-26	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/Makefile.am, score/include/rtems/score/thread.h,
	score/inline/rtems/score/thread.inl: No longer inline _Thread_Get. It
	resulted in unnessary code explosion, many uncovered paths when
	looking at binary executable coverage, and only optimized getting
	self. Id translations were still getting pushed to a subroutine call
	to _Objects_Get. Later the non-inlined version can be further
	optimized to get Ids in range for the current API, then self, then
	look at other APIs.
	* score/src/threadget.c: New file.

2007-10-26	Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* libi2c/README-libi2c
	document structure of libi2c library 

2007-10-25	Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* libi2c/libi2c.c, libi2c/libi2c.h:
	extend API to support SPI devices
	made libi2c.h C++-proof

2007-10-19	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/src/assoc.c: Removed.  Accidentally included routine
	also in another file.  Mistake after splitting.
	* libcsupport/Makefile.am: Reflect file removal.

2007-10-15	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/netdb.h, libnetworking/libc/gethostnamadr.c,
	libnetworking/libc/getnetnamadr.c: Adjust to POSIX.
	Minor updates from FreeBSD.

2007-10-11	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/include/rtems/score/copyrt.h: Update year.

2007-10-11	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/include/rtems/score/copyrt.h: Update year.

2007-10-11	Daniel Hellstrom <daniel@gaisler.com>

	* libi2c/libi2c.c, libi2c/libi2c.h: Add message about needing IMFS.
	Fixed check of status when registering driver. Add use of strerror().

2007-10-04	Keith Robertson <kjrobert@alumni.uwaterloo.ca>,
	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/ifaddrs.h, libnetworking/libc/getifaddrs.c,
	libnetworking/libc/if_indextoname.c,
	libnetworking/libc/if_nameindex.c: New (from FreeBSD)
	* Makefile.am: Add files above.
	* libnetworking/net/if.h: Add if_nameindex (from FreeBSD).

2007-09-28	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/stackchk/check.c: Eliminate output with little information.
	Always print a blown message using the same routine. Now works with
	GNAT RTS -fstack-checking if you have patch for the RTEMS specific
	support in your GCC version.

2007-09-25	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/src/gxx_wrappers.c: Revert.

2007-09-25	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/src/gxx_wrappers.c, libmisc/monitor/mon-mpci.c: Use
	PRId32 to fix warning.

2007-09-25	Joel Sherrill <joel.sherrill@oarcorp.com>

	* telnetd/passwd.h: New file.

2007-09-25	Joel Sherrill <joel.sherrill@oarcorp.com>

	* telnetd/README, telnetd/pty.c, telnetd/pty.h, telnetd/telnetd.c,
	telnetd/telnetd.h: telnetd rewrite.
	* telnetd/check_passwd.c, telnetd/des.c, telnetd/genpw.c: New files.

2007-09-24	Joel Sherrill <joel.sherrill@oarcorp.com>

	PR 1262/filesystem
	* libcsupport/Makefile.am, libnetworking/libc/herror.c,
	libnetworking/libc/res_send.c, libnetworking/sys/uio.h,
	telnetd/Makefile.am, telnetd/README, telnetd/preinstall.am,
	telnetd/pty.c, telnetd/telnetd.c: Add support for readv() and
	writev() including documentation and test case.
	* libcsupport/src/readv.c, libcsupport/src/writev.c: New files.

2007-09-21	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libnetworking/Makefile.am: Add dummy socketpair() implementation to
	document what is required to provide a fully functional
	implementation.
	* libnetworking/rtems/rtems_socketpair.c: New file.

2007-09-21	Ralf Corsépius <ralf.corsepius@rtems.org>

	* aclocal/version.m4: Bump RTEMS_API to 4.9.
	Bump RTEMS_VERSION to 4.8.99.0.

2007-09-20	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/src/read.c, libcsupport/src/write.c: Fix spacing.

2007-09-17	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/src/semaphorecreatesupp.c: Fixed warning.

2007-09-17	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/dumpbuf/dumpbuf.c: Use printk.

2007-09-16	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/net/ppp_defs.h: Include rtems/stdint.h.
	Use uint32_t for ext_accm.

2007-09-16	Ralf Corsépius <ralf.corsepius@rtems.org>

	* pppd/auth.c, pppd/demand.c, pppd/ipcp.c, pppd/ipcp.h,
	pppd/lcp.c, pppd/lcp.h, pppd/magic.c, pppd/magic.h, pppd/options.c,
	pppd/pppd.h, pppd/sys-rtems.c, pppd/utils.c: Convert to using C99
	fixed-size types instead of BSD fixed-size types.

2007-09-14	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/stackchk/check.c: Fix alignment of output.

2007-09-14	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/monitor/monitor.h: Add network commands that were in the
	network supplement but not in the code.
	* libmisc/monitor/mon-network.c: New file.

2007-09-14	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1261/cpukit
	* posix/src/semaphorecreatesupp.c: Initialize all fields during
	semaphore creation.

2007-09-14	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1260/cpukit
	* posix/src/pthread.c: Get initial signals blocked from creating
	thread not from ourselves.

2007-09-14	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/src/watchdogtickle.c: Remove tabs.

2007-09-13	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1259/rtems
	* rtems/src/taskcreate.c: Initialize is_global in all cases since
	memory is not guaranteed to be zero.

2007-09-12  Sergei Organov  <osv@javad.com>

	PR 1258/rtems
	* cpukit/score/src/heapallocatealigned.c (block_allocate): New routine.
	* cpukit/score/src/heapallocatealigned.c (_Heap_Allocate_aligned):
	Use block_allocate() instead of _Heap_Block_allocate(). Replace
	_Heap_Head(the_heap)->next with equivalent _Heap_First(the_heap).
	* cpukit/score/src/heap.c (_Heap_Allocate): fix comments according
	to changed block split strategy in _Heap_Allocate_aligned().

2007-09-10	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/src/printk.c: Remove unnecessary comments.

2007-09-10	Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* libmisc/monitor/mon-monitor.c:
	Corrected linked list of rtems_monitor_commands

2007-09-07	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/src/malloc.c: If RTEMS_HEAP_DEBUG is defined, add heap
	walk on init, malloc, and free. The ability to walk the heap appears
	to disappeared during the rework of the C Program heap to skip the
	Region.

2007-09-07	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/src/heap.c: Style.
	* score/src/heapwalk.c: Add more information to prints.
	* score/src/pheapwalk.c: Do not lock allocator mutex if dispatching
	is disabled.

2007-09-06	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/Makefile.am, libcsupport/src/printk.c:
	* libcsupport/src/printk_plugin.c: New file.
	include/rtems/bspIo.h, libmisc/cpuuse/cpuusagereport.c,
	libmisc/cpuuse/cpuuse.h, libmisc/stackchk/check.c,
	libmisc/stackchk/stackchk.h: rtems/include/rtems/rtems/ratemon.h,
	rtems/src/ratemonreportstatistics.c: Added capability to specify
	your own "printf" routine to various reporting functions.  This
	added an XXX_with_plugin as the underlying implementation for
	  + rtems_rate_monotonic_report_statistics
	  + rtems_stack_checker_report_usage
	  + rtems_cpu_usage_report
	As demonstration, the http netdemo can now print out stack
	and cpu usage reports.

2007-09-06	Joel Sherrill <joel.sherrill@oarcorp.com>

	* shttpd/compat_rtems.c: Style clean up.

2007-09-06	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/src/ratemonperiod.c: Clean up.
	* rtems/src/ratemonreportstatistics.c: Clarify period statistics output.

2007-09-06	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/monitor/mon-monitor.c: Fix warnings and typo.

2007-09-05	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/untar/untar.c, libmisc/untar/untar.h: Clean up prototype.

2007-09-05	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/Makefile.am: Add new files.

2007-09-05	Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* libmisc/monitor/mon-object.c,	
	* libmisc/monitor/monitor.h, libmisc/monitor/mon-part.c, 
	* libmisc/monitor/mon-region.c, libmisc/monitor/mon-sema.c, 
	* libmisc/monitor/mon-task, libmisc/Makefile.am: 
	Added functionality for osmonweb support

2007-09-04	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/monitor/mon-monitor.c, libmisc/monitor/mon-object.c,
	libmisc/monitor/monitor.h: Merge minor parts of Thomas' improvements
	that are needed by osmonweb.

2007-09-04	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/untar/untar.c, libmisc/untar/untar.h: Add const to char *.
	Use printk.

2007-08-28	Joel Sherrill <joel.sherrill@OARcorp.com>

	* rtems/include/rtems/rtems/clock.h, score/src/threadhandler.c: Fix
	spacing and spelling.

2007-08-28	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1256/networking
	* ftpd/ftpd.c: Fix unaligned access.

2007-08-28	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/Makefile.am: Always build nanosleep.

2007-08-17	Chris Johns <chrisj@rtems.org>

	* libmisc/capture/README: Minor copyright change.
	* libmisc/capture/capture-cli.c, libmisc/capture/capture.c,
	libmisc/capture/capture.h: Fixed the memory leak when lots of
	tasks are being created and deleted. Improved the trigger
	interface so all task type actions can be caught.

2007-08-13	Chris Johns <chrisj@rtems.org>

	* score/include/rtems/score/object.h: Point the
	OBJECTS_RTEMS_CLASSES_LAST macro to the last entry.

2007-07-31	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1248/networking
	* libnetworking/rtems/rtems_glue.c: Luke Stras <luke@spacequest.com>
	reported that when no interfaces are successfully attached, the
	default route is broken and may result in a jump to an illegal
	address.

2007-07-31	Ralf Corsépius <ralf.corsepius@rtems.org>

	* score/inline/rtems/score/priority.inl: Use size_t instead of
	  uint32_t for array index.

2007-07-30	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/netinet/in_cksum_m68k.h: Use __mcoldfire__ to
	  identify coldfire cpus.

2007-07-30	Ralf Corsépius <ralf.corsepius@rtems.org>

	* shttpd/log.c: Activate SPLIT_SNPRINTF for gcc <= 4.2.1 and
	  coldfire.

2007-07-30	Ralf Corsépius <ralf.corsepius@rtems.org>

	* shttpd/log.c: Add preliminary version of SPLIT_SNPRINTF to
	  work-around bug m68k/coldfire -fomit-frame-pointer bug
	  http://gcc.gnu.org/bugzilla/show_bug.cgi?id=32307.

2007-07-27	Chris Johns <chrisj@rtems.org>

	* wrapup/Makefile.am: Create archive from a file for hosts
	with a limited command line size.

2007-07-26	Ralf Corsépius <ralf.corsepius@rtems.org>

	* include/rtems/bspIo.h, include/rtems/pci.h:
	Add extern "C" guards. Reported by
	Robert S. Grimes <rsg@alum.mit.edu>.

2007-07-24	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/cpuuse/cpuusagereport.c, libmisc/cpuuse/cpuusagereset.c,
	score/src/timespecdivide.c: Fix various math and reporting bugs. Now
	the time appears to be reported correctly and add up to what is
	expected.

2007-07-24	Ralf Corsépius <ralf.corsepius@rtems.org>

	* shttpd/Makefile.am: Prefix all non-public symbols with _shttp_.
	* shttpd/compat_rtems.c: Don't build my_stat for rtems.
	* shttpd/defs.h: Don't build most of my_* wrappers for rtems.

2007-07-18	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/Makefile.am, libmisc/cpuuse/cpuusagereport.c,
	libmisc/cpuuse/cpuusagereset.c: Fix bug where cpu usage calculation
	was always using uptime not time since last cpu usage reset when
	using nanoseconds granularity.
	* libmisc/cpuuse/cpuusagedata.c: New file.

2007-07-13	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/src/mount.c: Allow null for output parameter.

2007-07-12	Joel Sherrill <joel.sherrill@oarcorp.com>

	* shttpd/compat_rtems.c, shttpd/compat_rtems.h: Add port to listen on
	to shttpd initialization.

2007-07-11	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/src/malloc.c: Clean up Malloc debug code.
	* score/include/rtems/score/heap.h: Spacing.
	* score/inline/rtems/score/thread.inl:
	* score/src/heapfree.c. Clean up and add explicit check of the address
	being freed actually being in the heap.
	* score/src/heapwalk.c: Switch to printk and do not call abort.

2007-07-06	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/stackchk/check.c: Make checking the integrity of the pattern
	area contingent on the stack checker user extension having been
	initialized.

2007-06-21	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libnetworking/rtems/rtems_syscall.c: Remove RTEMS versions of send()
	and recv(). We already had the BSD versions and these conflict
	sometimes when linking.

2007-06-21	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libnetworking/rtems/mkrootfs.h, libnetworking/rtems/rtems_bsdnet.h,
	libnetworking/rtems/rtems_bsdnet_internal.h: Add extern __cplusplus.

2007-06-20	Joel Sherrill <joel.sherrill@OARcorp.com>

	* sapi/include/confdefs.h: Do not instantiate initialization
	thas/thread pointer tables for an API that is not configured.

2007-06-20	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/Makefile.am:
	* libcsupport/src/open_dev_console.c: New file.

2007-06-20	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/src/corerwlock.c: Make sure structure is fully initialized.
	When reused, some fields will not be zero like at initialization.

2007-06-20	Joel Sherrill <joel.sherrill@oarcorp.com>

	* sapi/include/confdefs.h: POSIX threads use twice the minimum stack
	size. Account for this.

2007-06-13	Joel Sherrill <joel.sherrill@OARcorp.com>

	* configure.ac: Add NDEBUG as a command line compilation option.

2007-06-12	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libmd/.cvsignore: New file.

2007-06-12	Ralf Corsépius <ralf.corsepius@rtems.org>

	* shttpd/defs.h: Eliminate my_strncasecmp.
	* shttpd/string.c: Eliminate my_strncasecmp.

2007-06-12	Ralf Corsépius <ralf.corsepius@rtems.org>

	* wrapup/Makefile.am: Pickup ../libmd/libmd.a.
	* pppd/Makefile.am: Reflect moving out md*.
	* pppd/md4.h, pppd/md4.c, pppd/md5.c, pppd/md5.h: Remove (moved to
	  libmd).
	* libmd/Makefile.am, libmd/md4.c, libmd/md4.h, libmd/md5.c, 
	libmd/md5.h, libmd/preinstall.am: New (moved out from pppd).
	* configure.ac, Makefile.am: Add libmd.

2007-06-12	Ralf Corsépius <ralf.corsepius@rtems.org>

	* shttpd/defs.h: Eliminate my_strlcpy.
	* shttpd/string.c: Eliminate my_strlcpy.

2007-06-12	Ralf Corsépius <ralf.corsepius@rtems.org>

	* shttpd/defs.h: Eliminate my_strdup, my_strndup.
	* shttpd/string.c: Eliminate my_strdup, my_strndup.
	* shttpd/Makefile.am: Add -DHAVE_MD5 to use md5 routines from
	  libmd.a.

2007-06-12	Ralf Corsépius <ralf.corsepius@rtems.org>

	* wrapup/Makefile.am: Add libmd.a.

2007-06-11	Ralf Corsépius <ralf.corsepius@rtems.org>

	* pppd/Makefile.am: Remove md5 and md4 from libpppd.a.
	  Add pppd/libmd.a.
	* pppd/md4.c: Don't include pppd.h.

2007-06-11	Ralf Corsépius <ralf.corsepius@rtems.org>

	* shttpd/shttpd.ico, shttpd/resources.rc: Remove (Unused).

2007-06-11	Ralf Corsépius <ralf.corsepius@rtems.org>

	* shttpd/Makefile.am: Conditionally build on LIBNETWORKING.
	* shttpd/compat_rtems.h: Include <arpa/inet.h>.
	Add config.h support.

2007-06-11	Ralf Corsépius <ralf.corsepius@rtems.org>

	* shttpd/compat_rtems.h: Define closesocket.

2007-06-11	Ralf Corsépius <ralf.corsepius@rtems.org>

	* shttpd/compat_rtems.h: Add IS_DIRSEP_CHAR.

2007-06-11	Ralf Corsépius <ralf.corsepius@rtems.org>
	* shttpd/compat_rtems.h, shttpd/compat_rtems.c:
	Use size_t for stack sizes.

2007-06-11	Ralf Corsépius <ralf.corsepius@rtems.org>

	* configure.ac, Makefile.am: Add shttpd.
	* shttpd/Makefile.am: New.
	* shttpd/auth.c, shttpd/cgi.c, shttpd/compat_rtems.c,
	shttpd/compat_rtems.h, shttpd/compat_unix.c, shttpd/compat_unix.h,
	shttpd/compat_win32.c, shttpd/compat_win32.h, shttpd/compat_wince.c,
	shttpd/compat_wince.h, shttpd/config.c, shttpd/defs.h,
	shttpd/io_cgi.c, shttpd/io_dir.c, shttpd/io_emb.c, shttpd/io_file.c,
	shttpd/io.h, shttpd/io_socket.c, shttpd/io_ssl.c, shttpd/llist.h,
	shttpd/log.c, shttpd/Makefile, shttpd/md5.c, shttpd/md5.h,
	shttpd/mime_type.c, shttpd/resources.rc, shttpd/shttpd.1,
	shttpd/shttpd.c, shttpd/shttpd.h, shttpd/shttpd.ico, shttpd/ssl.h,
	shttpd/standalone.c, shttpd/std_includes.h, shttpd/string.c: 
	Import from shttpd-1.37.tar.gz.

2007-06-11	Ralf Corsépius <ralf.corsepius@rtems.org>

	* configure.ac: Remove "pad" from CPU_CONTEXT.

2007-06-05	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/src/coremsg.c: Formatting.

2007-05-29	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/include/rtems/score/copyrt.h: Update copyright notice.

2007-05-29	Joel Sherrill <joel.sherrill@OARcorp.com>

	* sapi/Makefile.am, sapi/include/rtems/io.h, sapi/src/io.c: Split into
	one function per file execpt io.c which contains required
	initialization methods.
	* sapi/src/ioclose.c, sapi/src/iocontrol.c, sapi/src/iodata.c,
	sapi/src/ioinitialize.c, sapi/src/ioopen.c, sapi/src/ioread.c,
	sapi/src/ioregisterdriver.c, sapi/src/iounregisterdriver.c,
	sapi/src/iowrite.c: New files.

2007-05-29	Joel Sherrill <joel.sherrill@OARcorp.com>

	* sapi/include/confdefs.h, sapi/src/io.c: Readded code to copy driver
	table into Workspace but now it is only done if the application needs
	extra slots for dynamic driver registration. Cleaned up
	rtems_io_register_driver and rtems_io_unregister_driver code and
	added numerous error cases to register.

2007-05-28	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libmisc/Makefile.am, libmisc/monitor/mon-object.c,
	libmisc/monitor/monitor.h, sapi/include/confdefs.h,
	sapi/include/rtems/config.h, sapi/include/rtems/io.h,
	sapi/src/exinit.c, sapi/src/io.c: Eliminate maximum_drivers
	configuration parameter since it was used to configure a no longer
	used feature. Device names are now part of the filesystem not in a
	table. This also eliminated the variables _IO_Number_of_devices and
	_IO_Driver_name_table from RTEMS as well as the memory allocation
	used to populate _IO_Driver_name_table.
	* libmisc/monitor/mon-dname.c: Removed.

2007-05-23	Joel Sherrill <joel.sherrill@OARcorp.com>

	* sapi/include/confdefs.h: Add CONFIGURE_MESSAGE_BUFFER_MEMORY so there
	is less dependence on CONFIGURE_MEMORY_OVERHEAD. Do not arbitrarily
	add 1 to CONFIGURE_MEMORY_OVERHEAD so we do not waste a kilobyte for
	unused Workspace. Round the workspace required size to an 8 byte
	boundary instead of a 0x400 byte one. We may end up needing to add 8
	bytes again to account for the alignment rounding.

2007-05-23	Joel Sherrill <joel.sherrill@OARcorp.com>

	Yu Chen <chyyuu@gmail.com>
	* score/src/corespinlockwait.c: Per question posted as
	http://www.rtems.org/ml/rtems-users/2007/may/msg00180.html, changed
	logical operator to <=.

2007-05-22	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/cpu/arm/cpu.c, score/cpu/avr/cpu.c, score/cpu/bfin/cpu.c,
	score/cpu/c4x/cpu.c, score/cpu/h8300/cpu.c, score/cpu/i386/cpu.c,
	score/cpu/m68k/cpu.c, score/cpu/mips/cpu.c, score/cpu/nios2/cpu.c,
	score/cpu/no_cpu/cpu.c, score/cpu/sh/cpu.c, score/cpu/sparc/cpu.c,
	cpukit/sapi/src/exinit.c: Move copying of CPU Table to shared
	executive initialization.

2007-05-22	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/src/corerwlockrelease.c: Do not dereference NULL.

2007-05-21	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/Makefile.am, rtems/include/rtems/rtems/barrier.h,
	rtems/include/rtems/rtems/dpmem.h, rtems/include/rtems/rtems/event.h,
	rtems/include/rtems/rtems/message.h, rtems/include/rtems/rtems/part.h,
	rtems/include/rtems/rtems/ratemon.h, rtems/include/rtems/rtems/region.h,
	rtems/include/rtems/rtems/sem.h, rtems/include/rtems/rtems/tasks.h,
	rtems/include/rtems/rtems/timer.h, sapi/Makefile.am,
	sapi/include/rtems/extension.h: Split Classic API data instantiation
	into individual files. This reduces the size of the BSS section when
	an optional manager stub is used. Some tests showed about a 600 byte
	reduction in BSS size.
	* rtems/src/taskinitusers.c, sapi/src/rtemsapi.c, rtems/src/tasks.c:
	Eliminated the variables _RTEMS_tasks_User_initialization_tasks and
	_RTEMS_tasks_Number_of_initialization_tasks because they were only
	used in one place after initialized. It was a waste of space.
	* rtems/src/barrierdata.c, rtems/src/dpmem.c, rtems/src/dpmemdata.c,
	rtems/src/eventdata.c, rtems/src/msgdata.c, rtems/src/partdata.c,
	rtems/src/ratemondata.c, rtems/src/regiondata.c,
	rtems/src/rtemstimerdata.c, rtems/src/semdata.c, rtems/src/taskdata.c,
	sapi/src/extensiondata.c: New files.

2007-05-21	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/Makefile.am, libmisc/cpuuse/README: Split remaining CPU Usage
	functionality into multiple files to eliminate unnecessary cohesion.
	Update README.
	* libmisc/cpuuse/cpuusagereport.c, libmisc/cpuuse/cpuusagereset.c:
	New files.
	* libmisc/cpuuse/cpuuse.c: Removed.

2007-05-21	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/src/ratemonperiod.c: Fix math ordering bug which resulted in a
	negative value in some circumstances. Also cleaned up to share uptime
	declaration.

2007-05-17	Joel Sherrill <joel.sherrill@oarcorp.com>

	* ChangeLog, configure.ac, libcsupport/src/__times.c,
	libmisc/cpuuse/cpuuse.c, libmisc/stackchk/check.c,
	rtems/include/rtems/rtems/ratemon.h, rtems/src/ratemongetstatus.c,
	rtems/src/ratemonperiod.c, rtems/src/ratemonreportstatistics.c,
	rtems/src/ratemonresetall.c, rtems/src/ratemontimeout.c,
	score/Makefile.am, score/include/rtems/score/thread.h,
	score/include/rtems/score/timespec.h, score/src/threaddispatch.c,
	score/src/threadinitialize.c, score/src/threadtickletimeslice.c,
	score/src/timespecdivide.c: Add nanoseconds granularity to the rate
	monotonic period statistics and CPU usage statistics. This capability
	is enabled by default although may be conditionally disabled by the
	user. It could be too much overhead on small targets but it does not
	appear to be bad in early testing. Its impact on code size has not
	been evaluated either. It is possible that both forms of statistics
	gathering could be disabled with further tweaking of the conditional
	compilation.
	* score/src/timespecdividebyinteger.c: New file.

2007-05-16	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/cpuuse/cpuuse.c: Use rtems_object_get_name and eliminate
	functionally similar code here. Also cleanup print formats.

2007-05-16	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/src/objectgetnameasstring.c: Internal threads use string names
	so in the current RTEMS source string object name can NOT be
	disabled. It is probably worth considering converting the internal
	threads to uint32_t style names so all the support for string names
	can be conditionally disabled.

2007-05-16	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/Makefile.am, score/include/rtems/score/timespec.h: Add division
	and greater than operations for timespecs.
	* score/src/timespecdivide.c, score/src/timespecgreaterthan.c:
	New files.

2007-05-16	Ralf Corsépius <ralf.corsepius@rtems.org>

	* score/src/objectgetnameasstring.c: Remove bogus ifdef
	RTEMS_POSIX_API.

2007-05-15	Joel Sherrill <joel.sherrill@oarcorp.com>

	* Makefile.am, preinstall.am, libmisc/Makefile.am, rtems/Makefile.am,
	rtems/include/rtems.h, rtems/include/rtems/rtems/ratemon.h,
	rtems/inline/rtems/rtems/ratemon.inl, rtems/src/ratemoncancel.c,
	rtems/src/ratemoncreate.c, rtems/src/ratemondelete.c,
	rtems/src/ratemongetstatus.c, rtems/src/ratemonident.c,
	rtems/src/ratemonperiod.c, rtems/src/ratemontimeout.c,
	score/Makefile.am, score/include/rtems/score/object.h,
	score/src/threadhandler.c, wrapup/Makefile.am: Integrate Rate
	Monotonic Statistics and Period Usage into Rate Monotonic Manager.
	Added the following directives: rtems_rate_monotonic_get_statistics,
	rtems_rate_monotonic_reset_statistics,
	rtems_rate_monotonic_reset_all_statistics,
	rtems_rate_monotonic_report_statistics, and rtems_object_get_name.
	Obsoleted the rtems/rtmonuse.h file as a public interface.
	* rtems/src/ratemongetstatistics.c,
	rtems/src/ratemonreportstatistics.c, rtems/src/ratemonresetall.c,
	rtems/src/ratemonresetstatistics.c, rtems/src/rtemsobjectgetname.c,
	score/src/objectgetnameasstring.c: New files.
	* libmisc/rtmonuse/rtmonuse.c, libmisc/rtmonuse/rtmonuse.h: Removed.

2007-05-14	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/Makefile.am, libcsupport/src/unixlibc.c: Split off dummry
	rtems_io_register_name for use on unix.
	* libcsupport/src/unixlibc_io.c: New file.

2007-05-11	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/src/coremsgseize.c: A blocking sender's message size was
	pulled out of the wrong field in the Wait information structure.
	* score/src/objectallocate.c: With the new optional manager support,
	we only stub out the initialization. This makes it possible to attempt
	to create an object with the information structure only initialized
	with all zeros.  This ensures we return an error cleanly in this case.

2007-05-11	Joel Sherrill <joel.sherrill@OARcorp.com>

	* rtems/src/region.c, sapi/src/exinit.c: Now that the Region is
	an optional manager, we cannot depend on it do initialize the
	internal Allocator Mutex.  This was always a questionable place to
	do it, so this is a cleanup.

2007-05-11	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libmisc/cpuuse/cpuuse.c, libmisc/stackchk/check.c,
	libmisc/stackchk/stackchk.h: Clean up as side-effect of making them
	suitable for inclusion in the Users Guide.

2007-05-11	Joel Sherrill <joel.sherrill@oarcorp.com>

	* ChangeLog: Move all ChangeLog entries for 2006 and earlier to
	ChangeLog-pre2007.
	* ChangeLog-pre2007: New file.

2007-05-10	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1241/rtems
	* score/src/threadchangepriority.c, score/src/threadqrequeue.c: Close
	critical section window added with requeueing support.

2007-05-10	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libcsupport/include/rtems/cdefs.h,
	  libcsupport/include/sys/cdefs.h: Remove.
	* Makefile.am: Remove libcsupport/include/sys/cdefs.h.
	* libcsupport/Makefile.am: Remove include/rtems/cdefs.h.
	* include/rtems/bsd/sys/queue.h, libcsupport/include/sys/ioccom.h,
	libnetworking/netdb.h, libnetworking/resolv.h,
	libnetworking/arpa/inet.h, libnetworking/arpa/nameser.h,
	libnetworking/libc/gethostbydns.c, libnetworking/libc/res_stubs.c,
	libnetworking/machine/in_cksum.h, libnetworking/net/ethernet.h,
	libnetworking/net/if.h, libnetworking/net/if_dl.h,
	libnetworking/netinet/ip.h, libnetworking/netinet/tcp.h,
	libnetworking/rtems/rtems_bsdnet_internal.h,
	libnetworking/sys/libkern.h, libnetworking/sys/mount.h,
	libnetworking/sys/poll.h, libnetworking/sys/socket.h,
	libnetworking/sys/sysctl.h, libnetworking/sys/syslog.h,
	libnetworking/sys/uio.h, libnetworking/sys/un.h,
	librpc/include/rpc/auth.h, librpc/include/rpc/auth_unix.h,
	librpc/include/rpc/clnt.h, librpc/include/rpc/clnt_soc.h,
	librpc/include/rpc/pmap_clnt.h, librpc/include/rpc/pmap_prot.h,
	librpc/include/rpc/pmap_rmt.h, librpc/include/rpc/svc.h,
	librpc/include/rpc/svc_soc.h, librpc/include/rpc/xdr.h,
	librpc/include/rpcsvc/ypclnt.h, librpc/include/rpc/rpc_com.h:
	Include <rtems/bsd/sys/cdefs.h> instead of <sys/cdefs.h>.

2007-05-10	Ralf Corsépius <ralf.corsepius@rtems.org>

	* Makefile.am: Reflect introduction of
	  include/rtems/bsd/sys/cdefs.h.
	* include/rtems/bsd/sys/cdefs.h: New.

2007-05-10	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/Makefile.am: Reflect having removed sys/queue.h.
	* libnetworking/sys/queue.h: Remove.

2007-05-10	Ralf Corsépius <ralf.corsepius@rtems.org>

	* librpc/src/xdr/xdr_float.c: Include <rtems/endian.h> instead of
	<machine/endian.h>.
	* libnetworking/rtems/rtems_showroute.c, 
	libnetworking/rtems/rtems_showipstat.c,
	libnetworking/rtems/rtems_showtcpstat.c,
	libnetworking/rtems/rtems_showicmpstat.c,
	libnetworking/rtems/rtems_showmbuf.c,
	libnetworking/rtems/rtems_showudpstat.c,
	libnetworking/rtems/rtems_showifstat.c, libnetworking/net/if.c,
	libnetworking/net/raw_cb.c, libnetworking/net/route.c,
	libnetworking/net/rtsock.c, libnetworking/net/raw_usrreq.c,
	libnetworking/netinet/tcp_usrreq.c,
	libnetworking/netinet/tcp_timer.c, libnetworking/netinet/if_ether.c,
	libnetworking/netinet/tcp_debug.c, libnetworking/netinet/ip_fw.c,
	libnetworking/netinet/ip_output.c,
	libnetworking/netinet/ip_mroute.c, libnetworking/netinet/in_proto.c,
	libnetworking/netinet/udp_usrreq.c,
	libnetworking/netinet/tcp_output.c,
	libnetworking/netinet/tcp_subr.c, libnetworking/netinet/tcp_input.c,
	libnetworking/netinet/in_rmx.c, libnetworking/netinet/in_pcb.c,
	libnetworking/netinet/raw_ip.c, libnetworking/netinet/ip_divert.c,
	libnetworking/netinet/in.c, libnetworking/kern/uipc_socket2.c,
	libnetworking/kern/kern_sysctl.c, libnetworking/kern/uipc_socket.c,
	libnetworking/kern/kern_subr.c: Include <rtems/bsd/sys/queue.h>
	instead of <sys/queue.h>.
	* libnetworking/sys/socketvar.h, libnetworking/sys/mount.h,
	libnetworking/sys/sysctl.h, libnetworking/net/raw_cb.h, 
	libnetworking/net/if.h, libnetworking/net/if_media.h,
	libnetworking/net/if_var.h, libnetworking/netinet/in_var.h,
	libnetworking/netinet/in_pcb.h: Include <rtems/bsd/sys/queue.h>
	instead of <sys/queue.h>.
	* Makefile.am: Reflect addition of include/rtems/bsd/sys/queue.h.
	* include/rtems/bsd/sys/queue.h: New (Copied from
	  libnetworking/sys/queue.h).

2007-05-09	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/include/rtems/libcsupport.h, libcsupport/src/newlibc.c,
	sapi/Makefile.am, sapi/include/confdefs.h, sapi/src/exinit.c,
	score/Makefile.am, score/preinstall.am,
	score/include/rtems/score/userext.h, score/src/chain.c,
	score/src/userext.c: Switch to newlib reentrancy extension being
	installed in the initial set instead of using rtems_extension_create.
	While implementing this, noticed that user extensions and chain code
	had multiple functions in a single file which is not desirable in the
	SuperCore and API portions of RTEMS, so split these into multiple
	files with one function per file. Also noticed that some of user
	extension code was inlined for no particular reason so moved that to
	C bodies.  Split executive shutdown from initialization since not
	every application shuts down.  Moved __fini call to executive shutdown
	to be more symmetrical with where it is called at startup. 
	* sapi/src/exshutdown.c, score/src/chainappend.c,
	score/src/chainextract.c, score/src/chainget.c,
	score/src/chaininsert.c, score/src/userextaddapiset.c,
	score/src/userextaddset.c, score/src/userextremoveset.c,
	score/src/userextthreadbegin.c, score/src/userextthreadcreate.c,
	score/src/userextthreaddelete.c, score/src/userextthreadrestart.c,
	score/src/userextthreadstart.c, score/src/userextthreadswitch.c: New
	files.
	* score/inline/rtems/score/userext.inl: Removed.

2007-05-09	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/src/error.c, sapi/include/rtems/config.h: Do not
	reference _Configuration_MP_table if multiprocessing is disabled.

2007-05-09	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libmisc/monitor/mon-monitor.c, libmisc/monitor/mon-server.c: Do not
	reference _Configuration_MP_table if multiprocessing is disabled.

2007-05-09	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/machine/endian.h: Remove.
	* libnetworking/Makefile.am: Remove machine/endian.h.
	* libnetworking/arpa/nameser_compat.h, libnetworking/netinet/in.h,
	libnetworking/rtems/rtems_bsdnet_internal.h: Include
	<rtems/endian.h> instead of <machine/endian.h>.
	* Makefile.am: Add include/rtems/endian.h.
	* include/rtems/endian.h: New (Copied from
	  libnetworking/machine/endian.h).

2007-05-09	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libcsupport/src/readdir.c, libnetworking/net/slcompress.c,
	pppd/md4.h, pppd/md5.h, pppd/pppd.h,
	score/cpu/m68k/rtems/score/m68k.h: Include <rtems/stdint.h> instead
	of <stdint.h>.
	* libnetworking/machine/endian.h: Remove
	  CPU_HAS_OWN_HOST_TO_NETWORK_ROUTINES.
	* NEWS: new.

2007-05-09	Ralf Corsépius <ralf.corsepius@rtems.org>

	PR 1243
	* pppd/auth.c (set_allowed_addrs): Remove bogus dereference. 

2007-05-08	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/machine/endian.h: Convert htons, htonl, ntohs, ntohl
	to inline functions, using uint[16,32]_t. 
	* libnetworking/netdb.h: Change netent->n_net to uint32_t to comply
	with SUSv3.
	* telnetd/icmds.c: Add HAVE_CONFIG_H magic.
	* rtems/src/regionprocessqueue.c, score/src/heapresizeblock.c
	score/src/threadqrequeue.c, ftpd/ftpd.c, libblock/src/show_bdbuf.c:
	Add HAVE_CONFIG_H magic.
	* libnetworking/libc/gethostbydns.c, 
	libnetworking/libc/inet_net_ntop.c,
	libnetworking/libc/inet_pton.c: Eliminate __P.
	* librpc/src/rpc/rtime.c: Use uint32_t instead of unsigned long for
	return value of ntohl (POSIX requirement). 
	Use UINT32_C macros to avoid overflows on 16bit targets.
	Eliminate __P.
	* configure.ac: Check for working PRIxPTR.

2007-05-08	Ralf Corsépius <ralf.corsepius@rtems.org>

	* score/include/rtems/score/thread.h, score/inline/rtems/score/stack.inl
	score/src/threadinitialize.c, score/src/threadstackallocate.c:
	Use size_t for stack sizes.

2007-05-03	Joel Sherrill <joel@OARcorp.com>

	* ChangeLog, libcsupport/src/malloc.c,
	libcsupport/src/mallocfreespace.c, sapi/include/confdefs.h,
	score/Makefile.am, score/preinstall.am: malloc never blocks so the
	Region Manager is quite heavy for implementing this. This patch
	implements the C Program Heap directly in terms of the new Protected
	Heap handler. This handler is a direct use of a SuperCore Heap in
	conjunction with the Allocator Mutex used internally by RTEMS. This
	saves 3184 bytes on most SPARC test executables.
	* score/include/rtems/score/protectedheap.h, score/src/pheapallocate.c,
	score/src/pheapallocatealigned.c, score/src/pheapextend.c,
	score/src/pheapfree.c, score/src/pheapgetblocksize.c,
	score/src/pheapgetfreeinfo.c, score/src/pheapgetinfo.c,
	score/src/pheapinit.c, score/src/pheapresizeblock.c,
	score/src/pheapwalk.c: New files.

2007-05-03	Joel Sherrill <joel@OARcorp.com>

	* libcsupport/src/rmdir.c: Fixed spacing.
	* libcsupport/Makefile.am, libcsupport/src/newlibc.c: Split _exit from
	newlibc.c. It is not required for minimum executing and drops 624
	from SPARC minimum executable.
	* libcsupport/src/newlibc_exit.c: New file.

2007-04-17	Joel Sherrill <joel@OARcorp.com>

	* itron/Makefile.am, itron/src/eventflags.c, itron/src/fmempool.c,
	itron/src/itronintr.c, itron/src/itrontime.c, itron/src/network.c,
	itron/src/port.c, itron/src/sysmgmt.c, itron/src/task.c,
	itron/src/vmempool.c, posix/Makefile.am, posix/src/pthread.c,
	rtems/src/taskinitusers.c, rtems/src/tasks.c,
	sapi/include/confdefs.h, sapi/src/io.c: Various modification to
	reduce executable size. Most were refactoring of files. Split ITRON
	API files. Implemented mechanism to avoid initialization task/thread
	loop being linked in when that style of task initialization was not
	being used.
	* itron/src/acp_por.c, itron/src/act_cyc.c, itron/src/cal_por.c,
	itron/src/chg_iXX.c, itron/src/clr_flg.c, itron/src/cre_flg.c,
	itron/src/cre_mpf.c, itron/src/cre_mpl.c, itron/src/cre_por.c,
	itron/src/def_alm.c, itron/src/def_cyc.c, itron/src/def_exc.c,
	itron/src/def_int.c, itron/src/def_svc.c, itron/src/del_flg.c,
	itron/src/del_mpf.c, itron/src/del_mpl.c, itron/src/del_por.c,
	itron/src/dis_int.c, itron/src/dly_tsk.c, itron/src/ena_int.c,
	itron/src/fwd_por.c, itron/src/get_blf.c, itron/src/get_blk.c,
	itron/src/get_tim.c, itron/src/get_ver.c, itron/src/itroninittasks.c,
	itron/src/loc_cpu.c, itron/src/nget_nod.c, itron/src/nget_ver.c,
	itron/src/nrea_dat.c, itron/src/nwri_dat.c, itron/src/pacp_por.c,
	itron/src/pcal_por.c, itron/src/pget_blf.c, itron/src/pget_blk.c,
	itron/src/pol_flg.c, itron/src/ref_alm.c, itron/src/ref_cfg.c,
	itron/src/ref_cyc.c, itron/src/ref_flg.c, itron/src/ref_iXX.c,
	itron/src/ref_mpf.c, itron/src/ref_mpl.c, itron/src/ref_por.c,
	itron/src/ref_sys.c, itron/src/rel_blf.c, itron/src/rel_blk.c,
	itron/src/ret_int.c, itron/src/ret_tmr.c, itron/src/ret_wup.c,
	itron/src/rpl_rdv.c, itron/src/set_flg.c, itron/src/set_tim.c,
	itron/src/tacp_por.c, itron/src/tcal_por.c, itron/src/tget_blf.c,
	itron/src/tget_blk.c, itron/src/twai_flg.c, itron/src/unl_cpu.c,
	itron/src/wai_flg.c, posix/src/pthreadinitthreads.c: New files.

2007-04-17	Ralf Corsépius <ralf.corsepius@rtems.org>

	* score/include/rtems/score/thread.h: 
	  Use Context_Control_fp* instead of void* for fp_contexts.

2007-04-16	Joel Sherrill <joel@OARcorp.com>

	PR 1240/filesystem
	* libfs/src/imfs/imfs_rmnod.c: Fix link when removing a symlink. Memory
	for filename was not being freed.

2007-04-16	Ralf Corsépius <ralf.corsepius@rtems.org>

	* pppd/utils.c: Use uintptr_t instead of unsigned long.

2007-04-16	Joel Sherrill <joel@OARcorp.com>

	* itron/src/rsm_tsk.c: Correct error returned.

2007-04-14	Ralf Corsépius <ralf.corsepius@rtems.org>

	* configure.ac: Redefine LIBPOSIX to !UNIX.
	* posix/src/usleep.c, libcsupport/src/readlink.c:
	Update API to SUSv3.

2007-04-13	Ralf Corsépius <ralf.corsepius@rtems.org>

	* posix/Makefile.am: Unconditionally build src/sleep.c,
	  src/usleep.c.
	* posix/src/clockgettime.c: #ifdef CLOCK_MONOTONIC the
	  CLOCK_MONOTONIC case.
	* score/inline/rtems/score/tod.inl: Include <sys/time.h>.

2007-04-13	Ralf Corsépius <ralf.corsepius@rtems.org>

	* posix/Makefile.am: Cosmetics.
	* configure.ac: Add AM_CONDITIONAL(HAS_PTHREADS).
	* httpd/Makefile.am: Use HAS_PTHREADS instead of LIBPOSIX.

2007-04-13	Ralf Corsépius <ralf.corsepius@rtems.org>

	* posix/Makefile.am, wrapup/Makefile.am, configure.ac: Rename
	  AM_CONDITIONAL(HAS_POSIX) into LIBPOSIX.
	* posix/src/clockgettime.c, posix/src/clocksettime.c: Don't include 
	  rtems/posix/time.h.
	* posix/src/nanosleep.c: Include rtems/score/timespec.h instead of
	  rtems/posix/time.h.
	* score/include/rtems/score/object.h: Use size_t for byte sizes.

2007-04-12	Joel Sherrill <joel@OARcorp.com>

	* itron/src/rsm_tsk.c: Correct error returned.

2007-04-09	Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* include/rtems/pci.h: Added device ID for MOTOROLA_HAWK

2007-04-09	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libcsupport/src/newlibc.c: Add __ATTRIBUTE_IMPURE_PTR__ 
	(Fixes "relocation truncated to fit: R_MIPS_GPREL16" against
	_impure_ptr bug).
	Fix abuse of _REENT_INIT().

2007-04-05	Joel Sherrill <joel@OARcorp.com>

	* itron/src/itrontime.c: Fix typo.
	* score/include/rtems/score/tod.h: Add TOD_TICKS_PER_SECOND macro.
	* score/src/iterateoverthreads.c: Safely take NULL as argument.
	* score/src/threaddispatch.c: Formatting.

2007-04-05	Joel Sherrill <joel@OARcorp.com>

	* posix/Makefile.am: Fix formatting.

2007-04-05	Joel Sherrill <joel@OARcorp.com>

	* posix/Makefile.am, posix/include/rtems/posix/time.h,
	posix/src/adjtime.c, posix/src/alarm.c, posix/src/clockgetres.c,
	posix/src/condtimedwait.c, posix/src/mqueuetimedreceive.c,
	posix/src/mqueuetimedsend.c, posix/src/mutextimedlock.c,
	posix/src/nanosleep.c, posix/src/posixtimespecabsolutetimeout.c,
	posix/src/pthread.c, posix/src/pthreadcreate.c,
	posix/src/pthreadsetschedparam.c, posix/src/ptimer1.c,
	posix/src/sched.c, posix/src/semtimedwait.c,
	posix/src/sigtimedwait.c, posix/src/ualarm.c,
	rtems/src/clocktodtoseconds.c, score/Makefile.am,
	score/preinstall.am, score/include/rtems/score/tod.h,
	score/inline/rtems/score/tod.inl, score/src/coretod.c,
	score/src/coretodget.c, score/src/coretodgetuptime.c,
	score/src/coretodset.c, score/src/coretodtickle.c: Provide timespec
	manipulation routines in the SuperCore. Use them everywhere possible.
	This lead to significant cleanup in the API routines and eliminated
	some of the same code from the POSIX API. At this point, the
	SuperCore keeps time in POSIX timespec format properly from 1970. You
	just cannot set it before 1988 in keeping with RTEMS traditional
	behavior.
	* score/include/rtems/score/timespec.h, score/src/timespecaddto.c,
	score/src/timespecfromticks.c, score/src/timespecisvalid.c,
	score/src/timespeclessthan.c, score/src/timespecsubtract.c,
	score/src/timespectoticks.c: New files.
	* posix/src/posixintervaltotimespec.c,
	posix/src/posixtimespecsubtract.c,
	posix/src/posixtimespectointerval.c: Removed.

2007-04-04	Joel Sherrill <joel@OARcorp.com>

	* score/Makefile.am, score/include/rtems/score/tod.h,
	score/inline/rtems/score/tod.inl: Make _TOD_Tickle_ticks a real
	non-inlined routine. It should only be used once so there is little
	advantage to inlining it.
	* score/src/coretodtickle.c: New file.

2007-04-02	Joel Sherrill <joel@OARcorp.com>

	* posix/Makefile.am, score/src/objectgetnoprotection.c: Eliminate some
	dead code.
	* posix/src/time.c: Removed.

2007-04-02	Joel Sherrill <joel@OARcorp.com>

	* posix/include/rtems/posix/timer.h, posix/src/alarm.c,
	posix/src/posixtimespectointerval.c, posix/src/ptimer1.c,
	posix/src/sysconf.c, posix/src/ualarm.c, rtems/src/clockget.c,
	rtems/src/clocktodvalidate.c, score/include/rtems/score/tod.h,
	score/inline/rtems/score/tod.inl, score/src/coretod.c: Eliminate
	TOD_Ticks_per_second variable.

2007-04-02	Joel Sherrill <joel@OARcorp.com>

	* itron/src/itrontime.c, libcsupport/src/__gettod.c,
	posix/include/rtems/posix/time.h, posix/include/rtems/posix/timer.h,
	posix/src/clockgettime.c, posix/src/clocksettime.c,
	posix/src/nanosleep.c, posix/src/posixtimespecsubtract.c,
	posix/src/posixtimespectointerval.c, posix/src/ptimer1.c,
	posix/src/sleep.c, rtems/Makefile.am,
	rtems/include/rtems/rtems/clock.h, rtems/include/rtems/rtems/timer.h,
	rtems/include/rtems/rtems/types.h, rtems/src/clockget.c,
	rtems/src/clockset.c, rtems/src/clocktodtoseconds.c,
	rtems/src/clocktodvalidate.c, rtems/src/taskwakewhen.c,
	score/Makefile.am, score/include/rtems/score/tod.h,
	score/inline/rtems/score/tod.inl, score/src/coretod.c,
	score/src/coretodset.c: Convert from Classic API style TOD_Control as
	fundamental time structure to POSIX struct timespec. Add
	clock_get_uptime().
	* rtems/src/clockgetuptime.c, score/src/coretodget.c,
	score/src/coretodgetuptime.c: New files.
	* score/src/coretodtickle.c, score/src/coretodtoseconds.c,
	score/src/coretodvalidate.c: Removed.

2007-04-02	Joel Sherrill <joel@OARcorp.com>

	* libcsupport/src/printk.c: Add %p support.

2007-04-02	Joel Sherrill <joel@OARcorp.com>

	* libmisc/stackchk/check.c: Add code to check validity of frame pointer
	in addition to the pattern area being overwritten. Also do some
	cleanup.

2007-03-31	Ralf Corsépius <ralf.corsepius@rtems.org>

	* include/rtems/pci.h: Further stdint.h fixed-size types.

2007-03-30	Ralf Corsépius <ralf.corsepius@rtems.org>

	* include/rtems/pci.h: Use stdint.h fixed size-types.

2007-03-30	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/Makefile.am: Move libc/send.c to libc_a_SOURCES.
	* libnetworking/Makefile.am: Move libc/recv.c to libc_a_SOURCES.
	* libnetworking/Makefile.am: Move libc/res_config.h to
	  libc_a_SOURCES (File is being used).
	* libnetworking/libc/iso_addr.c, libnetworking/libc/iso_addr.3:
	Remove (Unused).
	* libnetworking/Makefile.am: Remove libc/iso_addr.c, libc/iso_addr.3.
	* libnetworking/net/ppp-deflate.c, libnetworking/net/bsd-comp.c:
	Remove (Unused).
	* libnetworking/Makefile.am: Remove net/ppp-deflate.c, net/bsd-comp.c.

2007-03-30	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/libc/addr2ascii.c, libnetworking/libc/ascii2addr.c,
	libnetworking/libc/base64.c, libnetworking/libc/ether_addr.c,
	libnetworking/libc/gethostbydns.c, libnetworking/libc/gethostbyht.c,
	libnetworking/libc/gethostbynis.c,
	libnetworking/libc/gethostnamadr.c,
	libnetworking/libc/gethostname.c, libnetworking/libc/getnetbydns.c,
	libnetworking/libc/getnetbyht.c, libnetworking/libc/getnetbynis.c,
	libnetworking/libc/getnetnamadr.c, libnetworking/libc/getproto.c,
	libnetworking/libc/getprotoent.c, libnetworking/libc/getprotoname.c,
	libnetworking/libc/getservbyname.c,
	libnetworking/libc/getservbyport.c, libnetworking/libc/getservent.c,
	libnetworking/libc/herror.c, libnetworking/libc/inet_addr.c,
	libnetworking/libc/inet_lnaof.c, libnetworking/libc/inet_makeaddr.c,
	libnetworking/libc/inet_net_ntop.c,
	libnetworking/libc/inet_net_pton.c, libnetworking/libc/inet_neta.c,
	libnetworking/libc/inet_netof.c, libnetworking/libc/inet_network.c,
	libnetworking/libc/inet_ntoa.c, libnetworking/libc/inet_ntop.c,
	libnetworking/libc/inet_pton.c, libnetworking/libc/iso_addr.c,
	libnetworking/libc/linkaddr.c, libnetworking/libc/map_v4v6.c,
	libnetworking/libc/ns_addr.c, libnetworking/libc/ns_name.c,
	libnetworking/libc/ns_netint.c, libnetworking/libc/ns_ntoa.c,
	libnetworking/libc/ns_parse.c, libnetworking/libc/ns_print.c,
	libnetworking/libc/ns_ttl.c, libnetworking/libc/nsap_addr.c,
	libnetworking/libc/rcmd.c, libnetworking/libc/recv.c,
	libnetworking/libc/res_comp.c, libnetworking/libc/res_data.c,
	libnetworking/libc/res_debug.c, libnetworking/libc/res_init.c,
	libnetworking/libc/res_mkquery.c, libnetworking/libc/res_mkupdate.c,
	libnetworking/libc/res_query.c, libnetworking/libc/res_send.c,
	libnetworking/libc/res_stubs.c, libnetworking/libc/res_update.c,
	libnetworking/libc/send.c, libnetworking/libc/strsep.c: Eliminate
	SCCS, LINT. Add HAVE_CONFIG_H.
	* libcsupport/src/__assert.c: Add HAVE_CONFIG_H.

2007-03-29	Ralf Corsépius <ralf.corsepius@rtems.org>

	* rtems/include/rtems/rtems/tasks.h: Change rtems_task_argument to
	  uintptr_t.

2007-03-29	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/netinet/ip_icmp.c, libnetworking/netinet/ip_input.c,
	libnetworking/netinet/ip_output.c: Further _IP_VHL removal preps.

2007-03-29	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/netinet/ip.h: Add FreeBSD's alignment macros.
	* libnetworking/net/netisr.h: Partial update from FreeBSD.
	* libcsupport/src/getpwent.c: Remove bogus cast to long.
	* libnetworking/libc/strsep.c: Don't build if provided by libc.
	* libnetworking/libc/rcmd.c: Eliminate __P(). Cosmetics.
	* libnetworking/sys/select.h: Remove selrecord, selwakeup (Unused).
	* libnetworking/netinet/ip_output.c: Preps to eliminate _IP_VHL
	(Abandoned in FreeBSD). Misc mergers from upstream FreeBSD.
	* libnetworking/netinet/ip_input.c: Preps to eliminate _IP_VHL
	(Abandoned in FreeBSD). Misc mergers from upstream FreeBSD.
	* libnetworking/netinet/ip_icmp.c: Preps to eliminate _IP_VHL
	(Abandoned in FreeBSD).
	* libnetworking/netinet/tcp_subr.c: Preps to eliminate _IP_VHL
	(Abandoned in FreeBSD).
	* libnetworking/netinet/raw_ip.c: Preps to eliminate _IP_VHL
	(Abandoned in FreeBSD).
	* libnetworking/netinet/ip_output.c: Partial update from FreeBSD.
	* libnetworking/netinet/ip_fw.c: Eliminate __P().

2007-03-28	Chris Johns <chrisj@rtems.org>

	* rtems/Makefile.am, rtems/include/rtems/rtems/clock.h,
	score/include/rtems/score/watchdog.h: Add support for a handler to
	obtain the number of nanoseconds since the last clock tick. The
	primary interface for this is rtems_clock_set_nanoseconds_extension.
	Subsequent commits from Joel will redo the TOD support to use this
	capability.
	* rtems/src/clocksetnsecshandler.c: New file.

2007-03-28	Joel Sherrill <joel@OARcorp.com>

	PR 1234/cpukit
	* libcsupport/Makefile.am: Provide printk() based implementation of
	__assert() to reduce dependencies in executables.
	* libcsupport/src/__assert.c: New file.

2007-03-28	Ralf Corsépius <ralf.corsepius@rtems.org>

	* librpc/src/rpc/clnt_tcp.c (clnttcp_create): 
	Use uintptr_t for "disrupt". Remove bogus (long) cast.
	* libnetworking/net/ppp-comp.h: Remove (Unused).
	* libnetworking/Makefile.am: Remove net/ppp-comp.h.
	* libnetworking/sys/buf.h: Remove (Unused).
	* libnetworking/Makefile.am: Remove sys/buf.h.
	* libnetworking/kern/kern_sysctl.c,
	libnetworking/kern/uipc_socket2.c: Include <sys/queue.h> instead of
	<sys/buf.h>.
	*  libcsupport/include/sys/sockio.h: Partial update from
	  FreeBSD.

2007-03-28	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/netinet/ip_output.c: Use uint32_t optlen.
	* libnetworking/netinet/igmp.c: Eliminate __P().
	* libnetworking/netinet/in.c: Eliminate __P().
	* libnetworking/netinet/tcp_subr.c: Eliminate __P().
	* libnetworking/netinet/in_pcb.c: Eliminate __P().
	* libnetworking/netinet/ip_output.c: Eliminate __P().

2007-03-28	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/sys/protosw.h (pr_usrreqs.pru_attach, 
	pr_usrreqs.pru_control, pr_usrreqs.pru_rcvd, pr_usrreqs.pru_rcvoob):
	Change int args to intptr_t because they are casted to pointers.
	* libnetworking/netinet/tcp_usrreq.c, 
	libnetworking/kern/uipc_socket2.c: Reflect changes to sys/protosw.h.

2007-03-28	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/rtems/rtems_glue.c: Cast to intptr_t instead of
	"long", because long is not guaranteed to be castable to char*.
	* libnetworking/netinet/ip_input.c: Eliminate __P().
	Change "int next" to "int32_t next" for 16bit targets.
	* libnetworking/netinet/tcp_input.c: Eliminate __P().
	* libnetworking/netinet/in_rmx.c: Eliminate __P().
	* libnetworking/netinet/tcp_usrreq.c: Eliminate __P().
	* libnetworking/netinet/udp_usrreq.c: Eliminate __P().
	* libnetworking/nfs/bootp_subr.c: Eliminate __P().
	* libnetworking/rtems/rtems_bsdnet_internal.h: Eliminate __P().
	* libnetworking/kern/uipc_domain.c: Eliminate __P().

2007-03-28	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/net/pppcompress.h, libnetworking/net/pppcompress.c:
	Remove (Abandoned in FreeBSD).
	* libnetworking/Makefile.am: Remove net/pppcompress.c,
	net/pppcompress.h.
	* libnetworking/net/if_ppp.c: Use net/slcompress.h instead of
	net/pppcompress.h.
	* libnetworking/net/slcompress.h: Cosmetics from FreeBSD.
	* libnetworking/net/ppp_tty.c: Use net/slcompress.h instead of
	net/pppcompress.h.

2007-03-28	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/net/pppcompress.h: Eliminate __P().
	* libnetworking/net/if_pppvar.h: Cosmetics from FreeBSD.
	* libnetworking/net/if_llc.h: Update from FreeBSD.

2007-03-27	Ralf Corsépius <ralf.corsepius@rtems.org>

	* pppd/ccp.c, pppd/options.c: Include <net/ppp_comp.h> instead of
	  <net/ppp-comp.h>.
	* libnetworking/net/ppp-comp.h: Include <net/ppp_comp.h>.
	Warn about using it.
	* libnetworking/Makefile.am: Add net/ppp_comp.h.
	* libnetworking/net/ppp_comp.h: New (copy of ppp-comp.h).
	* libnetworking/net/ppp-comp.h: Eliminate __P(). Cosmetics from
	  FreeBSD.
	* libnetworking/machine/in_cksum.h: Eliminate __P().
	* pppd/auth.c, pppd/cbcp.c, pppd/ccp.c, pppd/chap.c,
	pppd/chap_ms.c, pppd/chat.c, pppd/demand.c, pppd/fsm.c,
	pppd/ipcp.c, pppd/lcp.c, pppd/options.c, pppd/rtemsmain.c,
	pppd/sys-rtems.c, pppd/upap.c, pppd/utils.c:
	Eliminate __P().
	* libcsupport/src/scandir.c: Eliminate __P().
	* pppd/chap.h, pppd/chap_ms.h, pppd/fsm.h, pppd/ipcp.h,
	pppd/lcp.h, pppd/magic.h, pppd/md4.h, pppd/pppd.h, pppd/upap.h:
	Eliminate __P().
	* libnetworking/netinet/ip_mroute.c: Eliminate __P().
	* libnetworking/netinet/ip_mroute.h: Partial update from FreeBSD.
	* libnetworking/net/raw_cb.c: Sync with FreeBSD.

2007-03-26	Joel Sherrill <joel@OARcorp.com>

	PR 1231/cpukit
	* posix/src/adasupp.c, posix/src/clockgetcpuclockid.c,
	posix/src/clockgetenableattr.c, posix/src/clockgetres.c,
	posix/src/clockgettime.c, posix/src/clocksetenableattr.c,
	posix/src/mutex.c, posix/src/mutexattrdestroy.c,
	posix/src/mutexattrgetprioceiling.c,
	posix/src/mutexattrgetprotocol.c, posix/src/mutexattrgetpshared.c,
	posix/src/mutexattrinit.c, posix/src/mutexattrsetprioceiling.c,
	posix/src/mutexattrsetprotocol.c, posix/src/mutexattrsetpshared.c,
	posix/src/mutexdefaultattributes.c, posix/src/mutexdestroy.c,
	posix/src/mutexgetprioceiling.c, posix/src/mutexlock.c,
	posix/src/mutexlocksupp.c, posix/src/mutexmp.c,
	posix/src/mutexsetprioceiling.c, posix/src/mutextimedlock.c,
	posix/src/mutextrylock.c, posix/src/mutexunlock.c,
	posix/src/nanosleep.c, posix/src/posixintervaltotimespec.c,
	posix/src/posixtimespecsubtract.c,
	posix/src/posixtimespectointerval.c,
	posix/src/psignalclearprocesssignals.c,
	posix/src/psignalclearsignals.c,
	posix/src/psignalsetprocesssignals.c,
	posix/src/psignalunblockthread.c, posix/src/ptimer.c,
	posix/src/ptimer1.c, posix/src/sched.c, posix/src/time.c: Remove
	unneeded includes of assert.h

2007-03-26	Joel Sherrill <joel@OARcorp.com>

	* libcsupport/include/rtems/assoc.h: Pick up the include file
	changes associated with the file splitting.

2007-03-26	Joel Sherrill <joel@OARcorp.com>

	* libcsupport/Makefile.am: Pick up the Makefile changes associated
	with the file splitting.

2007-03-26	Joel Sherrill <joel@OARcorp.com>

	* libcsupport/src/assoc.c, libcsupport/src/libio.c, 
	libcsupport/src/write.c: Split files to shrink minimum.exe. Hopefully
	this will not be deemed necessary to commit to the 4.7 branch.
	* libcsupport/src/assoclocalbyname.c,
	libcsupport/src/assoclocalbyremote.c,
	libcsupport/src/assoclocalbyremotebitfield.c,
	libcsupport/src/assocnamebylocal.c,
	libcsupport/src/assocnamebylocalbitfield.c,
	libcsupport/src/assocnamebyremote.c,
	libcsupport/src/assocnamebyremotebitfield.c,
	libcsupport/src/assocptrbylocal.c, libcsupport/src/assocptrbyname.c,
	libcsupport/src/assocptrbyremote.c,
	libcsupport/src/assocremotebylocal.c,
	libcsupport/src/assocremotebylocalbitfield.c,
	libcsupport/src/assocremotebyname.c, libcsupport/src/libio_init.c,
	libcsupport/src/write_r.c: New files.

2007-03-26	Joel Sherrill <joel@OARcorp.com>

	* libcsupport/src/__gettod.c: Replace incorrect comment about timezone
	support and remove deadcode. Replace with comment explaining that
	behavior is compatible with GNU/Linux per Eric Norum.

2007-03-26	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/net/ppp_defs.h, libnetworking/net/if_ppp.h:
	Partial update from FreeBSD.
	* libnetworking/netinet/if_ether.h: Eliminate __P().
	* libnetworking/netinet/ip_var.h: Eliminate __P().
	* libnetworking/netinet/in.h: Eliminate __P().
	* libnetworking/netinet/tcp_var.h: Eliminate __P().

2007-03-25	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/netinet/udp_var.h: Cosmetics from FreeBSD.
	Remove __P();
	* libnetworking/netinet/in_pcb.h: More partial updates from FreeBSD.

2007-03-25	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/netinet/in_var.h: Remove __P().
	* libnetworking/netinet/in_systm.h: Remove __P().
	* libnetworking/netinet/in_pcb.h: Partial updates from FreeBSD.
	* libnetworking/sys/socketvar.h: Cosmetics from FreeBSD.
	* libnetworking/netinet/if_ether.c: Remove __P().
	* libnetworking/net/raw_cb.h, libnetworking/net/raw_usrreq.c:
	More updates from FreeBSD.
	* libnetworking/net/raw_cb.h, libnetworking/net/raw_usrreq.c,
	libnetworking/net/route.h: Partial update from FreeBSD.

2007-03-24	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/Makefile.am: Remove nfs/krpc.h.
	* libnetworking/nfs/krpc.h: Remove (Unused).
	* libnetworking/kern/kern_subr.c: Remove #ifdef'ed vax code.
	* libnetworking/Makefile.am: Remove nfs/nfs.h.
	* libnetworking/nfs/nfs.h: Remove (Unused).

2007-03-19	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/sys/buf.h: Remove unused/non-implemented bsd kernel
	  symbols.
	* libnetworking/sys/conf.h: Don't include machine/conf.h.
	Update copyright notice.
	Remove unused/non-implemented declarations.
	* libnetworking/Makefile.am: Remove machine/conf.h.
	* libnetworking/machine/conf.h: Remove.

2007-03-19	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/sys/systm.h: Update copyright notice from FreeBSD.
	Remove many non-supported/unused declarations.

2007-03-18	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/sys/ucred.h: Remove crcopy, crdup, crfree, crget,
	  crhold (Unused/non-implemented).

2007-03-18	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/sys/ucred.h: Remove __P().
	* libnetworking/sys/callout.h: Remove __P().
	* libnetworking/sys/domain.h: Remove __P().
	* libnetworking/sys/socketvar.h: Remove __P().
	* libnetworking/sys/socket.h: Remove __P().
	* libnetworking/sys/select.h: Remove __P().
	* libnetworking/sys/kernel.h: Remove __P().
	* libnetworking/sys/protosw.h: Remove __P().
	* libnetworking/sys/conf.h: Remove bdevsw, cdevsw, swdevt (Unused).
	* libnetworking/sys/systm.h: Remove nblkdev, nchrdev,
	swdevt, nswdev, nswap (Unused).

2007-03-18	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/sys/conf.h: Remove non-implemented/unused symbols.
	* libnetworking/net/ppp_tty.c: Use struct rtems_termios_linesw
	instead of struct linesw (PR 1229)
	* libnetworking/sys/systm.h: Comment out copyin/copyout to work
	around clash with defines from rtems_bsdnet_internal.h.
	* score/src/heapwalk.c: include stdlib.h.

2007-03-17	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/sys/buf.h, libnetworking/sys/conf.h:
	Remove __P().
	* libnetworking/net/if.h, libnetworking/net/if_ppp.h,
	libnetworking/sys/signalvar.h, libnetworking/sys/systm.h:
	Remove __P().
	* libcsupport/include/rtems/termiostypes.h,
	libcsupport/src/termios.c: Prefix linesw, struct linesw, nwlinesw
	with rtems_termios_*.
	* libnetworking/sys/conf.h: Remove linesw, struct linesw, nlinesw.
	(Clash with termiostypes.h - PR 1229).

2007-03-16	Ralf Corsépius <ralf.corsepius@rtems.org>

	* score/include/rtems/score/wkspace.h,
	score/inline/rtems/score/wkspace.inl, score/src/wkspace.c:
	Change _Workspace_Handler_initialization and 
	_Workspace_Allocate_or_fatal_error to using size_t.
	* libnetworking/sys/rtprio.h: Remove (Unused).
	* libnetworking/Makefile.am: Remove sys/rtprio.h.

2007-03-14	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/sys/mbuf.h, libnetworking/sys/rtprio.h:
	Remove __P().

2007-03-13	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libcsupport/src/assocnamebad.c: Remove dead code. Use PRI* macros
	  to fix warnings.
	* score/include/rtems/score/stack.h: Use size_t for stack sizes.
	* score/include/rtems/score/chain.h, score/src/chain.c:
	Change _Chain_Initialize to using size_t.

2007-03-12	Joel Sherrill <joel@OARcorp.com>

	* libmisc/dumpbuf/dumpbuf.c, libmisc/dumpbuf/dumpbuf.h: Rename
	Dump_Buffer to rtems_print_buffer.

2007-03-12	Joel Sherrill <joel@OARcorp.com>

	* score/src/heapallocatealigned.c, score/src/threadqrequeue.c: Correct
	license URL and/or fix mistake in copyright notice. Both of these
	mistakes appear to be from code submitted after these changes were
	made previously.

2007-03-10	Joel Sherrill <joel@OARcorp.com>

	PR 1226/cpukit
	* sapi/include/confdefs.h: CONFIGURE_HAS_OWN_MULTIPROCESSING_TABLE not
	CONFIGURE_HAS_OWN_MULTIPROCESING_TABLE.

2007-03-08	Joel Sherrill <joel@OARcorp.com>

	* libfs/src/imfs/imfs.h: Fix comment.

2007-03-08	Joel Sherrill <joel@OARcorp.com>

	* libfs/src/imfs/imfs.h: Fix comment.

2007-03-08	Joel Sherrill <joel@OARcorp.com>

	* libmisc/stackchk/check.c, libmisc/stackchk/internal.h,
	libmisc/stackchk/stackchk.h: Change dump usage to report usage.

2007-03-08	Joel Sherrill <joel@OARcorp.com>

	* rtems/Makefile.am, rtems/src/msgqsend.c, rtems/src/msgqurgent.c:
	Remove wrapper for message queue send and urgent and implement them
	directly. There was an unnecessary function call layer in addition to
	conditions in the shared routine. Directly coding both directives is
	simpler and should result in smaller code.
	* rtems/src/msgqsubmit.c: Removed.

2007-03-05	Joel Sherrill <joel@OARcorp.com>

	PR 1222/cpukit
	* score/Makefile.am, score/include/rtems/score/coremutex.h,
	score/include/rtems/score/threadq.h,
	score/inline/rtems/score/coremutex.inl, score/src/coremsgsubmit.c,
	score/src/coremutexsurrender.c, score/src/threadchangepriority.c,
	score/src/threadclearstate.c, score/src/threadhandler.c,
	score/src/threadinitialize.c, score/src/threadqdequeuefifo.c,
	score/src/threadqdequeuepriority.c, score/src/threadqenqueue.c,
	score/src/threadqenqueuefifo.c, score/src/threadqenqueuepriority.c,
	score/src/threadqextractfifo.c, score/src/threadqextractpriority.c,
	score/src/threadsetstate.c: Enhance so that when the prioirity of a
	thread that is blocked on a priority based thread queue is changed,
	that its placement in the queue is reevaluated based upon the new
	priority. This enhancement includes modifications to the SuperCore as
	well as new test cases.
	* score/src/threadqrequeue.c: New file.

2007-03-05	Joel Sherrill <joel@OARcorp.com>

	* sapi/src/exinit.c: Fix spacing.

2007-03-05	Joel Sherrill <joel@OARcorp.com>

	PR 1221/cpukit
	* posix/src/pthreadequal.c: Fix critical section nesting.

2007-02-22	Ralf Corsepius <ralf.corsepius@rtems.org>

	* libcsupport/Makefile.am: Move getpagesize.c to newlib-only
	  compiled files.

2007-02-21	Ralf Corsepius <ralf.corsepius@rtems.org>

	* wrapup/Makefile.am: Use MKDIR_P instead of mkdir_p.

2007-02-16	Ralf Corsepius <ralf.corsepius@rtems.org>

	* score/Makefile.am: Remove macros/README.

2007-02-11	Ralf Corsepius <ralf.corsepius@rtems.org>

	* score/include/rtems/score/heap.h, score/src/heap.c,
	score/src/heapallocatealigned.c, score/src/heapresizeblock.c:
	More size_t for heap-sizes.
	* score/include/rtems/score/heap.h, score/src/heap.c,
	score/src/heapallocate.c, score/src/heapextend.c: Use size_t for
	heap-sizes.
	* libnetworking/resolv.h: Typo fixes. Remove __P().

2007-02-09	Ralf Corsepius <ralf.corsepius@rtems.org>

	* rtems/include/rtems/rtems/tasks.h, rtems/src/taskcreate.c:
	Use size_t for stack-sizes.

2007-02-07	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/vm/vm_extern.h: Remove non-implemented/unused
	  functions.
	* configure.ac: Check for intmax_t, uintptr_t, intptr_t,
	pthread.h, pthread_rwlock_t, pthread_barrier_t, pthread_spinlock_t.

2007-02-06	Till Straumann <strauman@slac.stanford.edu>

	* libcsupport/src/gxx_wrappers.c: fix PR#690. Supply
	taskvar dtor to plug memory leak. Applied patch attached
	to PR#690.

2007-02-06	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libcsupport/src/getpagesize.c: New (moved from posix/src).
	* posix/src/getpagesize.c: Removed.
	* posix/Makefile.am: Remove references to getpagesize.c.
	* libcsupport/Makefile.am: Add getpagesize.c.

2007-02-06	Ralf Corsépius <ralf.corsepius@rtems.org>

	* posix/src/sysconf.c: Add support for _SC_PAGESIZE (PR 1215).
	* posix/src/mqueuesendsupp.c: Remove cast to make broken const cast
	  visible.
	* score/inline/rtems/score/coremsg.inl: More size_t and consts.

2007-02-06	Ralf Corsépius <ralf.corsepius@rtems.org>

	* rtems/src/msgqsend.c: Use size_t for sizes.
	* rtems/src/msgqurgent.c: Use size_t for sizes.
	* rtems/src/msgqbroadcast.c: Use size_t for sizes.
	* rtems/src/msgmp.c: Use size_t for sizes.
	* rtems/src/msgqsubmit.c: Use size_t for sizes.
	* rtems/include/rtems/rtems/msgmp.h: Use size_t for sizes.
	* rtems/include/rtems/rtems/message.h: Use size_t for sizes.
	* score/inline/rtems/score/coremsg.inl: Use size_t for sizes.

2007-02-06	Ralf Corsépius <ralf.corsepius@rtems.org>

	* itron/src/trcv_mbf.c: Use size_t for sizes.
	* libmisc/monitor/mon-object.c: Use size_t for sizes.
	* libmisc/monitor/mon-server.c: Use size_t for sizes.
	* libmisc/monitor/monitor.h: Use size_t for sizes.
	* libmisc/mw-fb/mw_uid.c: Use size_t for sizes.
	* rtems/include/rtems/rtems/message.h: Use size_t for sizes.
	* rtems/src/msgqreceive.c: Use size_t for sizes.
	* posix/src/mqueuerecvsupp.c: Use size_t for sizes.
	* score/src/coremsgseize.c: Use size_t for sizes.

2007-02-05	Ralf Corsépius <ralf.corsepius@rtems.org>

	* posix/include/rtems/posix/mqueue.h: Use size_t for sizes.
	* posix/src/mqueuesendsupp.c: Use size_t for sizes.
	* score/include/rtems/score/coremsg.h: Use size_t for sizes.
	* score/src/coremsgbroadcast.c: Use size_t for sizes.
	* score/src/coremsgsubmit.c: Use size_t for sizes.

2007-01-30	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libblock/src/show_bdbuf.c: Use inttypes.h macros.

2007-01-29	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmisc/mw-fb/mw_fb.h: Eliminate __u32, __u16.

2007-01-28	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/libc/gethostbyht.c: Remove warning on unused vars.
	Remove isblank (supposed to be provided by libc).

2007-01-27	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libblock/src/show_bdbuf.c: Convert from DOS to UNIX.

2007-01-27	Ralf Corsépius <ralf.corsepius@rtems.org>

	* score/include/rtems/system.h: Remove __RTEMS_MAJOR__,
	 __RTEMS_MINOR__, __RTEMS_REVISION__ (moved to cpuopt.h).
	* configure.ac: Dynamically derive __ __RTEMS_MAJOR__,
	__RTEMS_MINOR__, __RTEMS_REVISION__ from _RTEMS_VERSION.
	Add __RTEMS_MAJOR__, __RTEMS_MINOR__,__RTEMS_REVISION__ to cpuopt.h.

2007-01-26	Ralf Corsépius <ralf.corsepius@rtems.org>

	* score/include/rtems/system.h:
	#define __RTEMS_MINOR__ 7 (BZ 1206).

2007-01-20      Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* libblock/src/bdbuf.c, libblock/include/bdbuf.h: 
	export some internal variables to make them available in
	"show_bdbuf" monitor add-on

2007-01-16	Till Straumann <strauman@slac.stanford.edu>

	* libnetworking/rtems/rtems_mii_ioctl.c,
	libnetworking/rtems/rtems_mii_ioctl.h,
	libnetworking/rtems/rtems_mii_ioctl_kern.c,
	libi2c/libi2c.c, libi2c/libi2c.h:
	Added SLAC/Stanford Authorship Note / Copyright + Liability Disclaimer.

2007-01-09	Joel Sherrill <joel@OARcorp.com>

	* libcsupport/src/error.c: rtems_progname is no longer defined in
	the BSP startup since it never held a meaningful value.

2007-01-02	Ralf Corsépius <ralf.corsepius@rtems.org>

	* posix/include/aio.h: s/aoi_lio_opcode/aio_lio_opcode/ 
	(BZ 1203).
